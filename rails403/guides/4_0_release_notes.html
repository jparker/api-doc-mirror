<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Ruby on Rails 4.0 Release Notes â€” Ruby on Rails Guides</title>
<link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />

<link rel="stylesheet" type="text/css" href="stylesheets/fixes.css" />

<link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>
<body class="guide">
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">More at <a href="http://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        More Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="http://rubyonrails.org/">Overview</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/download">Download</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/deploy">Deploy</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">Code</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/screencasts">Screencasts</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/documentation">Documentation</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/ecosystem">Ecosystem</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/community">Community</a></li>
        <li class="more-info"><a href="http://weblog.rubyonrails.org/">Blog</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Return to home page">Guides.rubyonrails.org</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-index guides-index-large">
          <a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu" class="guides-index-item nav-item">Guides Index</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
              <dl class="L">
                <dt>Start Here</dt>
                <dd><a href="getting_started.html">Getting Started with Rails</a></dd>
                <dt>Models</dt>
                <dd><a href="active_record_basics.html">Active Record Basics</a></dd>
                <dd><a href="migrations.html">Rails Database Migrations</a></dd>
                <dd><a href="active_record_validations.html">Active Record Validations</a></dd>
                <dd><a href="active_record_callbacks.html">Active Record Callbacks</a></dd>
                <dd><a href="association_basics.html">Active Record Associations</a></dd>
                <dd><a href="active_record_querying.html">Active Record Query Interface</a></dd>
                <dt>Views</dt>
                <dd><a href="layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                <dd><a href="form_helpers.html">Action View Form Helpers</a></dd>
                <dt>Controllers</dt>
                <dd><a href="action_controller_overview.html">Action Controller Overview</a></dd>
                <dd><a href="routing.html">Rails Routing from the Outside In</a></dd>
              </dl>
              <dl class="R">
                <dt>Digging Deeper</dt>
                <dd><a href="active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                <dd><a href="i18n.html">Rails Internationalization API</a></dd>
                <dd><a href="action_mailer_basics.html">Action Mailer Basics</a></dd>
                <dd><a href="security.html">Securing Rails Applications</a></dd>
                <dd><a href="debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                <dd><a href="configuring.html">Configuring Rails Applications</a></dd>
                <dd><a href="command_line.html">Rails Command Line Tools and Rake Tasks</a></dd>
                <dd><a href="asset_pipeline.html">Asset Pipeline</a></dd>
                <dd><a href="working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                <dt>Extending Rails</dt>
                <dd><a href="rails_on_rack.html">Rails on Rack</a></dd>
                <dd><a href="generators.html">Creating and Customizing Rails Generators</a></dd>
                <dt>Contributing to Ruby on Rails</dt>
                <dd><a href="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                <dd><a href="api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                <dd><a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                <dt>Maintenance Policy</dt>
                <dd><a href="maintenance_policy.html">Maintenance Policy</a></dd>
                <dt>Release Notes</dt>
                <dd><a href="4_0_release_notes.html">Ruby on Rails 4.0 Release Notes</a></dd>
                <dd><a href="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes</a></dd>
                <dd><a href="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes</a></dd>
                <dd><a href="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</a></dd>
                <dd><a href="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</a></dd>
                <dd><a href="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</a></dd>
              </dl>
          </div>
        </li>
        <li><a class="nav-item" href="contributing_to_ruby_on_rails.html">Contribute</a></li>
        <li><a class="nav-item" href="credits.html">Credits</a></li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">Guides Index</option>
              <optgroup label="Start Here">
                  <option value="getting_started.html">Getting Started with Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="migrations.html">Rails Database Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Digging Deeper">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="i18n.html">Rails Internationalization API</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">Rails Command Line Tools and Rake Tasks</option>
                  <option value="asset_pipeline.html">Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
              </optgroup>
              <optgroup label="Extending Rails">
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators</option>
              </optgroup>
              <optgroup label="Contributing to Ruby on Rails">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Maintenance Policy">
                  <option value="maintenance_policy.html">Maintenance Policy</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="4_0_release_notes.html">Ruby on Rails 4.0 Release Notes</option>
                  <option value="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes</option>
                  <option value="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes</option>
                  <option value="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</option>
                  <option value="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</option>
                  <option value="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</option>
              </optgroup>
          </select>
        </li>
      </ul>
      </div>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>Ruby on Rails 4.0 Release Notes</h2><p>Highlights in Rails 4.0:</p>
<ul>
<li>Ruby 2.0 preferred; 1.9.3+ required</li>
<li>Strong Parameters</li>
<li>Turbolinks</li>
<li>Russian Doll Caching</li>
</ul>
<p>These release notes cover only the major changes. To know about various bug fixes and changes, please refer to the change logs or check out the <a href="https://github.com/rails/rails/commits/master">list of commits</a> in the main Rails repository on GitHub.</p>

                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><ol class="chapters">
<li><a href="#upgrading-to-rails-4-0">Upgrading to Rails 4.0</a></li>
<li>
<a href="#creating-a-rails-4-0-application">Creating a Rails 4.0 application</a>

<ul>
<li><a href="#vendoring-gems">Vendoring Gems</a></li>
<li><a href="#living-on-the-edge">Living on the Edge</a></li>
</ul>
</li>
<li><a href="#major-features">Major Features</a></li>
<li><a href="#extraction-of-features-to-gems">Extraction of features to gems</a></li>
<li><a href="#documentation">Documentation</a></li>
<li>
<a href="#railties">Railties</a>

<ul>
<li><a href="#railties-notable-changes">Notable changes</a></li>
<li><a href="#railties-deprecations">Deprecations</a></li>
</ul>
</li>
<li>
<a href="#action-mailer">Action Mailer</a>

<ul>
<li><a href="#action-mailer-notable-changes">Notable changes</a></li>
<li><a href="#action-mailer-deprecations">Deprecations</a></li>
</ul>
</li>
<li>
<a href="#active-model">Active Model</a>

<ul>
<li><a href="#active-model-notable-changes">Notable changes</a></li>
<li><a href="#active-model-deprecations">Deprecations</a></li>
</ul>
</li>
<li>
<a href="#active-support">Active Support</a>

<ul>
<li><a href="#active-support-notable-changes">Notable changes</a></li>
<li><a href="#active-support-deprecations">Deprecations</a></li>
</ul>
</li>
<li>
<a href="#action-pack">Action Pack</a>

<ul>
<li><a href="#action-pack-notable-changes">Notable changes</a></li>
<li><a href="#action-pack-deprecations">Deprecations</a></li>
</ul>
</li>
<li>
<a href="#active-record">Active Record</a>

<ul>
<li><a href="#active-record-notable-changes">Notable changes</a></li>
<li><a href="#active-record-deprecations">Deprecations</a></li>
</ul>
</li>
<li><a href="#credits">Credits</a></li>
</ol></body></html>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h3 id="upgrading-to-rails-4-0">1 Upgrading to Rails 4.0</h3>
<p>If you're upgrading an existing application, it's a great idea to have good test coverage before going in. You should also first upgrade to Rails 3.2 in case you haven't and make sure your application still runs as expected before attempting an update to Rails 4.0. A list of things to watch out for when upgrading is available in the <a href="upgrading_ruby_on_rails.html#upgrading-from-rails-3-2-to-rails-4-0">Upgrading to Rails</a> guide.</p>
<h3 id="creating-a-rails-4-0-application">2 Creating a Rails 4.0 application</h3>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
 You should have the 'rails' RubyGem installed
$ rails new myapp
$ cd myapp

</pre>
</div>
<h4 id="vendoring-gems">2.1 Vendoring Gems</h4>
<p>Rails now uses a <code>Gemfile</code> in the application root to determine the gems you require for your application to start. This <code>Gemfile</code> is processed by the <a href="https://github.com/carlhuda/bundler">Bundler</a> gem, which then installs all your dependencies. It can even install all the dependencies locally to your application so that it doesn't depend on the system gems.</p>
<p>More information: <a href="http://gembundler.com">Bundler homepage</a></p>
<h4 id="living-on-the-edge">2.2 Living on the Edge</h4>
<p><code>Bundler</code> and <code>Gemfile</code> makes freezing your Rails application easy as pie with the new dedicated <code>bundle</code> command. If you want to bundle straight from the Git repository, you can pass the <code>--edge</code> flag:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ rails new myapp --edge

</pre>
</div>
<p>If you have a local checkout of the Rails repository and want to generate an application using that, you can pass the <code>--dev</code> flag:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ ruby /path/to/rails/railties/bin/rails new myapp --dev

</pre>
</div>
<h3 id="major-features">3 Major Features</h3>
<div class="todo"><p>Give a list and then talk about each of them briefly. We can point to relevant code commits or documentation from these sections.</p></div>
<p><a href="http://guides.rubyonrails.org/images/rails4_features.png"><img src="images/rails4_features.png" alt="Rails 4.0"></a></p>
<h3 id="extraction-of-features-to-gems">4 Extraction of features to gems</h3>
<p>In Rails 4.0, several features have been extracted into gems. You can simply add the extracted gems to your <code>Gemfile</code> to bring the functionality back.</p>
<ul>
<li>Hash-based &amp; Dynamic finder methods (<a href="https://github.com/rails/activerecord-deprecated_finders">GitHub</a>)</li>
<li>Mass assignment protection in Active Record models (<a href="https://github.com/rails/protected_attributes">GitHub</a>, <a href="https://github.com/rails/rails/pull/7251">Pull Request</a>)</li>
<li>ActiveRecord::SessionStore (<a href="https://github.com/rails/activerecord-session_store">GitHub</a>, <a href="https://github.com/rails/rails/pull/7436">Pull Request</a>)</li>
<li>Active Record Observers (<a href="https://github.com/rails/rails-observers">GitHub</a>, <a href="https://github.com/rails/rails/commit/39e85b3b90c58449164673909a6f1893cba290b2">Commit</a>)</li>
<li>Active Resource (<a href="https://github.com/rails/activeresource">GitHub</a>, <a href="https://github.com/rails/rails/pull/572">Pull Request</a>, <a href="http://yetimedia.tumblr.com/post/35233051627/activeresource-is-dead-long-live-activeresource">Blog</a>)</li>
<li>Action Caching (<a href="https://github.com/rails/actionpack-action_caching">GitHub</a>, <a href="https://github.com/rails/rails/pull/7833">Pull Request</a>)</li>
<li>Page Caching (<a href="https://github.com/rails/actionpack-page_caching">GitHub</a>, <a href="https://github.com/rails/rails/pull/7833">Pull Request</a>)</li>
<li>Sprockets (<a href="https://github.com/rails/sprockets-rails">GitHub</a>)</li>
<li>Performance tests (<a href="https://github.com/rails/rails-perftest">GitHub</a>, <a href="https://github.com/rails/rails/pull/8876">Pull Request</a>)</li>
</ul>
<h3 id="documentation">5 Documentation</h3>
<ul>
<li><p>Guides are rewritten in GitHub Flavored Markdown.</p></li>
<li><p>Guides have a responsive design.</p></li>
</ul>
<h3 id="railties">6 Railties</h3>
<p>Please refer to the <a href="https://github.com/rails/rails/blob/master/railties/CHANGELOG.md">Changelog</a> for detailed changes.</p>
<h4 id="railties-notable-changes">6.1 Notable changes</h4>
<ul>
<li><p>  New test locations <code>test/models</code>, <code>test/helpers</code>, <code>test/controllers</code>, and <code>test/mailers</code>. Corresponding rake tasks added as well. (<a href="https://github.com/rails/rails/pull/7878">Pull Request</a>)</p></li>
<li><p>Your app's executables now live in the <code>bin/</code> dir. Run <code>rake rails:update:bin</code> to get <code>bin/bundle</code>, <code>bin/rails</code>, and <code>bin/rake</code>.</p></li>
<li><p>Threadsafe on by default</p></li>
<li><p>Ability to use a custom builder by passing <code>--builder</code> (or <code>-b</code>) to
<code>rails new</code> has been removed. Consider using application templates
instead. (<a href="https://github.com/rails/rails/pull/9401">Pull Request</a>)</p></li>
</ul>
<h4 id="railties-deprecations">6.2 Deprecations</h4>
<ul>
<li><p><code>config.threadsafe!</code> is deprecated in favor of <code>config.eager_load</code> which provides a more fine grained control on what is eager loaded.</p></li>
<li><p><code>Rails::Plugin</code> has gone. Instead of adding plugins to <code>vendor/plugins</code> use gems or bundler with path or git dependencies.</p></li>
</ul>
<h3 id="action-mailer">7 Action Mailer</h3>
<p>Please refer to the <a href="https://github.com/rails/rails/blob/master/actionmailer/CHANGELOG.md">Changelog</a> for detailed changes.</p>
<h4 id="action-mailer-notable-changes">7.1 Notable changes</h4>
<h4 id="action-mailer-deprecations">7.2 Deprecations</h4>
<h3 id="active-model">8 Active Model</h3>
<p>Please refer to the <a href="https://github.com/rails/rails/blob/master/activemodel/CHANGELOG.md">Changelog</a> for detailed changes.</p>
<h4 id="active-model-notable-changes">8.1 Notable changes</h4>
<ul>
<li><p>  Add <code>ActiveModel::ForbiddenAttributesProtection</code>, a simple module to protect attributes from mass assignment when non-permitted attributes are passed.</p></li>
<li><p>  Added <code>ActiveModel::Model</code>, a mixin to make Ruby objects work with
Action Pack out of box.</p></li>
</ul>
<h4 id="active-model-deprecations">8.2 Deprecations</h4>
<h3 id="active-support">9 Active Support</h3>
<p>Please refer to the <a href="https://github.com/rails/rails/blob/master/activesupport/CHANGELOG.md">Changelog</a> for detailed changes.</p>
<h4 id="active-support-notable-changes">9.1 Notable changes</h4>
<ul>
<li><p>  Replace deprecated <code>memcache-client</code> gem with <code>dalli</code> in ActiveSupport::Cache::MemCacheStore.</p></li>
<li><p>  Optimize ActiveSupport::Cache::Entry to reduce memory and processing overhead.</p></li>
<li><p>  Inflections can now be defined per locale. <code>singularize</code> and <code>pluralize</code> accept locale as an extra argument.</p></li>
<li><p>  <code>Object#try</code> will now return nil instead of raise a NoMethodError if the receiving object does not implement the method, but you can still get the old behavior by using the new <code>Object#try!</code>.</p></li>
<li><p><code>String#to_date</code> now raises <code>Argument Error: invalid date</code> instead of <code>NoMethodError: undefined method 'div' for nil:NilClass</code>
when given an invalid date. It is now the same as <code>Date.parse</code>, and it accepts more invalid dates than 3.x, such as:</p></li>
</ul>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
  # ActiveSupport 3.x
  "asdf".to_date # =&gt; NoMethodError: undefined method `div' for nil:NilClass
  "333".to_date # =&gt; NoMethodError: undefined method `div' for nil:NilClass

  # ActiveSupport 4
  "asdf".to_date # =&gt; ArgumentError: invalid date
  "333".to_date # =&gt; Fri, 29 Nov 2013

</pre>
</div>
<h4 id="active-support-deprecations">9.2 Deprecations</h4>
<ul>
<li><p>  Deprecate <code>ActiveSupport::TestCase#pending</code> method, use <code>skip</code> from MiniTest instead.</p></li>
<li><p>  <code>ActiveSupport::Benchmarkable#silence</code> has been deprecated due to its lack of thread safety. It will be removed without replacement in Rails 4.1.</p></li>
<li><p>  <code>ActiveSupport::JSON::Variable</code> is deprecated. Define your own <code>#as_json</code> and <code>#encode_json</code> methods for custom JSON string literals.</p></li>
<li><p>  Deprecates the compatibility method <code>Module#local_constant_names</code>, use <code>Module#local_constants</code> instead (which returns symbols).</p></li>
<li><p>  <code>BufferedLogger</code> is deprecated. Use <code>ActiveSupport::Logger</code>, or the logger from Ruby standard library.</p></li>
<li><p>  Deprecate <code>assert_present</code> and <code>assert_blank</code> in favor of <code>assert object.blank?</code> and <code>assert object.present?</code></p></li>
</ul>
<h3 id="action-pack">10 Action Pack</h3>
<p>Please refer to the <a href="https://github.com/rails/rails/blob/master/actionpack/CHANGELOG.md">Changelog</a> for detailed changes.</p>
<h4 id="action-pack-notable-changes">10.1 Notable changes</h4>
<ul>
<li>Change the stylesheet of exception pages for development mode. Additionally display also the line of code and fragment that raised the exception in all exceptions pages.</li>
</ul>
<h4 id="action-pack-deprecations">10.2 Deprecations</h4>
<h3 id="active-record">11 Active Record</h3>
<p>Please refer to the <a href="https://github.com/rails/rails/blob/master/activerecord/CHANGELOG.md">Changelog</a> for detailed changes.</p>
<h4 id="active-record-notable-changes">11.1 Notable changes</h4>
<ul>
<li>
<p>  Improve ways to write <code>change</code> migrations, making the old <code>up</code> &amp; <code>down</code> methods no longer necessary.</p>
<ul>
<li>The methods <code>drop_table</code> and <code>remove_column</code> are now reversible, as long as the necessary information is given.
The method <code>remove_column</code> used to accept multiple column names; instead use <code>remove_columns</code> (which is not revertible).
The method <code>change_table</code> is also reversible, as long as its block doesn't call <code>remove</code>, <code>change</code> or <code>change_default</code>
</li>
<li>New method <code>reversible</code> makes it possible to specify code to be run when migrating up or down.
See the <a href="https://github.com/rails/rails/blob/master/guides/source/migrations.md#using-the-reversible-method">Guide on Migration</a>
</li>
<li>New method <code>revert</code> will revert a whole migration or the given block.
If migrating down, the given migration / block is run normally.
See the <a href="https://github.com/rails/rails/blob/master/guides/source/migrations.md#reverting-previous-migrations">Guide on Migration</a>
</li>
</ul>
</li>
<li><p>  Adds PostgreSQL array type support. Any datatype can be used to create an array column, with full migration and schema dumper support.</p></li>
<li><p>  Add <code>Relation#load</code> to explicitly load the record and return <code>self</code>.</p></li>
<li><p>  <code>Model.all</code> now returns an <code>ActiveRecord::Relation</code>, rather than an array of records. Use <code>Relation#to_a</code> if you really want an array. In some specific cases, this may cause breakage when upgrading.</p></li>
<li><p>  Added <code>ActiveRecord::Migration.check_pending!</code> that raises an error if migrations are pending.</p></li>
<li>
<p>  Added custom coders support for <code>ActiveRecord::Store</code>. Now you can set your custom coder like this:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
store :settings, accessors: [ :color, :homepage ], coder: JSON

</pre>
</div>
</li>
<li><p>  <code>mysql</code> and <code>mysql2</code> connections will set <code>SQL_MODE=STRICT_ALL_TABLES</code> by default to avoid silent data loss. This can be disabled by specifying <code>strict: false</code> in your <code>database.yml</code>.</p></li>
<li><p>  Remove IdentityMap.</p></li>
<li><p>  Remove automatic execution of EXPLAIN queries. The option <code>active_record.auto_explain_threshold_in_seconds</code> is no longer used and should be removed.</p></li>
<li><p>  Adds <code>ActiveRecord::NullRelation</code> and <code>ActiveRecord::Relation#none</code> implementing the null object pattern for the Relation class.</p></li>
<li><p>  Added <code>create_join_table</code> migration helper to create HABTM join tables.</p></li>
<li><p>  Allows PostgreSQL hstore records to be created.</p></li>
</ul>
<h4 id="active-record-deprecations">11.2 Deprecations</h4>
<ul>
<li><p>  Deprecated the old-style hash based finder API. This means that methods which previously accepted "finder options" no longer do.</p></li>
<li>
<p>  All dynamic methods except for <code>find_by_...</code> and <code>find_by_...!</code> are deprecated. Here's
how you can rewrite the code:</p>
<ul>
<li>
<code>find_all_by_...</code> can be rewritten using <code>where(...)</code>.</li>
<li>
<code>find_last_by_...</code> can be rewritten using <code>where(...).last</code>.</li>
<li>
<code>scoped_by_...</code> can be rewritten using <code>where(...)</code>.</li>
<li>
<code>find_or_initialize_by_...</code> can be rewritten using <code>where(...).first_or_initialize</code>.</li>
<li>
<code>find_or_create_by_...</code> can be rewritten using <code>find_or_create_by(...)</code> or <code>where(...).first_or_create</code>.</li>
<li>
<code>find_or_create_by_...!</code> can be rewritten using <code>find_or_create_by!(...)</code> or <code>where(...).first_or_create!</code>.</li>
</ul>
</li>
</ul>
<h3 id="credits">12 Credits</h3>
<p>See the <a href="http://contributors.rubyonrails.org/">full list of contributors to Rails</a> for the many people who spent many hours making Rails, the stable and robust framework it is. Kudos to all of them.</p>
</body></html>


        <h3>Feedback</h3>
        <p>
          You're encouraged to help improve the quality of this guide.
        </p>
        <p>
          Please contribute if you see any typos or factual errors.
          To get started, you can read our <a href="http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">documentation contributions</a> section.
        </p>
        <p>
          You may also find incomplete content, or stuff that is not up to date.
          Please do add any missing documentation for master. Make sure to check
          <a href="http://edgeguides.rubyonrails.org">Edge Guides</a> first to verify
          if the issues are already fixed or not on the master branch.
          Check the <a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a>
          for style and conventions.
        </p>
        <p>
          If for whatever reason you spot something to fix but cannot patch it yourself, please
          <a href="https://github.com/rails/rails/issues">open an issue</a>.
        </p>
        <p>And last but not least, any kind of discussion regarding Ruby on Rails
          documentation is very welcome in the <a href="http://groups.google.com/group/rubyonrails-docs">rubyonrails-docs mailing list</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License</p>
<p>"Rails", "Ruby on Rails", and the Rails logo are trademarks of David Heinemeier Hansson. All rights reserved.</p>

    </div>
  </div>

  <script type="text/javascript" src="javascripts/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/responsive-tables.js"></script>
  <script type="text/javascript" src="javascripts/guides.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all()
    $(guidesIndex.bind);
  </script>
</body>
</html>
