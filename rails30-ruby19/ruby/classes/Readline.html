<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Readline</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Readline 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/ext/readline/readline_c.html">ext/readline/readline.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The <a href="Readline.html">Readline</a> module provides interface for GNU
<a href="Readline.html">Readline</a>. This module defines a number of
methods to facilitate completion and accesses input history from the Ruby
interpreter. This module supported Edit Line(libedit) too. libedit is
compatible with GNU <a href="Readline.html">Readline</a>.
</p>
<table>
<tr><td valign="top">GNU Readline:</td><td><a
href="http://www.gnu.org/directory/readline.html">www.gnu.org/directory/readline.html</a>

</td></tr>
<tr><td valign="top">libedit:</td><td><a href="http://www.thrysoee.dk/editline/">www.thrysoee.dk/editline/</a>

</td></tr>
</table>
<p>
Reads one inputted line with line edit by <a
href="Readline.html#M006895">Readline.readline</a> method. At this time,
the facilitatation completion and the key bind like Emacs can be operated
like GNU <a href="Readline.html">Readline</a>.
</p>
<pre>
  require &quot;readline&quot;
  while buf = Readline.readline(&quot;&gt; &quot;, true)
    p buf
  end
</pre>
<p>
The content that the user input can be recorded to the history. The history
can be accessed by Readline::HISTORY constant.
</p>
<pre>
  require &quot;readline&quot;
  while buf = Readline.readline(&quot;&gt; &quot;, true)
    p Readline::HISTORY.to_a
    print(&quot;-&gt; &quot;, buf, &quot;\n&quot;)
  end
</pre>
<p>
Most of methods raise <a href="SecurityError.html">SecurityError</a>
exception if $SAFE is 4.
</p>
<p>
Documented by TAKAO Kouji <kouji at takao7 dot net>.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M006917">basic_quote_characters</a>,</li>
                
                <li><a href="#M006916">basic_quote_characters=</a>,</li>
                
                <li><a href="#M006913">basic_word_break_characters</a>,</li>
                
                <li><a href="#M006912">basic_word_break_characters=</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M006919">completer_quote_characters</a>,</li>
                
                <li><a href="#M006918">completer_quote_characters=</a>,</li>
                
                <li><a href="#M006915">completer_word_break_characters</a>,</li>
                
                <li><a href="#M006914">completer_word_break_characters=</a>,</li>
                
                <li><a href="#M006911">completion_append_character</a>,</li>
                
                <li><a href="#M006910">completion_append_character=</a>,</li>
                
                <li><a href="#M006901">completion_case_fold</a>,</li>
                
                <li><a href="#M006900">completion_case_fold=</a>,</li>
                
                <li><a href="#M006899">completion_proc</a>,</li>
                
                <li><a href="#M006898">completion_proc=</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M006908">emacs_editing_mode</a>,</li>
                
                <li><a href="#M006909">emacs_editing_mode?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M006921">filename_quote_characters</a>,</li>
                
                <li><a href="#M006920">filename_quote_characters=</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M006905">get_screen_size</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M006896">input=</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M006902">line_buffer</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M006897">output=</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M006903">point</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M006895">readline</a>,</li>
                
                <li><a href="#M006922">refresh_line</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M006904">set_screen_size</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M006906">vi_editing_mode</a>,</li>
                
                <li><a href="#M006907">vi_editing_mode?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">HISTORY</td>
            <td>=</td>
            <td class="attr-value">history</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The history buffer. It extends <a href="Enumerable.html">Enumerable</a>
module, so it behaves just like an array. For example, gets the fifth
content that the user input by HISTORY[4].
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FILENAME_COMPLETION_PROC</td>
            <td>=</td>
            <td class="attr-value">fcomp</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The <a href="Object.html">Object</a> with the call method that is a
completion for filename. This is sets by <a
href="Readline.html#M006898">Readline.completion_proc=</a> method.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">USERNAME_COMPLETION_PROC</td>
            <td>=</td>
            <td class="attr-value">ucomp</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The <a href="Object.html">Object</a> with the call method that is a
completion for usernames. This is sets by <a
href="Readline.html#M006898">Readline.completion_proc=</a> method.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">version</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Version string of GNU <a href="Readline.html">Readline</a> or libedit.
</p>
</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M006917">
                    
                    <a name="M006917"></a><b>Readline.basic_quote_characters &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Gets a list of quote characters which can cause a word break.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006917_source')" id="l_M006917_source">show</a>
                        
                    </p>
                    <div id="M006917_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_basic_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_basic_quote_characters);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006916">
                    
                    <a name="M006916"></a><b>Readline.basic_quote_characters = string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Sets a list of quote characters which can cause a word break.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006916_source')" id="l_M006916_source">show</a>
                        
                    </p>
                    <div id="M006916_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_basic_quote_characters(VALUE self, VALUE str)
{
    static char *basic_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_quote_characters == NULL) {
        basic_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(basic_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_quote_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    basic_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_quote_characters = basic_quote_characters;

    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006913">
                    
                    <a name="M006913"></a><b>Readline.basic_word_break_characters &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Gets the basic list of characters that signal a break between words for the
completer routine.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006913_source')" id="l_M006913_source">show</a>
                        
                    </p>
                    <div id="M006913_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_basic_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_word_break_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_basic_word_break_characters);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006912">
                    
                    <a name="M006912"></a><b>Readline.basic_word_break_characters = string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Sets the basic list of characters that signal a break between words for the
completer routine. The default is the characters which break words for
completion in Bash: &#8220;t\n\"\&#8217;`@$><=;|&amp;{(&#8220;.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006912_source')" id="l_M006912_source">show</a>
                        
                    </p>
                    <div id="M006912_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_basic_word_break_characters(VALUE self, VALUE str)
{
    static char *basic_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_word_break_characters == NULL) {
        basic_word_break_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(basic_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_word_break_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    basic_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_word_break_characters = basic_word_break_characters;
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006919">
                    
                    <a name="M006919"></a><b>Readline.completer_quote_characters &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Gets a list of characters which can be used to quote a substring of the
line.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006919_source')" id="l_M006919_source">show</a>
                        
                    </p>
                    <div id="M006919_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_completer_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_completer_quote_characters);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006918">
                    
                    <a name="M006918"></a><b>Readline.completer_quote_characters = string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Sets a list of characters which can be used to quote a substring of the
line. Completion occurs on the entire substring, and within the substring
<a
href="Readline.html#M006915">Readline.completer_word_break_characters</a>
are treated as any other character, unless they also appear within this
list.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006918_source')" id="l_M006918_source">show</a>
                        
                    </p>
                    <div id="M006918_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_completer_quote_characters(VALUE self, VALUE str)
{
    static char *completer_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_quote_characters == NULL) {
        completer_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(completer_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    completer_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_quote_characters = completer_quote_characters;

    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006915">
                    
                    <a name="M006915"></a><b>Readline.completer_word_break_characters &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Gets the basic list of characters that signal a break between words for
rl_complete_internal().
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006915_source')" id="l_M006915_source">show</a>
                        
                    </p>
                    <div id="M006915_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_completer_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_word_break_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_completer_word_break_characters);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006914">
                    
                    <a name="M006914"></a><b>Readline.completer_word_break_characters = string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Sets the basic list of characters that signal a break between words for
rl_complete_internal(). The default is the value of <a
href="Readline.html#M006913">Readline.basic_word_break_characters</a>.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006914_source')" id="l_M006914_source">show</a>
                        
                    </p>
                    <div id="M006914_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_completer_word_break_characters(VALUE self, VALUE str)
{
    static char *completer_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_word_break_characters == NULL) {
        completer_word_break_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(completer_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_word_break_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    completer_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_word_break_characters = completer_word_break_characters;
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006911">
                    
                    <a name="M006911"></a><b>Readline.completion_append_character &rarr; char
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string containing a character to be appended on completion. The
default is a space (&#8220; &#8220;).
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006911_source')" id="l_M006911_source">show</a>
                        
                    </p>
                    <div id="M006911_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_completion_append_character(VALUE self)
{
    char buf[1];

    rb_secure(4);
    if (rl_completion_append_character == '\0')
        return Qnil;

    buf[0] = (char) rl_completion_append_character;
    return rb_locale_str_new(buf, 1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006910">
                    
                    <a name="M006910"></a><b>Readline.completion_append_character = char
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Specifies a character to be appended on completion. Nothing will be
appended if an empty string (&#8220;&#8221;) or nil is specified.
</p>
<p>
For example:
</p>
<pre>
  require &quot;readline&quot;

  Readline.readline(&quot;&gt; &quot;, true)
  Readline.completion_append_character = &quot; &quot;
</pre>
<p>
Result:
</p>
<pre>
  &gt;
  Input &quot;/var/li&quot;.

  &gt; /var/li
  Press TAB key.

  &gt; /var/lib
  Completes &quot;b&quot; and appends &quot; &quot;. So, you can continuously input &quot;/usr&quot;.

  &gt; /var/lib /usr
</pre>
<p>
NOTE: Only one character can be specified. When &#8220;string&#8221; is
specified, sets only &#8220;s&#8221; that is the first.
</p>
<pre>
  require &quot;readline&quot;

  Readline.completion_append_character = &quot;string&quot;
  p Readline.completion_append_character # =&gt; &quot;s&quot;
</pre>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006910_source')" id="l_M006910_source">show</a>
                        
                    </p>
                    <div id="M006910_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_completion_append_character(VALUE self, VALUE str)
{
    rb_secure(4);
    if (NIL_P(str)) {
        rl_completion_append_character = '\0';
    }
    else {
        OutputStringValue(str);
        if (RSTRING_LEN(str) == 0) {
            rl_completion_append_character = '\0';
        } else {
            rl_completion_append_character = RSTRING_PTR(str)[0];
        }
    }
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006901">
                    
                    <a name="M006901"></a><b>Readline.completion_case_fold &rarr; bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if completion ignores case. If no, returns false.
</p>
<p>
NOTE: Returns the same object that is specified by <a
href="Readline.html#M006900">Readline.completion_case_fold=</a> method.
</p>
<pre>
  require &quot;readline&quot;

  Readline.completion_case_fold = &quot;This is a String.&quot;
  p Readline.completion_case_fold # =&gt; &quot;This is a String.&quot;
</pre>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006901_source')" id="l_M006901_source">show</a>
                        
                    </p>
                    <div id="M006901_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_completion_case_fold(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_case_fold);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006900">
                    
                    <a name="M006900"></a><b>Readline.completion_case_fold = bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Sets whether or not to ignore case on completion.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006900_source')" id="l_M006900_source">show</a>
                        
                    </p>
                    <div id="M006900_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_completion_case_fold(VALUE self, VALUE val)
{
    rb_secure(4);
    return rb_ivar_set(mReadline, completion_case_fold, val);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006899">
                    
                    <a name="M006899"></a><b>Readline.completion_proc &rarr; proc
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the completion <a href="Proc.html">Proc</a> object.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006899_source')" id="l_M006899_source">show</a>
                        
                    </p>
                    <div id="M006899_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_completion_proc(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_proc);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006898">
                    
                    <a name="M006898"></a><b>Readline.completion_proc = proc
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Specifies a <a href="Proc.html">Proc</a> object <tt>proc</tt> to determine
completion behavior. It should take input-string, and return an array of
completion candidates.
</p>
<p>
<a href="Set.html">Set</a> default if <tt>proc</tt> is nil.
</p>
<p>
Raises <a href="ArgumentError.html">ArgumentError</a> exception if
<tt>proc</tt> does not respond to call method.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006898_source')" id="l_M006898_source">show</a>
                        
                    </p>
                    <div id="M006898_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_completion_proc(VALUE self, VALUE proc)
{
    rb_secure(4);
    if (!NIL_P(proc) &amp;&amp; !rb_respond_to(proc, rb_intern(&quot;call&quot;)))
        rb_raise(rb_eArgError, &quot;argument must respond to `call'&quot;);
    return rb_ivar_set(mReadline, completion_proc, proc);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006908">
                    
                    <a name="M006908"></a><b>Readline.emacs_editing_mode &rarr; nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Specifies Emacs editing mode. The default is this mode. See the manual of
GNU <a href="Readline.html">Readline</a> for details of Emacs editing mode.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006908_source')" id="l_M006908_source">show</a>
                        
                    </p>
                    <div id="M006908_source" class="dyn-source">
                        <pre>static VALUE
readline_s_emacs_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_emacs_editing_mode(1,0);
    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006909">
                    
                    <a name="M006909"></a><b>Readline.emacs_editing_mode? &rarr; bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if emacs mode is active. Returns false if not.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006909_source')" id="l_M006909_source">show</a>
                        
                    </p>
                    <div id="M006909_source" class="dyn-source">
                        <pre>static VALUE
readline_s_emacs_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 1 ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006921">
                    
                    <a name="M006921"></a><b>Readline.filename_quote_characters &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006921_source')" id="l_M006921_source">show</a>
                        
                    </p>
                    <div id="M006921_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_filename_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_filename_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_filename_quote_characters);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006920">
                    
                    <a name="M006920"></a><b>Readline.filename_quote_characters = string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename. The default is nil.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006920_source')" id="l_M006920_source">show</a>
                        
                    </p>
                    <div id="M006920_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_filename_quote_characters(VALUE self, VALUE str)
{
    static char *filename_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (filename_quote_characters == NULL) {
        filename_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(filename_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(filename_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    filename_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_filename_quote_characters = filename_quote_characters;

    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006905">
                    
                    <a name="M006905"></a><b>Readline.get_screen_size &rarr; [rows, columns]
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the terminal&#8217;s rows and columns.
</p>
<p>
See GNU Readline&#8217;s rl_get_screen_size function.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006905_source')" id="l_M006905_source">show</a>
                        
                    </p>
                    <div id="M006905_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_screen_size(VALUE self)
{
    int rows, columns;
    VALUE res;

    rb_secure(4);
    rl_get_screen_size(&amp;rows, &amp;columns);
    res = rb_ary_new();
    rb_ary_push(res, INT2NUM(rows));
    rb_ary_push(res, INT2NUM(columns));
    return res;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006896">
                    
                    <a name="M006896"></a><b>Readline.input = input
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Specifies a <a href="File.html">File</a> object <tt>input</tt> that is
input stream for <a href="Readline.html#M006895">Readline.readline</a>
method.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006896_source')" id="l_M006896_source">show</a>
                        
                    </p>
                    <div id="M006896_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_input(VALUE self, VALUE input)
{
    rb_io_t *ifp;

    rb_secure(4);
    Check_Type(input, T_FILE);
    GetOpenFile(input, ifp);
    rl_instream = rb_io_stdio_file(ifp);
#ifdef HAVE_RL_GETC_FUNCTION
    readline_instream = input;
#endif
    return input;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006902">
                    
                    <a name="M006902"></a><b>Readline.line_buffer &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the full line that is being edited. This is useful from within the
complete_proc for determining the context of the completion request.
</p>
<p>
The length of <tt><a
href="Readline.html#M006902">Readline.line_buffer</a></tt> and GNU
Readline&#8217;s rl_end are same.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006902_source')" id="l_M006902_source">show</a>
                        
                    </p>
                    <div id="M006902_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_line_buffer(VALUE self)
{
    rb_secure(4);
    if (rl_line_buffer == NULL)
        return Qnil;
    return rb_tainted_str_new2(rl_line_buffer);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006897">
                    
                    <a name="M006897"></a><b>Readline.output = output
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Specifies a <a href="File.html">File</a> object <tt>output</tt> that is
output stream for <a href="Readline.html#M006895">Readline.readline</a>
method.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006897_source')" id="l_M006897_source">show</a>
                        
                    </p>
                    <div id="M006897_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_output(VALUE self, VALUE output)
{
    rb_io_t *ofp;

    rb_secure(4);
    Check_Type(output, T_FILE);
    GetOpenFile(output, ofp);
    rl_outstream = rb_io_stdio_file(ofp);
    return output;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006903">
                    
                    <a name="M006903"></a><b>Readline.point &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the index of the current cursor position in <tt><a
href="Readline.html#M006902">Readline.line_buffer</a></tt>.
</p>
<p>
The index in <tt><a
href="Readline.html#M006902">Readline.line_buffer</a></tt> which matches
the start of input-string passed to <a
href="Readline.html#M006899">completion_proc</a> is computed by subtracting
the length of input-string from <tt><a
href="Readline.html#M006903">Readline.point</a></tt>.
</p>
<pre>
  start = (the length of input-string) - Readline.point
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006903_source')" id="l_M006903_source">show</a>
                        
                    </p>
                    <div id="M006903_source" class="dyn-source">
                        <pre>static VALUE
readline_s_get_point(VALUE self)
{
    rb_secure(4);
    return INT2NUM(rl_point);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006895">
                    
                    <a name="M006895"></a><b>Readline.readline(prompt = "", add_hist = false) &rarr; string or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Shows the <tt>prompt</tt> and reads the inputted line with line editing.
The inputted line is added to the history if <tt>add_hist</tt> is true.
</p>
<p>
Returns nil when the inputted line is empty and user inputs EOF (Presses ^D
on UNIX).
</p>
<p>
Raises <a href="IOError.html">IOError</a> exception if below conditions are
satisfied.
</p>
<ol>
<li>stdin is not tty.

</li>
<li>stdin was closed. (errno is EBADF after called isatty(2).)

</li>
</ol>
<p>
This method supports thread. Switchs the thread context when waits
inputting line.
</p>
<p>
Supports line edit when inputs line. Provides VI and Emacs editing mode.
Default is Emacs editing mode.
</p>
<p>
NOTE: Terminates ruby interpreter and does not return the terminal status
after user pressed &#8217;^C&#8217; when wait inputting line. Give 3
examples that avoid it.
</p>
<ul>
<li>Catches the <a href="Interrupt.html">Interrupt</a> exception by pressed ^C
after returns terminal status:

<pre>
  require &quot;readline&quot;

  stty_save = `stty -g`.chomp
  begin
    while buf = Readline.readline
        p buf
        end
      rescue Interrupt
        system(&quot;stty&quot;, stty_save)
        exit
      end
    end
  end
</pre>
</li>
<li>Catches the INT signal by pressed ^C after returns terminal status:

<pre>
  require &quot;readline&quot;

  stty_save = `stty -g`.chomp
  trap(&quot;INT&quot;) { system &quot;stty&quot;, stty_save; exit }

  while buf = Readline.readline
    p buf
  end
</pre>
</li>
<li>Ignores pressing ^C:

<pre>
  require &quot;readline&quot;

  trap(&quot;INT&quot;, &quot;SIG_IGN&quot;)

  while buf = Readline.readline
    p buf
  end
</pre>
</li>
</ul>
<p>
Can make as follows with Readline::HISTORY constant. It does not record to
the history if the inputted line is empty or the same it as last one.
</p>
<pre>
  require &quot;readline&quot;

  while buf = Readline.readline(&quot;&gt; &quot;, true)
    # p Readline::HISTORY.to_a
    Readline::HISTORY.pop if /^\s*$/ =~ buf

    begin
      if Readline::HISTORY[Readline::HISTORY.length-2] == buf
        Readline::HISTORY.pop
      end
    rescue IndexError
    end

    # p Readline::HISTORY.to_a
    print &quot;-&gt; &quot;, buf, &quot;\n&quot;
  end
</pre>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006895_source')" id="l_M006895_source">show</a>
                        
                    </p>
                    <div id="M006895_source" class="dyn-source">
                        <pre>static VALUE
readline_readline(int argc, VALUE *argv, VALUE self)
{
    VALUE tmp, add_hist, result;
    char *prompt = NULL;
    char *buff;
    int status;

    rb_secure(4);
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;tmp, &amp;add_hist) &gt; 0) {
        OutputStringValue(tmp);
        prompt = RSTRING_PTR(tmp);
    }

    if (!isatty(fileno(rl_instream)) &amp;&amp; errno == EBADF) rb_raise(rb_eIOError, &quot;closed stdin&quot;);

#ifdef _WIN32
    rl_prep_terminal(1);
#endif
    buff = (char*)rb_protect(readline_get, (VALUE)prompt, &amp;status);
    if (status) {
#if defined HAVE_RL_CLEANUP_AFTER_SIGNAL
        /* restore terminal mode and signal handler*/
        rl_free_line_state();
        rl_cleanup_after_signal();
#elif defined HAVE_RL_DEPREP_TERM_FUNCTION
        /* restore terminal mode */
        if (rl_deprep_term_function != NULL) /* NULL in libedit. [ruby-dev:29116] */
            (*rl_deprep_term_function)();
        else
#else
        rl_deprep_terminal();
#endif
        rb_jump_tag(status);
    }

    if (RTEST(add_hist) &amp;&amp; buff) {
        add_history(buff);
    }
    if (buff) {
        result = rb_locale_str_new_cstr(buff);
    }
    else
        result = Qnil;
    if (buff) free(buff);
    return result;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006922">
                    
                    <a name="M006922"></a><b>Readline.refresh_line &rarr; nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Clear the current input line.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006922_source')" id="l_M006922_source">show</a>
                        
                    </p>
                    <div id="M006922_source" class="dyn-source">
                        <pre>static VALUE
readline_s_refresh_line(VALUE self)
{
    rb_secure(4);
    rl_refresh_line(0, 0);
    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006904">
                    
                    <a name="M006904"></a><b>Readline.set_screen_size(rows, columns) &rarr; self
</b>
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Set.html">Set</a> terminal size to <tt>rows</tt> and
<tt>columns</tt>.
</p>
<p>
See GNU Readline&#8217;s rl_set_screen_size function.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006904_source')" id="l_M006904_source">show</a>
                        
                    </p>
                    <div id="M006904_source" class="dyn-source">
                        <pre>static VALUE
readline_s_set_screen_size(VALUE self, VALUE rows, VALUE columns)
{
    rb_secure(4);
    rl_set_screen_size(NUM2INT(rows), NUM2INT(columns));
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006906">
                    
                    <a name="M006906"></a><b>Readline.vi_editing_mode &rarr; nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Specifies VI editing mode. See the manual of GNU <a
href="Readline.html">Readline</a> for details of VI editing mode.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006906_source')" id="l_M006906_source">show</a>
                        
                    </p>
                    <div id="M006906_source" class="dyn-source">
                        <pre>static VALUE
readline_s_vi_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_vi_editing_mode(1,0);
    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006907">
                    
                    <a name="M006907"></a><b>Readline.vi_editing_mode? &rarr; bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if vi mode is active. Returns false if not.
</p>
<p>
Raises <a href="NotImplementedError.html">NotImplementedError</a> if the
using readline library does not support.
</p>
<p>
Raises <a href="SecurityError.html">SecurityError</a> exception if $SAFE is
4.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006907_source')" id="l_M006907_source">show</a>
                        
                    </p>
                    <div id="M006907_source" class="dyn-source">
                        <pre>static VALUE
readline_s_vi_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 0 ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    