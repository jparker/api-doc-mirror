<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Time</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Time 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/time_c.html">time.c</a></li>
            
            <li><a href="../files/lib/date_rb.html">lib/date.rb</a></li>
            
            <li><a href="../files/lib/time_rb.html">lib/time.rb</a></li>
            
            <li><a href="../files/ext/json/lib/json/add/core_rb.html">ext/json/lib/json/add/core.rb</a></li>
            
            <li><a href="../files/ext/syck/lib/syck/rubytypes_rb.html">ext/syck/lib/syck/rubytypes.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Implements the extensions to the <a href="Time.html">Time</a> class that
are described in the documentation for the time.rb library.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M001306">+</a>,</li>
                
                <li><a href="#M001307">-</a>,</li>
                
                <li><a href="#M001290"><=></a>,</li>
                
                <li><a href="#M001342">_dump</a>,</li>
                
                <li><a href="#M001343">_load</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004992">apply_offset</a>,</li>
                
                <li><a href="#M001302">asctime</a>,</li>
                
                <li><a href="#M001282">at</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M001301">ctime</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M001314">day</a>,</li>
                
                <li><a href="#M001321">dst?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001291">eql?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M001333">friday?</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M001299">getgm</a>,</li>
                
                <li><a href="#M001298">getlocal</a>,</li>
                
                <li><a href="#M001300">getutc</a>,</li>
                
                <li><a href="#M001284">gm</a>,</li>
                
                <li><a href="#M001327">gmt?</a>,</li>
                
                <li><a href="#M001324">gmt_offset</a>,</li>
                
                <li><a href="#M001296">gmtime</a>,</li>
                
                <li><a href="#M001323">gmtoff</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M001292">hash</a>,</li>
                
                <li><a href="#M001312">hour</a>,</li>
                
                <li><a href="#M004997">httpdate</a>,</li>
                
                <li><a href="#M005002">httpdate</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M001304">inspect</a>,</li>
                
                <li><a href="#M001320">isdst</a>,</li>
                
                <li><a href="#M005005">iso8601</a>,</li>
                
                <li><a href="#M005004">iso8601</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M007424">json_create</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M001285">local</a>,</li>
                
                <li><a href="#M001295">localtime</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M004993">make_time</a>,</li>
                
                <li><a href="#M001344">marshal_dump</a>,</li>
                
                <li><a href="#M001345">marshal_load</a>,</li>
                
                <li><a href="#M001313">mday</a>,</li>
                
                <li><a href="#M001311">min</a>,</li>
                
                <li><a href="#M001286">mktime</a>,</li>
                
                <li><a href="#M001315">mon</a>,</li>
                
                <li><a href="#M001329">monday?</a>,</li>
                
                <li><a href="#M001316">month</a>,</li>
                
                <li><a href="#M004991">month_days</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M001293">new</a>,</li>
                
                <li><a href="#M001281">now</a>,</li>
                
                <li><a href="#M001339">nsec</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004994">parse</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004999">rfc2822</a>,</li>
                
                <li><a href="#M004996">rfc2822</a>,</li>
                
                <li><a href="#M005000">rfc822</a>,</li>
                
                <li><a href="#M005001">rfc822</a>,</li>
                
                <li><a href="#M001309">round</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001334">saturday?</a>,</li>
                
                <li><a href="#M001310">sec</a>,</li>
                
                <li><a href="#M001341">strftime</a>,</li>
                
                <li><a href="#M004995">strptime</a>,</li>
                
                <li><a href="#M001340">subsec</a>,</li>
                
                <li><a href="#M001308">succ</a>,</li>
                
                <li><a href="#M001328">sunday?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M001332">thursday?</a>,</li>
                
                <li><a href="#M001305">to_a</a>,</li>
                
                <li><a href="#M003583">to_date</a>,</li>
                
                <li><a href="#M003584">to_datetime</a>,</li>
                
                <li><a href="#M001288">to_f</a>,</li>
                
                <li><a href="#M001287">to_i</a>,</li>
                
                <li><a href="#M007425">to_json</a>,</li>
                
                <li><a href="#M001289">to_r</a>,</li>
                
                <li><a href="#M001303">to_s</a>,</li>
                
                <li><a href="#M003582">to_time</a>,</li>
                
                <li><a href="#M007962">to_yaml</a>,</li>
                
                <li><a href="#M001330">tuesday?</a>,</li>
                
                <li><a href="#M001338">tv_nsec</a>,</li>
                
                <li><a href="#M001335">tv_sec</a>,</li>
                
                <li><a href="#M001336">tv_usec</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M001337">usec</a>,</li>
                
                <li><a href="#M001283">utc</a>,</li>
                
                <li><a href="#M001297">utc</a>,</li>
                
                <li><a href="#M001326">utc?</a>,</li>
                
                <li><a href="#M001325">utc_offset</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M001318">wday</a>,</li>
                
                <li><a href="#M001331">wednesday?</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M004998">xmlschema</a>,</li>
                
                <li><a href="#M005003">xmlschema</a></li>
                
            </ul>
        </dd>
    
        <dt>Y</dt>
        <dd>
            <ul>
                
                <li><a href="#M007961">yaml_new</a>,</li>
                
                <li><a href="#M001319">yday</a>,</li>
                
                <li><a href="#M001317">year</a></li>
                
            </ul>
        </dd>
    
        <dt>Z</dt>
        <dd>
            <ul>
                
                <li><a href="#M001322">zone</a>,</li>
                
                <li><a href="#M004989">zone_offset</a>,</li>
                
                <li><a href="#M004990">zone_utc?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="Kernel.html">Kernel</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">ZoneOffset</td>
            <td>=</td>
            <td class="attr-value">{       'UTC' =&gt; 0,       # ISO 8601       'Z' =&gt; 0,       # RFC 822       'UT' =&gt; 0, 'GMT' =&gt; 0,       'EST' =&gt; -5, 'EDT' =&gt; -4,       'CST' =&gt; -6, 'CDT' =&gt; -5,       'MST' =&gt; -7, 'MDT' =&gt; -6,       'PST' =&gt; -8, 'PDT' =&gt; -7,       # Following definition of military zones is original one.       # See RFC 1123 and RFC 2822 for the error in RFC 822.       'A' =&gt; +1, 'B' =&gt; +2, 'C' =&gt; +3, 'D' =&gt; +4,  'E' =&gt; +5,  'F' =&gt; +6,       'G' =&gt; +7, 'H' =&gt; +8, 'I' =&gt; +9, 'K' =&gt; +10, 'L' =&gt; +11, 'M' =&gt; +12,       'N' =&gt; -1, 'O' =&gt; -2, 'P' =&gt; -3, 'Q' =&gt; -4,  'R' =&gt; -5,  'S' =&gt; -6,       'T' =&gt; -7, 'U' =&gt; -8, 'V' =&gt; -9, 'W' =&gt; -10, 'X' =&gt; -11, 'Y' =&gt; -12,     }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LeapYearMonthDays</td>
            <td>=</td>
            <td class="attr-value">[31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CommonYearMonthDays</td>
            <td>=</td>
            <td class="attr-value">[31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">MonthValue</td>
            <td>=</td>
            <td class="attr-value">{       'JAN' =&gt; 1, 'FEB' =&gt; 2, 'MAR' =&gt; 3, 'APR' =&gt; 4, 'MAY' =&gt; 5, 'JUN' =&gt; 6,       'JUL' =&gt; 7, 'AUG' =&gt; 8, 'SEP' =&gt; 9, 'OCT' =&gt;10, 'NOV' =&gt;11, 'DEC' =&gt;12     }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RFC2822_DAY_NAME</td>
            <td>=</td>
            <td class="attr-value">[     'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'   ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RFC2822_MONTH_NAME</td>
            <td>=</td>
            <td class="attr-value">[     'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',     'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'   ]</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M001343">
                    
                    <a name="M001343"></a><b>Time._load(string)   &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Unmarshal a dumped <tt>Time</tt> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001343_source')" id="l_M001343_source">show</a>
                        
                    </p>
                    <div id="M001343_source" class="dyn-source">
                        <pre>static VALUE
time_load(VALUE klass, VALUE str)
{
    VALUE time = time_s_alloc(klass);

    time_mload(time, str);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001282">
                    
                    <a name="M001282"></a><b>Time.at(time) &rarr; time
Time.at(seconds_with_frac) &rarr; time
Time.at(seconds, microseconds_with_frac) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new time object with the value given by <em>time</em>, the given
number of <em>seconds_with_frac</em>, or <em>seconds</em> and
<em>microseconds_with_frac</em> from the Epoch. <em>seconds_with_frac</em>
and <em>microseconds_with_frac</em> can be <a
href="Integer.html">Integer</a>, <a href="Float.html">Float</a>, <a
href="Rational.html">Rational</a>, or other <a
href="Numeric.html">Numeric</a>. non-portable feature allows the offset to
be negative on some systems.
</p>
<pre>
   Time.at(0)            #=&gt; 1969-12-31 18:00:00 -0600
   Time.at(Time.at(0))   #=&gt; 1969-12-31 18:00:00 -0600
   Time.at(946702800)    #=&gt; 1999-12-31 23:00:00 -0600
   Time.at(-284061600)   #=&gt; 1960-12-31 00:00:00 -0600
   Time.at(946684800.2).usec #=&gt; 200000
   Time.at(946684800, 123456.789).nsec #=&gt; 123456789
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001282_source')" id="l_M001282_source">show</a>
                        
                    </p>
                    <div id="M001282_source" class="dyn-source">
                        <pre>static VALUE
time_s_at(int argc, VALUE *argv, VALUE klass)
{
    VALUE time, t;
    wideval_t timew;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;time, &amp;t) == 2) {
        time = num_exact(time);
        t = num_exact(t);
        timew = wadd(rb_time_magnify(v2w(time)), wmulquoll(v2w(t), TIME_SCALE, 1000000));
        t = time_new_timew(klass, timew);
    }
    else if (IsTimeval(time)) {
        struct time_object *tobj, *tobj2;
        GetTimeval(time, tobj);
        t = time_new_timew(klass, tobj-&gt;timew);
        GetTimeval(t, tobj2);
        TIME_COPY_GMT(tobj2, tobj);
    }
    else {
        timew = rb_time_magnify(v2w(num_exact(time)));
        t = time_new_timew(klass, timew);
    }

    return t;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001284">
                    
                    <a name="M001284"></a><b>Time.utc(year) &rarr; time
Time.utc(year, month) &rarr; time
Time.utc(year, month, day) &rarr; time
Time.utc(year, month, day, hour) &rarr; time
Time.utc(year, month, day, hour, min) &rarr; time
Time.utc(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.utc(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.utc(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.gm(year) &rarr; time
Time.gm(year, month) &rarr; time
Time.gm(year, month, day) &rarr; time
Time.gm(year, month, day, hour) &rarr; time
Time.gm(year, month, day, hour, min) &rarr; time
Time.gm(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.gm(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.gm(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a time based on given values, interpreted as UTC (GMT). The year
must be specified. Other values default to the minimum value for that field
(and may be <tt>nil</tt> or omitted). Months may be specified by numbers
from 1 to 12, or by the three-letter English month names. Hours are
specified on a 24-hour clock (0..23). Raises an <tt>ArgumentError</tt> if
any values are out of range. Will also accept ten arguments in the order
output by <tt><a href="Time.html#M001305">Time#to_a</a></tt>.
<em>sec_with_frac</em> and <em>usec_with_frac</em> can have a fractional
part.
</p>
<pre>
   Time.utc(2000,&quot;jan&quot;,1,20,15,1)  #=&gt; 2000-01-01 20:15:01 UTC
   Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001284_source')" id="l_M001284_source">show</a>
                        
                    </p>
                    <div id="M001284_source" class="dyn-source">
                        <pre>static VALUE
time_s_mkutc(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, TRUE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004997">
                    
                    <a name="M004997"></a><b>httpdate</b>(date)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> as HTTP-date defined by RFC 2616 and converts it to a
<a href="Time.html">Time</a> object.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <tt>date</tt>
is not compliant with RFC 2616 or <a href="Time.html">Time</a> class cannot
represent specified date.
</p>
<p>
See <a href="Time.html#M004997">httpdate</a> for more information on this
format.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004997_source')" id="l_M004997_source">show</a>
                        
                    </p>
                    <div id="M004997_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 357</span>
357:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">httpdate</span>(<span class="ruby-identifier">date</span>)
358:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
359:           (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),\x20
360:           (\d{2})\x20
361:           (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
362:           (\d{4})\x20
363:           (\d{2}):(\d{2}):(\d{2})\x20
364:           GMT
365:           \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
366:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">rfc2822</span>(<span class="ruby-identifier">date</span>)
367:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-regexp re">/\A\s*
368:              (?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday),\x20
369:              (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d)\x20
370:              (\d\d):(\d\d):(\d\d)\x20
371:              GMT
372:              \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
373:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>
374:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50</span>
375:           <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-value">2000</span>
376:         <span class="ruby-keyword kw">else</span>
377:           <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1900</span>
378:         <span class="ruby-keyword kw">end</span>
379:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">$2</span>, <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>)
380:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-regexp re">/\A\s*
381:              (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\x20
382:              (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
383:              (\d\d|\x20\d)\x20
384:              (\d\d):(\d\d):(\d\d)\x20
385:              (\d{4})
386:              \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
387:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-constant">MonthValue</span>[<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">upcase</span>], <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span>,
388:                  <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>)
389:       <span class="ruby-keyword kw">else</span>
390:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;not RFC 2616 compliant date: #{date.inspect}&quot;</span>)
391:       <span class="ruby-keyword kw">end</span>
392:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007424">
                    
                    <a name="M007424"></a><b>json_create</b>(object)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007424_source')" id="l_M007424_source">show</a>
                        
                    </p>
                    <div id="M007424_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">json_create</span>(<span class="ruby-identifier">object</span>)
25:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'u'</span>) <span class="ruby-comment cmt"># used to be tv_usec -&gt; tv_nsec</span>
26:       <span class="ruby-identifier">object</span>[<span class="ruby-value str">'n'</span>] = <span class="ruby-identifier">usec</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>
27:     <span class="ruby-keyword kw">end</span>
28:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:tv_nsec</span>)
29:       <span class="ruby-identifier">at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">object</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value str">'s'</span>, <span class="ruby-value str">'n'</span>))
30:     <span class="ruby-keyword kw">else</span>
31:       <span class="ruby-identifier">at</span>(<span class="ruby-identifier">object</span>[<span class="ruby-value str">'s'</span>], <span class="ruby-identifier">object</span>[<span class="ruby-value str">'n'</span>] <span class="ruby-operator">/</span> <span class="ruby-value">1000</span>)
32:     <span class="ruby-keyword kw">end</span>
33:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001285">
                    
                    <a name="M001285"></a><b>Time.local(year) &rarr; time
Time.local(year, month) &rarr; time
Time.local(year, month, day) &rarr; time
Time.local(year, month, day, hour) &rarr; time
Time.local(year, month, day, hour, min) &rarr; time
Time.local(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.local(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.local(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.mktime(year) &rarr; time
Time.mktime(year, month) &rarr; time
Time.mktime(year, month, day) &rarr; time
Time.mktime(year, month, day, hour) &rarr; time
Time.mktime(year, month, day, hour, min) &rarr; time
Time.mktime(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.mktime(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.mktime(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Same as <tt>Time::gm</tt>, but interprets the values in the local time
zone.
</p>
<pre>
   Time.local(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001285_source')" id="l_M001285_source">show</a>
                        
                    </p>
                    <div id="M001285_source" class="dyn-source">
                        <pre>static VALUE
time_s_mktime(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, FALSE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001286">
                    
                    <a name="M001286"></a><b>Time.local(year) &rarr; time
Time.local(year, month) &rarr; time
Time.local(year, month, day) &rarr; time
Time.local(year, month, day, hour) &rarr; time
Time.local(year, month, day, hour, min) &rarr; time
Time.local(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.local(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.local(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.mktime(year) &rarr; time
Time.mktime(year, month) &rarr; time
Time.mktime(year, month, day) &rarr; time
Time.mktime(year, month, day, hour) &rarr; time
Time.mktime(year, month, day, hour, min) &rarr; time
Time.mktime(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.mktime(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.mktime(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Same as <tt>Time::gm</tt>, but interprets the values in the local time
zone.
</p>
<pre>
   Time.local(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001286_source')" id="l_M001286_source">show</a>
                        
                    </p>
                    <div id="M001286_source" class="dyn-source">
                        <pre>static VALUE
time_s_mktime(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, FALSE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001293">
                    
                    <a name="M001293"></a><b>Time.new &rarr; time
Time.new(year, month=nil, day=nil, hour=nil, min=nil, sec=nil, utc_offset=nil) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <tt>Time</tt> object.
</p>
<p>
It is initialized to the current system time if no argument. <b>Note:</b>
The object created will be created using the resolution available on your
system clock, and so may include fractional seconds.
</p>
<p>
If one or more arguments specified, the time is initialized to the
specified time. <em>sec</em> may have fraction if it is a rational.
</p>
<p>
<em><a href="Time.html#M001325">utc_offset</a></em> is the offset from UTC.
It is a string such as &#8220;+09:00&#8221; or a number of seconds such as
32400.
</p>
<pre>
   a = Time.new      #=&gt; 2007-11-19 07:50:02 -0600
   b = Time.new      #=&gt; 2007-11-19 07:50:02 -0600
   a == b            #=&gt; false
   &quot;%.6f&quot; % a.to_f   #=&gt; &quot;1195480202.282373&quot;
   &quot;%.6f&quot; % b.to_f   #=&gt; &quot;1195480202.283415&quot;

   Time.new(2008,6,21, 13,30,0, &quot;+09:00&quot;) #=&gt; 2008-06-21 13:30:00 +0900

   # A trip for RubyConf 2007
   t1 = Time.new(2007,11,1,15,25,0, &quot;+09:00&quot;) # JST (Narita)
   t2 = Time.new(2007,11,1,12, 5,0, &quot;-05:00&quot;) # CDT (Minneapolis)
   t3 = Time.new(2007,11,1,13,25,0, &quot;-05:00&quot;) # CDT (Minneapolis)
   t4 = Time.new(2007,11,1,16,53,0, &quot;-04:00&quot;) # EDT (Charlotte)
   t5 = Time.new(2007,11,5, 9,24,0, &quot;-05:00&quot;) # EST (Charlotte)
   t6 = Time.new(2007,11,5,11,21,0, &quot;-05:00&quot;) # EST (Detroit)
   t7 = Time.new(2007,11,5,13,45,0, &quot;-05:00&quot;) # EST (Detroit)
   t8 = Time.new(2007,11,6,17,10,0, &quot;+09:00&quot;) # JST (Narita)
   p((t2-t1)/3600.0)                          #=&gt; 10.666666666666666
   p((t4-t3)/3600.0)                          #=&gt; 2.466666666666667
   p((t6-t5)/3600.0)                          #=&gt; 1.95
   p((t8-t7)/3600.0)                          #=&gt; 13.416666666666666
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001293_source')" id="l_M001293_source">show</a>
                        
                    </p>
                    <div id="M001293_source" class="dyn-source">
                        <pre>static VALUE
time_init(int argc, VALUE *argv, VALUE time)
{
    if (argc == 0)
        return time_init_0(time);
    else
        return time_init_1(argc, argv, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001281">
                    
                    <a name="M001281"></a><b>now</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Synonym for <tt><a href="Time.html#M001293">Time.new</a></tt>. Returns a
<tt>Time</tt> object initialized to the current system time.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001281_source')" id="l_M001281_source">show</a>
                        
                    </p>
                    <div id="M001281_source" class="dyn-source">
                        <pre>static VALUE
time_s_now(VALUE klass)
{
    return rb_class_new_instance(0, NULL, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004994">
                    
                    <a name="M004994"></a><b>parse</b>(date, now=self.now)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> using <a href="Date.html#M004878">Date._parse</a> and
converts it to a <a href="Time.html">Time</a> object.
</p>
<p>
If a block is given, the year described in <tt>date</tt> is converted by
the block. For example:
</p>
<pre>
    Time.parse(...) {|y| 0 &lt;= y &amp;&amp; y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}
</pre>
<p>
If the upper components of the given time are broken or missing, they are
supplied with those of <tt>now</tt>. For the lower components, the minimum
values (1 or 0) are assumed if broken or missing. For example:
</p>
<pre>
    # Suppose it is &quot;Thu Nov 29 14:33:20 GMT 2001&quot; now and
    # your timezone is GMT:
    now = Time.parse(&quot;Thu Nov 29 14:33:20 GMT 2001&quot;)
    Time.parse(&quot;16:30&quot;, now)     #=&gt; 2001-11-29 16:30:00 +0900
    Time.parse(&quot;7/23&quot;, now)      #=&gt; 2001-07-23 00:00:00 +0900
    Time.parse(&quot;Aug 31&quot;, now)    #=&gt; 2001-08-31 00:00:00 +0900
    Time.parse(&quot;Aug 2000&quot;, now)  #=&gt; 2000-08-01 00:00:00 +0900
</pre>
<p>
Since there are numerous conflicts among locally defined timezone
abbreviations all over the world, this method is not made to understand all
of them. For example, the abbreviation &#8220;CST&#8221; is used variously
as:
</p>
<pre>
    -06:00 in America/Chicago,
    -05:00 in America/Havana,
    +08:00 in Asia/Harbin,
    +09:30 in Australia/Darwin,
    +10:30 in Australia/Adelaide,
    etc.
</pre>
<p>
Based on the fact, this method only understands the timezone abbreviations
described in RFC 822 and the system timezone, in the order named. (i.e. a
definition in RFC 822 overrides the system timezone definition.) The system
timezone is taken from <tt><a href="Time.html#M001285">Time.local</a>(year,
1, 1).zone</tt> and <tt><a href="Time.html#M001285">Time.local</a>(year, 7,
1).zone</tt>. If the extracted timezone abbreviation does not match any of
them, it is ignored and the given time is regarded as a local time.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <a
href="Date.html#M004878">Date._parse</a> cannot extract information from
<tt>date</tt> or <a href="Time.html">Time</a> class cannot represent
specified date.
</p>
<p>
This method can be used as fail-safe for other parsing methods as:
</p>
<pre>
  Time.rfc2822(date) rescue Time.parse(date)
  Time.httpdate(date) rescue Time.parse(date)
  Time.xmlschema(date) rescue Time.parse(date)
</pre>
<p>
<a href="A.html">A</a> failure for <a
href="Time.html#M004994">Time.parse</a> should be checked, though.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004994_source')" id="l_M004994_source">show</a>
                        
                    </p>
                    <div id="M004994_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 259</span>
259:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">now</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">now</span>)
260:       <span class="ruby-identifier">comp</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
261:       <span class="ruby-identifier">d</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">_parse</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">comp</span>)
262:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:year</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mon</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mday</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:min</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec_fraction</span>]
263:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;no time information in #{date.inspect}&quot;</span>
264:       <span class="ruby-keyword kw">end</span>
265:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:year</span>]
266:       <span class="ruby-identifier">year</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">year</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">comp</span>
267:       <span class="ruby-identifier">make_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mon</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mday</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:hour</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:min</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec_fraction</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:zone</span>], <span class="ruby-identifier">now</span>)
268:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004996">
                    
                    <a name="M004996"></a><b>rfc2822</b>(date)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
<a href="Time.html">Time</a> object. The format is identical to the date
format defined by RFC 822 and updated by RFC 1123.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <tt>date</tt>
is not compliant with RFC 2822 or <a href="Time.html">Time</a> class cannot
represent specified date.
</p>
<p>
See <a href="Time.html#M004996">rfc2822</a> for more information on this
format.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004996_source')" id="l_M004996_source">show</a>
                        
                    </p>
                    <div id="M004996_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 304</span>
304:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rfc2822</span>(<span class="ruby-identifier">date</span>)
305:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
306:           (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
307:           (\d{1,2})\s+
308:           (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
309:           (\d{2,})\s+
310:           (\d{2})\s*
311:           :\s*(\d{2})\s*
312:           (?::\s*(\d{2}))?\s+
313:           ([+-]\d{4}|
314:            UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
315:         <span class="ruby-comment cmt"># Since RFC 2822 permit comments, the regexp has no right anchor.</span>
316:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>
317:         <span class="ruby-identifier">mon</span> = <span class="ruby-constant">MonthValue</span>[<span class="ruby-identifier">$2</span>.<span class="ruby-identifier">upcase</span>]
318:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>
319:         <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>
320:         <span class="ruby-identifier">min</span> = <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>
321:         <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">$6</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
322:         <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">$7</span>
323: 
324:         <span class="ruby-comment cmt"># following year completion is compliant with RFC 2822.</span>
325:         <span class="ruby-identifier">year</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50</span>
326:                  <span class="ruby-value">2000</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">year</span>
327:                <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1000</span>
328:                  <span class="ruby-value">1900</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">year</span>
329:                <span class="ruby-keyword kw">else</span>
330:                  <span class="ruby-identifier">year</span>
331:                <span class="ruby-keyword kw">end</span>
332: 
333:         <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span> =
334:           <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>))
335:         <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>)
336:         <span class="ruby-identifier">t</span>.<span class="ruby-identifier">localtime</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
337:         <span class="ruby-identifier">t</span>
338:       <span class="ruby-keyword kw">else</span>
339:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;not RFC 2822 compliant date: #{date.inspect}&quot;</span>)
340:       <span class="ruby-keyword kw">end</span>
341:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004995">
                    
                    <a name="M004995"></a><b>strptime</b>(date, format, now=self.now)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> using <a href="Date.html#M004862">Date._strptime</a>
and converts it to a <a href="Time.html">Time</a> object.
</p>
<p>
If a block is given, the year described in <tt>date</tt> is converted by
the block. For example:
</p>
<pre>
    Time.strptime(...) {|y| y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004995_source')" id="l_M004995_source">show</a>
                        
                    </p>
                    <div id="M004995_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 277</span>
277:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strptime</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">format</span>, <span class="ruby-identifier">now</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">now</span>)
278:       <span class="ruby-identifier">d</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">_strptime</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">format</span>)
279:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;invalid strptime format - `#{format}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">d</span>
280:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:year</span>]
281:       <span class="ruby-identifier">year</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">year</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block_given?</span>
282:       <span class="ruby-identifier">make_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mon</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mday</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:hour</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:min</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec_fraction</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:zone</span>], <span class="ruby-identifier">now</span>)
283:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001283">
                    
                    <a name="M001283"></a><b>Time.utc(year) &rarr; time
Time.utc(year, month) &rarr; time
Time.utc(year, month, day) &rarr; time
Time.utc(year, month, day, hour) &rarr; time
Time.utc(year, month, day, hour, min) &rarr; time
Time.utc(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.utc(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.utc(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.gm(year) &rarr; time
Time.gm(year, month) &rarr; time
Time.gm(year, month, day) &rarr; time
Time.gm(year, month, day, hour) &rarr; time
Time.gm(year, month, day, hour, min) &rarr; time
Time.gm(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.gm(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.gm(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a time based on given values, interpreted as UTC (GMT). The year
must be specified. Other values default to the minimum value for that field
(and may be <tt>nil</tt> or omitted). Months may be specified by numbers
from 1 to 12, or by the three-letter English month names. Hours are
specified on a 24-hour clock (0..23). Raises an <tt>ArgumentError</tt> if
any values are out of range. Will also accept ten arguments in the order
output by <tt><a href="Time.html#M001305">Time#to_a</a></tt>.
<em>sec_with_frac</em> and <em>usec_with_frac</em> can have a fractional
part.
</p>
<pre>
   Time.utc(2000,&quot;jan&quot;,1,20,15,1)  #=&gt; 2000-01-01 20:15:01 UTC
   Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001283_source')" id="l_M001283_source">show</a>
                        
                    </p>
                    <div id="M001283_source" class="dyn-source">
                        <pre>static VALUE
time_s_mkutc(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, TRUE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004998">
                    
                    <a name="M004998"></a><b>xmlschema</b>(date)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> as date<a href="Time.html">Time</a> defined by XML
Schema and converts it to a <a href="Time.html">Time</a> object. The format
is restricted version of the format defined by ISO 8601.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <tt>date</tt>
is not compliant with the format or <a href="Time.html">Time</a> class
cannot represent specified date.
</p>
<p>
See <a href="Time.html#M004998">xmlschema</a> for more information on this
format.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004998_source')" id="l_M004998_source">show</a>
                        
                    </p>
                    <div id="M004998_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 408</span>
408:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xmlschema</span>(<span class="ruby-identifier">date</span>)
409:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
410:           (-?\d+)-(\d\d)-(\d\d)
411:           T
412:           (\d\d):(\d\d):(\d\d)
413:           (\.\d+)?
414:           (Z|[+-]\d\d:\d\d)?
415:           \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
416:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>
417:         <span class="ruby-identifier">mon</span> = <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span>
418:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>
419:         <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>
420:         <span class="ruby-identifier">min</span> = <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>
421:         <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>
422:         <span class="ruby-identifier">usec</span> = <span class="ruby-value">0</span>
423:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$7</span>
424:           <span class="ruby-identifier">usec</span> = <span class="ruby-constant">Rational</span>(<span class="ruby-identifier">$7</span>) <span class="ruby-operator">*</span> <span class="ruby-value">1000000</span>
425:         <span class="ruby-keyword kw">end</span>
426:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$8</span>
427:           <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">$8</span>
428:           <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span> =
429:             <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>))
430:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
431:         <span class="ruby-keyword kw">else</span>
432:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
433:         <span class="ruby-keyword kw">end</span>
434:       <span class="ruby-keyword kw">else</span>
435:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;invalid date: #{date.inspect}&quot;</span>)
436:       <span class="ruby-keyword kw">end</span>
437:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007961">
                    
                    <a name="M007961"></a><b>yaml_new</b>( klass, tag, val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007961_source')" id="l_M007961_source">show</a>
                        
                    </p>
                    <div id="M007961_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/rubytypes.rb, line 312</span>
312:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">yaml_new</span>( <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-identifier">val</span> )
313:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
314:             <span class="ruby-identifier">t</span> = <span class="ruby-identifier">val</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value str">'at'</span> )
315:             <span class="ruby-identifier">val</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">instance_variable_set</span>( <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> ) }
316:             <span class="ruby-identifier">t</span>
317:         <span class="ruby-keyword kw">else</span>
318:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeError</span>, <span class="ruby-value str">&quot;Invalid Time: &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">inspect</span>
319:         <span class="ruby-keyword kw">end</span>
320:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004989">
                    
                    <a name="M004989"></a><b>zone_offset</b>(zone, year=self.now.year)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004989_source')" id="l_M004989_source">show</a>
                        
                    </p>
                    <div id="M004989_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/time.rb, line 65</span>
65:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>, <span class="ruby-identifier">year</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>)
66:       <span class="ruby-identifier">off</span> = <span class="ruby-keyword kw">nil</span>
67:       <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">zone</span>.<span class="ruby-identifier">upcase</span>
68:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A([+-])(\d\d):?(\d\d)\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">zone</span>
69:         <span class="ruby-identifier">off</span> = (<span class="ruby-identifier">$1</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'-'</span> <span class="ruby-operator">?</span> <span class="ruby-value">-1</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span>) <span class="ruby-operator">*</span> (<span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>) <span class="ruby-operator">*</span> <span class="ruby-value">60</span>
70:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-regexp re">/\A[+-]\d\d\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">zone</span>
71:         <span class="ruby-identifier">off</span> = <span class="ruby-identifier">zone</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>
72:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">ZoneOffset</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">zone</span>)
73:         <span class="ruby-identifier">off</span> = <span class="ruby-constant">ZoneOffset</span>[<span class="ruby-identifier">zone</span>] <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>
74:       <span class="ruby-keyword kw">elsif</span> ((<span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)).<span class="ruby-identifier">zone</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">zone</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">false</span>)
75:         <span class="ruby-identifier">off</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">utc_offset</span>
76:       <span class="ruby-keyword kw">elsif</span> ((<span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>)).<span class="ruby-identifier">zone</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">zone</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">false</span>)
77:         <span class="ruby-identifier">off</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">utc_offset</span>
78:       <span class="ruby-keyword kw">end</span>
79:       <span class="ruby-identifier">off</span>
80:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Private methods</div>
            
            <div class="method">
                <div class="title" id="M004992">
                    
                    <a name="M004992"></a><b>apply_offset</b>(year, mon, day, hour, min, sec, off)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004992_source')" id="l_M004992_source">show</a>
                        
                    </p>
                    <div id="M004992_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 122</span>
122:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">off</span>)
123:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
124:         <span class="ruby-identifier">off</span> = <span class="ruby-operator">-</span><span class="ruby-identifier">off</span>
125:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
126:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">sec</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">sec</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
127:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
128:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">min</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">min</span> = <span class="ruby-identifier">min</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
129:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>)
130:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">hour</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">hour</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
131:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
132:           <span class="ruby-identifier">day</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">off</span>
133:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_days</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">day</span>
134:             <span class="ruby-identifier">mon</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
135:             <span class="ruby-keyword kw">if</span> <span class="ruby-value">12</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">mon</span>
136:               <span class="ruby-identifier">mon</span> = <span class="ruby-value">1</span>
137:               <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
138:             <span class="ruby-keyword kw">end</span>
139:             <span class="ruby-identifier">day</span> = <span class="ruby-value">1</span>
140:           <span class="ruby-keyword kw">end</span>
141:         <span class="ruby-keyword kw">end</span>
142:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-value">0</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">off</span>
143:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
144:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">sec</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">sec</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
145:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
146:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">min</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">min</span> = <span class="ruby-identifier">min</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
147:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>)
148:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">hour</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">hour</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
149:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
150:           <span class="ruby-identifier">day</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">off</span>
151:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">day</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>
152:             <span class="ruby-identifier">mon</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
153:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mon</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>
154:               <span class="ruby-identifier">year</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
155:               <span class="ruby-identifier">mon</span> = <span class="ruby-value">12</span>
156:             <span class="ruby-keyword kw">end</span>
157:             <span class="ruby-identifier">day</span> = <span class="ruby-identifier">month_days</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>)
158:           <span class="ruby-keyword kw">end</span>
159:         <span class="ruby-keyword kw">end</span>
160:       <span class="ruby-keyword kw">end</span>
161:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>
162:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004993">
                    
                    <a name="M004993"></a><b>make_time</b>(year, mon, day, hour, min, sec, sec_fraction, zone, now)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004993_source')" id="l_M004993_source">show</a>
                        
                    </p>
                    <div id="M004993_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 165</span>
165:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">sec_fraction</span>, <span class="ruby-identifier">zone</span>, <span class="ruby-identifier">now</span>)
166:       <span class="ruby-identifier">usec</span> = <span class="ruby-keyword kw">nil</span>
167:       <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">sec_fraction</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000000</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sec_fraction</span>
168:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">now</span>
169:         <span class="ruby-keyword kw">begin</span>
170:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span>; <span class="ruby-identifier">year</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>
171:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mon</span>; <span class="ruby-identifier">mon</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">mon</span>
172:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">day</span>; <span class="ruby-identifier">day</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">day</span>
173:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hour</span>; <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">hour</span>
174:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">min</span>; <span class="ruby-identifier">min</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">min</span>
175:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sec</span>; <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">sec</span>
176:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sec_fraction</span>; <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">tv_usec</span>
177:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">until</span> <span class="ruby-keyword kw">true</span>
178:       <span class="ruby-keyword kw">end</span>
179: 
180:       <span class="ruby-identifier">year</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1970</span>
181:       <span class="ruby-identifier">mon</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1</span>
182:       <span class="ruby-identifier">day</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1</span>
183:       <span class="ruby-identifier">hour</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
184:       <span class="ruby-identifier">min</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
185:       <span class="ruby-identifier">sec</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
186:       <span class="ruby-identifier">usec</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
187: 
188:       <span class="ruby-identifier">off</span> = <span class="ruby-keyword kw">nil</span>
189:       <span class="ruby-identifier">off</span> = <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>, <span class="ruby-identifier">year</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">zone</span>
190: 
191:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span>
192:         <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span> =
193:           <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">off</span>)
194:         <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
195:         <span class="ruby-identifier">t</span>.<span class="ruby-identifier">localtime</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
196:         <span class="ruby-identifier">t</span>
197:       <span class="ruby-keyword kw">else</span>
198:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
199:       <span class="ruby-keyword kw">end</span>
200:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004991">
                    
                    <a name="M004991"></a><b>month_days</b>(y, m)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004991_source')" id="l_M004991_source">show</a>
                        
                    </p>
                    <div id="M004991_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 113</span>
113:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">month_days</span>(<span class="ruby-identifier">y</span>, <span class="ruby-identifier">m</span>)
114:       <span class="ruby-keyword kw">if</span> ((<span class="ruby-identifier">y</span> <span class="ruby-operator">%</span> <span class="ruby-value">4</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">%</span> <span class="ruby-value">100</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)) <span class="ruby-operator">||</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">%</span> <span class="ruby-value">400</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>)
115:         <span class="ruby-constant">LeapYearMonthDays</span>[<span class="ruby-identifier">m</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>]
116:       <span class="ruby-keyword kw">else</span>
117:         <span class="ruby-constant">CommonYearMonthDays</span>[<span class="ruby-identifier">m</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>]
118:       <span class="ruby-keyword kw">end</span>
119:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004990">
                    
                    <a name="M004990"></a><b>zone_utc?</b>(zone)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004990_source')" id="l_M004990_source">show</a>
                        
                    </p>
                    <div id="M004990_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 82</span>
 82:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
 83:       <span class="ruby-comment cmt"># * +0000</span>
 84:       <span class="ruby-comment cmt">#   In RFC 2822, +0000 indicate a time zone at Universal Time.</span>
 85:       <span class="ruby-comment cmt">#   Europe/London is &quot;a time zone at Universal Time&quot; in Winter.</span>
 86:       <span class="ruby-comment cmt">#   Europe/Lisbon is &quot;a time zone at Universal Time&quot; in Winter.</span>
 87:       <span class="ruby-comment cmt">#   Atlantic/Reykjavik is &quot;a time zone at Universal Time&quot;.</span>
 88:       <span class="ruby-comment cmt">#   Africa/Dakar is &quot;a time zone at Universal Time&quot;.</span>
 89:       <span class="ruby-comment cmt">#   So +0000 is a local time such as Europe/London, etc.</span>
 90:       <span class="ruby-comment cmt"># * GMT</span>
 91:       <span class="ruby-comment cmt">#   GMT is used as a time zone abbreviation in Europe/London,</span>
 92:       <span class="ruby-comment cmt">#   Africa/Dakar, etc.</span>
 93:       <span class="ruby-comment cmt">#   So it is a local time.</span>
 94:       <span class="ruby-comment cmt">#</span>
 95:       <span class="ruby-comment cmt"># * -0000, -00:00</span>
 96:       <span class="ruby-comment cmt">#   In RFC 2822, -0000 the date-time contains no information about the</span>
 97:       <span class="ruby-comment cmt">#   local time zone.</span>
 98:       <span class="ruby-comment cmt">#   In RFC 3339, -00:00 is used for the time in UTC is known,</span>
 99:       <span class="ruby-comment cmt">#   but the offset to local time is unknown.</span>
100:       <span class="ruby-comment cmt">#   They are not appropriate for specific time zone such as</span>
101:       <span class="ruby-comment cmt">#   Europe/London because time zone neutral,</span>
102:       <span class="ruby-comment cmt">#   So -00:00 and -0000 are treated as UTC.</span>
103:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A(?:-00:00|-0000|-00|UTC|Z|UT)\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">zone</span>
104:         <span class="ruby-keyword kw">true</span>
105:       <span class="ruby-keyword kw">else</span>
106:         <span class="ruby-keyword kw">false</span>
107:       <span class="ruby-keyword kw">end</span>
108:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001306">
                    
                    <a name="M001306"></a><b>time + numeric &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Addition&#8212;Adds some number of seconds (possibly fractional) to
<em>time</em> and returns that value as a new time.
</p>
<pre>
   t = Time.now         #=&gt; 2007-11-19 08:22:21 -0600
   t + (60 * 60 * 24)   #=&gt; 2007-11-20 08:22:21 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001306_source')" id="l_M001306_source">show</a>
                        
                    </p>
                    <div id="M001306_source" class="dyn-source">
                        <pre>static VALUE
time_plus(VALUE time1, VALUE time2)
{
    struct time_object *tobj;
    GetTimeval(time1, tobj);

    if (IsTimeval(time2)) {
        rb_raise(rb_eTypeError, &quot;time + time?&quot;);
    }
    return time_add(tobj, time2, 1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001307">
                    
                    <a name="M001307"></a><b>time - other_time &rarr; float
time - numeric    &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Difference&#8212;Returns a new time that represents the difference between
two times, or subtracts the given number of seconds in <em>numeric</em>
from <em>time</em>.
</p>
<pre>
   t = Time.now       #=&gt; 2007-11-19 08:23:10 -0600
   t2 = t + 2592000   #=&gt; 2007-12-19 08:23:10 -0600
   t2 - t             #=&gt; 2592000.0
   t2 - 2592000       #=&gt; 2007-11-19 08:23:10 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001307_source')" id="l_M001307_source">show</a>
                        
                    </p>
                    <div id="M001307_source" class="dyn-source">
                        <pre>static VALUE
time_minus(VALUE time1, VALUE time2)
{
    struct time_object *tobj;

    GetTimeval(time1, tobj);
    if (IsTimeval(time2)) {
        struct time_object *tobj2;

        GetTimeval(time2, tobj2);
        return rb_Float(rb_time_unmagnify_to_float(wsub(tobj-&gt;timew, tobj2-&gt;timew)));
    }
    return time_add(tobj, time2, -1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001290">
                    
                    <a name="M001290"></a><b>time <=> other_time &rarr; -1, 0, +1 or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Comparison&#8212;Compares <em>time</em> with <em>other_time</em>.
</p>
<pre>
   t = Time.now       #=&gt; 2007-11-19 08:12:12 -0600
   t2 = t + 2592000   #=&gt; 2007-12-19 08:12:12 -0600
   t &lt;=&gt; t2           #=&gt; -1
   t2 &lt;=&gt; t           #=&gt; 1

   t = Time.now       #=&gt; 2007-11-19 08:13:38 -0600
   t2 = t + 0.1       #=&gt; 2007-11-19 08:13:38 -0600
   t.nsec             #=&gt; 98222999
   t2.nsec            #=&gt; 198222999
   t &lt;=&gt; t2           #=&gt; -1
   t2 &lt;=&gt; t           #=&gt; 1
   t &lt;=&gt; t            #=&gt; 0
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001290_source')" id="l_M001290_source">show</a>
                        
                    </p>
                    <div id="M001290_source" class="dyn-source">
                        <pre>static VALUE
time_cmp(VALUE time1, VALUE time2)
{
    struct time_object *tobj1, *tobj2;
    int n;

    GetTimeval(time1, tobj1);
    if (IsTimeval(time2)) {
        GetTimeval(time2, tobj2);
        n = wcmp(tobj1-&gt;timew, tobj2-&gt;timew);
    }
    else {
        VALUE tmp;

        tmp = rb_funcall(time2, rb_intern(&quot;&lt;=&gt;&quot;), 1, time1);
        if (NIL_P(tmp)) return Qnil;

        n = -rb_cmpint(tmp, time1, time2);
    }
    if (n == 0) return INT2FIX(0);
    if (n &gt; 0) return INT2FIX(1);
    return INT2FIX(-1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001342">
                    
                    <a name="M001342"></a><b>time._dump   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Dump <em>time</em> for marshaling.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001342_source')" id="l_M001342_source">show</a>
                        
                    </p>
                    <div id="M001342_source" class="dyn-source">
                        <pre>static VALUE
time_dump(int argc, VALUE *argv, VALUE time)
{
    VALUE str;

    rb_scan_args(argc, argv, &quot;01&quot;, 0);
    str = time_mdump(time);

    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001302">
                    
                    <a name="M001302"></a><b>time.asctime &rarr; string
time.ctime   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a canonical string representation of <em>time</em>.
</p>
<pre>
   Time.now.asctime   #=&gt; &quot;Wed Apr  9 08:56:03 2003&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001302_source')" id="l_M001302_source">show</a>
                        
                    </p>
                    <div id="M001302_source" class="dyn-source">
                        <pre>static VALUE
time_asctime(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return strftimev(&quot;%a %b %e %T %Y&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001301">
                    
                    <a name="M001301"></a><b>time.asctime &rarr; string
time.ctime   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a canonical string representation of <em>time</em>.
</p>
<pre>
   Time.now.asctime   #=&gt; &quot;Wed Apr  9 08:56:03 2003&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001301_source')" id="l_M001301_source">show</a>
                        
                    </p>
                    <div id="M001301_source" class="dyn-source">
                        <pre>static VALUE
time_asctime(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return strftimev(&quot;%a %b %e %T %Y&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001314">
                    
                    <a name="M001314"></a><b>time.day  &rarr; fixnum
time.mday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the month (1..n) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:03 -0600
   t.day          #=&gt; 19
   t.mday         #=&gt; 19
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001314_source')" id="l_M001314_source">show</a>
                        
                    </p>
                    <div id="M001314_source" class="dyn-source">
                        <pre>static VALUE
time_mday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001321">
                    
                    <a name="M001321"></a><b>time.isdst &rarr; true or false
time.dst?  &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> occurs during Daylight Saving <a
href="Time.html">Time</a> in its time zone.
</p>
<pre>
 # CST6CDT:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;CST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;CDT&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; true
   Time.local(2000, 7, 1).dst?    #=&gt; true

 # Asia/Tokyo:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; false
   Time.local(2000, 7, 1).dst?    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001321_source')" id="l_M001321_source">show</a>
                        
                    </p>
                    <div id="M001321_source" class="dyn-source">
                        <pre>static VALUE
time_isdst(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return tobj-&gt;vtm.isdst ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001291">
                    
                    <a name="M001291"></a><b>time.eql?(other_time)
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return <tt>true</tt> if <em>time</em> and <em>other_time</em> are both
<tt>Time</tt> objects with the same seconds and fractional seconds.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001291_source')" id="l_M001291_source">show</a>
                        
                    </p>
                    <div id="M001291_source" class="dyn-source">
                        <pre>static VALUE
time_eql(VALUE time1, VALUE time2)
{
    struct time_object *tobj1, *tobj2;

    GetTimeval(time1, tobj1);
    if (IsTimeval(time2)) {
        GetTimeval(time2, tobj2);
        return rb_equal(w2v(tobj1-&gt;timew), w2v(tobj2-&gt;timew));
    }
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001333">
                    
                    <a name="M001333"></a><b>time.friday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Friday.
</p>
<pre>
   t = Time.local(1987, 12, 18)     #=&gt; 1987-12-18 00:00:00 -0600
   t.friday?                        #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001333_source')" id="l_M001333_source">show</a>
                        
                    </p>
                    <div id="M001333_source" class="dyn-source">
                        <pre>static VALUE
time_friday(VALUE time)
{
    wday_p(5);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001299">
                    
                    <a name="M001299"></a><b>time.getgm  &rarr; new_time
time.getutc &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new <tt>new_time</tt> object representing <em>time</em> in UTC.
</p>
<pre>
   t = Time.local(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
   t.gmt?                             #=&gt; false
   y = t.getgm                        #=&gt; 2000-01-02 02:15:01 UTC
   y.gmt?                             #=&gt; true
   t == y                             #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001299_source')" id="l_M001299_source">show</a>
                        
                    </p>
                    <div id="M001299_source" class="dyn-source">
                        <pre>static VALUE
time_getgmtime(VALUE time)
{
    return time_gmtime(time_dup(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001298">
                    
                    <a name="M001298"></a><b>time.getlocal &rarr; new_time
time.getlocal(utc_offset) &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new <tt>new_time</tt> object representing <em>time</em> in local
time (using the local time zone in effect for this process).
</p>
<p>
If <em><a href="Time.html#M001325">utc_offset</a></em> is given, it is used
instead of the local time.
</p>
<pre>
   t = Time.utc(2000,1,1,20,15,1)  #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                          #=&gt; true

   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.utc?                          #=&gt; false
   t == l                          #=&gt; true

   j = t.getlocal(&quot;+09:00&quot;)        #=&gt; 2000-01-02 05:15:01 +0900
   j.utc?                          #=&gt; false
   t == j                          #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001298_source')" id="l_M001298_source">show</a>
                        
                    </p>
                    <div id="M001298_source" class="dyn-source">
                        <pre>static VALUE
time_getlocaltime(int argc, VALUE *argv, VALUE time)
{
    VALUE off;
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;off);

    if (!NIL_P(off)) {
        off = utc_offset_arg(off);
        validate_utc_offset(off);

        time = time_dup(time);
        time_set_utc_offset(time, off);
        return time_fixoff(time);
    }

    return time_localtime(time_dup(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001300">
                    
                    <a name="M001300"></a><b>time.getgm  &rarr; new_time
time.getutc &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new <tt>new_time</tt> object representing <em>time</em> in UTC.
</p>
<pre>
   t = Time.local(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
   t.gmt?                             #=&gt; false
   y = t.getgm                        #=&gt; 2000-01-02 02:15:01 UTC
   y.gmt?                             #=&gt; true
   t == y                             #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001300_source')" id="l_M001300_source">show</a>
                        
                    </p>
                    <div id="M001300_source" class="dyn-source">
                        <pre>static VALUE
time_getgmtime(VALUE time)
{
    return time_gmtime(time_dup(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001327">
                    
                    <a name="M001327"></a><b>time.utc? &rarr; true or false
time.gmt? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents a time in UTC (GMT).
</p>
<pre>
   t = Time.now                        #=&gt; 2007-11-19 08:15:23 -0600
   t.utc?                              #=&gt; false
   t = Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                              #=&gt; true

   t = Time.now                        #=&gt; 2007-11-19 08:16:03 -0600
   t.gmt?                              #=&gt; false
   t = Time.gm(2000,1,1,20,15,1)       #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt?                              #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001327_source')" id="l_M001327_source">show</a>
                        
                    </p>
                    <div id="M001327_source" class="dyn-source">
                        <pre>static VALUE
time_utc_p(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001324">
                    
                    <a name="M001324"></a><b>time.gmt_offset &rarr; fixnum
time.gmtoff     &rarr; fixnum
time.utc_offset &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset in seconds between the timezone of <em>time</em> and
UTC.
</p>
<pre>
   t = Time.gm(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt_offset                    #=&gt; 0
   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.gmt_offset                    #=&gt; -21600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001324_source')" id="l_M001324_source">show</a>
                        
                    </p>
                    <div id="M001324_source" class="dyn-source">
                        <pre>static VALUE
time_utc_offset(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
        return INT2FIX(0);
    }
    else {
        return tobj-&gt;vtm.utc_offset;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001296">
                    
                    <a name="M001296"></a><b>time.gmtime    &rarr; time
time.utc       &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Converts <em>time</em> to UTC (GMT), modifying the receiver.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:18:31 -0600
   t.gmt?         #=&gt; false
   t.gmtime       #=&gt; 2007-11-19 14:18:31 UTC
   t.gmt?         #=&gt; true

   t = Time.now   #=&gt; 2007-11-19 08:18:51 -0600
   t.utc?         #=&gt; false
   t.utc          #=&gt; 2007-11-19 14:18:51 UTC
   t.utc?         #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001296_source')" id="l_M001296_source">show</a>
                        
                    </p>
                    <div id="M001296_source" class="dyn-source">
                        <pre>static VALUE
time_gmtime(VALUE time)
{
    struct time_object *tobj;
    struct vtm vtm;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) {
        if (tobj-&gt;tm_got)
            return time;
    }
    else {
        time_modify(time);
    }

    if (!gmtimew(tobj-&gt;timew, &amp;vtm))
        rb_raise(rb_eArgError, &quot;gmtime error&quot;);
    tobj-&gt;vtm = vtm;

    tobj-&gt;tm_got = 1;
    TIME_SET_UTC(tobj);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001323">
                    
                    <a name="M001323"></a><b>time.gmt_offset &rarr; fixnum
time.gmtoff     &rarr; fixnum
time.utc_offset &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset in seconds between the timezone of <em>time</em> and
UTC.
</p>
<pre>
   t = Time.gm(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt_offset                    #=&gt; 0
   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.gmt_offset                    #=&gt; -21600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001323_source')" id="l_M001323_source">show</a>
                        
                    </p>
                    <div id="M001323_source" class="dyn-source">
                        <pre>static VALUE
time_utc_offset(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
        return INT2FIX(0);
    }
    else {
        return tobj-&gt;vtm.utc_offset;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001292">
                    
                    <a name="M001292"></a><b>time.hash   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return a hash code for this time object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001292_source')" id="l_M001292_source">show</a>
                        
                    </p>
                    <div id="M001292_source" class="dyn-source">
                        <pre>static VALUE
time_hash(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_hash(w2v(tobj-&gt;timew));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001312">
                    
                    <a name="M001312"></a><b>time.hour &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the hour of the day (0..23) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:26:20 -0600
   t.hour         #=&gt; 8
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001312_source')" id="l_M001312_source">show</a>
                        
                    </p>
                    <div id="M001312_source" class="dyn-source">
                        <pre>static VALUE
time_hour(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.hour);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005002">
                    
                    <a name="M005002"></a><b>httpdate</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string which represents the time as rfc1123-date of HTTP-date
defined by RFC 2616:
</p>
<pre>
  day-of-week, DD month-name CCYY hh:mm:ss GMT
</pre>
<p>
Note that the result is always UTC (GMT).
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005002_source')" id="l_M005002_source">show</a>
                        
                    </p>
                    <div id="M005002_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 489</span>
489:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">httpdate</span>
490:     <span class="ruby-identifier">t</span> = <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">utc</span>
491:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s, %02d %s %0*d %02d:%02d:%02d GMT'</span>,
492:       <span class="ruby-constant">RFC2822_DAY_NAME</span>[<span class="ruby-identifier">t</span>.<span class="ruby-identifier">wday</span>],
493:       <span class="ruby-identifier">t</span>.<span class="ruby-identifier">day</span>, <span class="ruby-constant">RFC2822_MONTH_NAME</span>[<span class="ruby-identifier">t</span>.<span class="ruby-identifier">mon</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>], <span class="ruby-identifier">t</span>.<span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">5</span> <span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">year</span>,
494:       <span class="ruby-identifier">t</span>.<span class="ruby-identifier">hour</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">min</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">sec</span>)
495:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001304">
                    
                    <a name="M001304"></a><b>time.inspect &rarr; string
time.to_s    &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string representing <em>time</em>. Equivalent to calling <tt><a
href="Time.html#M001341">Time#strftime</a></tt> with a format string of
``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>%z</tt>&#8217;&#8217; for a local
time and ``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>UTC</tt>&#8217;&#8217;
for a UTC time.
</p>
<pre>
   Time.now.to_s       #=&gt; &quot;2007-10-05 16:09:51 +0900&quot;
   Time.now.utc.to_s   #=&gt; &quot;2007-10-05 07:09:51 UTC&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001304_source')" id="l_M001304_source">show</a>
                        
                    </p>
                    <div id="M001304_source" class="dyn-source">
                        <pre>static VALUE
time_to_s(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj))
        return strftimev(&quot;%Y-%m-%d %H:%M:%S UTC&quot;, time);
    else
        return strftimev(&quot;%Y-%m-%d %H:%M:%S %z&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001320">
                    
                    <a name="M001320"></a><b>time.isdst &rarr; true or false
time.dst?  &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> occurs during Daylight Saving <a
href="Time.html">Time</a> in its time zone.
</p>
<pre>
 # CST6CDT:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;CST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;CDT&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; true
   Time.local(2000, 7, 1).dst?    #=&gt; true

 # Asia/Tokyo:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; false
   Time.local(2000, 7, 1).dst?    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001320_source')" id="l_M001320_source">show</a>
                        
                    </p>
                    <div id="M001320_source" class="dyn-source">
                        <pre>static VALUE
time_isdst(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return tobj-&gt;vtm.isdst ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005004">
                    
                    <a name="M005004"></a><b>iso8601</b>(fraction_digits=0)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M004998">xmlschema</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M005005">
                    
                    <a name="M005005"></a><b>iso8601</b>(fraction_digits=0)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M004998">xmlschema</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M001295">
                    
                    <a name="M001295"></a><b>time.localtime &rarr; time
time.localtime(utc_offset) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Converts <em>time</em> to local time (using the local time zone in effect
for this process) modifying the receiver.
</p>
<p>
If <em><a href="Time.html#M001325">utc_offset</a></em> is given, it is used
instead of the local time.
</p>
<pre>
   t = Time.utc(2000, &quot;jan&quot;, 1, 20, 15, 1) #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                                  #=&gt; true

   t.localtime                             #=&gt; 2000-01-01 14:15:01 -0600
   t.utc?                                  #=&gt; false

   t.localtime(&quot;+09:00&quot;)                   #=&gt; 2000-01-02 05:15:01 +0900
   t.utc?                                  #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001295_source')" id="l_M001295_source">show</a>
                        
                    </p>
                    <div id="M001295_source" class="dyn-source">
                        <pre>static VALUE
time_localtime_m(int argc, VALUE *argv, VALUE time)
{
    VALUE off;
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;off);

    if (!NIL_P(off)) {
        off = utc_offset_arg(off);
        validate_utc_offset(off);

        time_set_utc_offset(time, off);
        return time_fixoff(time);
    }

    return time_localtime(time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001344">
                    
                    <a name="M001344"></a><b>marshal_dump</b>()
                    
                </div>
                
                <div class="description">
                  <p>
undocumented
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001344_source')" id="l_M001344_source">show</a>
                        
                    </p>
                    <div id="M001344_source" class="dyn-source">
                        <pre>static VALUE
time_mdump(VALUE time)
{
    struct time_object *tobj;
    unsigned long p, s;
    char buf[8];
    int i;
    VALUE str;

    struct vtm vtm;
    long year;
    long usec, nsec;
    VALUE subsecx, nano, subnano, v;

    GetTimeval(time, tobj);

    gmtimew(tobj-&gt;timew, &amp;vtm);

    if (FIXNUM_P(vtm.year)) {
        year = FIX2LONG(vtm.year);
        if (year &lt; 1900 || 1900+0xffff &lt; year)
            rb_raise(rb_eArgError, &quot;year too big to marshal: %ld UTC&quot;, year);
    }
    else {
        rb_raise(rb_eArgError, &quot;year too big to marshal&quot;);
    }

    subsecx = vtm.subsecx;

    nano = mulquo(subsecx, INT2FIX(1000000000), INT2FIX(TIME_SCALE));
    divmodv(nano, INT2FIX(1), &amp;v, &amp;subnano);
    nsec = FIX2LONG(v);
    usec = nsec / 1000;
    nsec = nsec % 1000;

    nano = add(LONG2FIX(nsec), subnano);

    p = 0x1UL            &lt;&lt; 31 | /*  1 */
        TIME_UTC_P(tobj) &lt;&lt; 30 | /*  1 */
        (year-1900)      &lt;&lt; 14 | /* 16 */
        (vtm.mon-1)      &lt;&lt; 10 | /*  4 */
        vtm.mday         &lt;&lt;  5 | /*  5 */
        vtm.hour;                /*  5 */
    s = vtm.min          &lt;&lt; 26 | /*  6 */
        vtm.sec          &lt;&lt; 20 | /*  6 */
        usec;    /* 20 */

    for (i=0; i&lt;4; i++) {
        buf[i] = (unsigned char)p;
        p = RSHIFT(p, 8);
    }
    for (i=4; i&lt;8; i++) {
        buf[i] = (unsigned char)s;
        s = RSHIFT(s, 8);
    }

    str = rb_str_new(buf, 8);
    rb_copy_generic_ivar(str, time);
    if (!rb_equal(nano, INT2FIX(0))) {
        if (TYPE(nano) == T_RATIONAL) {
            rb_ivar_set(str, id_nano_num, RRATIONAL(nano)-&gt;num);
            rb_ivar_set(str, id_nano_den, RRATIONAL(nano)-&gt;den);
        }
        else {
            rb_ivar_set(str, id_nano_num, nano);
            rb_ivar_set(str, id_nano_den, INT2FIX(1));
        }
    }
    if (nsec) { /* submicro is only for Ruby 1.9.1 compatibility */
        /*
         * submicro is formatted in fixed-point packed BCD (without sign).
         * It represent digits under microsecond.
         * For nanosecond resolution, 3 digits (2 bytes) are used.
         * However it can be longer.
         * Extra digits are ignored for loading.
         */
        char buf[2];
        int len = (int)sizeof(buf);
        buf[1] = (char)((nsec % 10) &lt;&lt; 4);
        nsec /= 10;
        buf[0] = (char)(nsec % 10);
        nsec /= 10;
        buf[0] |= (char)((nsec % 10) &lt;&lt; 4);
        if (buf[1] == 0)
            len = 1;
        rb_ivar_set(str, id_submicro, rb_str_new(buf, len));
    }
    if (!TIME_UTC_P(tobj)) {
        VALUE off = time_utc_offset(time), div, mod;
        divmodv(off, INT2FIX(1), &amp;div, &amp;mod);
        if (rb_equal(mod, INT2FIX(0)))
            off = rb_Integer(div);
        rb_ivar_set(str, id_offset, off);
    }
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001345">
                    
                    <a name="M001345"></a><b>marshal_load</b>(p1)
                    
                </div>
                
                <div class="description">
                  <p>
undocumented
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001345_source')" id="l_M001345_source">show</a>
                        
                    </p>
                    <div id="M001345_source" class="dyn-source">
                        <pre>static VALUE
time_mload(VALUE time, VALUE str)
{
    struct time_object *tobj;
    unsigned long p, s;
    time_t sec;
    long usec;
    unsigned char *buf;
    struct vtm vtm;
    int i, gmt;
    long nsec;
    VALUE submicro, nano_num, nano_den, offset;
    wideval_t timew;

    time_modify(time);

    nano_num = rb_attr_get(str, id_nano_num);
    if (nano_num != Qnil) {
        st_delete(rb_generic_ivar_table(str), (st_data_t*)&amp;id_nano_num, 0);
    }
    nano_den = rb_attr_get(str, id_nano_den);
    if (nano_den != Qnil) {
        st_delete(rb_generic_ivar_table(str), (st_data_t*)&amp;id_nano_den, 0);
    }
    submicro = rb_attr_get(str, id_submicro);
    if (submicro != Qnil) {
        st_delete(rb_generic_ivar_table(str), (st_data_t*)&amp;id_submicro, 0);
    }
    offset = rb_attr_get(str, id_offset);
    if (offset != Qnil) {
        validate_utc_offset(offset);
        st_delete(rb_generic_ivar_table(str), (st_data_t*)&amp;id_offset, 0);
    }
    rb_copy_generic_ivar(time, str);

    StringValue(str);
    buf = (unsigned char *)RSTRING_PTR(str);
    if (RSTRING_LEN(str) != 8) {
        rb_raise(rb_eTypeError, &quot;marshaled time format differ&quot;);
    }

    p = s = 0;
    for (i=0; i&lt;4; i++) {
        p |= buf[i]&lt;&lt;(8*i);
    }
    for (i=4; i&lt;8; i++) {
        s |= buf[i]&lt;&lt;(8*(i-4));
    }

    if ((p &amp; (1UL&lt;&lt;31)) == 0) {
        gmt = 0;
        offset = Qnil;
        sec = p;
        usec = s;
        nsec = usec * 1000;
        timew = wadd(rb_time_magnify(TIMET2WV(sec)), wmulquoll(WINT2FIXWV(usec), TIME_SCALE, 1000000));
    }
    else {
        p &amp;= ~(1UL&lt;&lt;31);
        gmt        = (int)((p &gt;&gt; 30) &amp; 0x1);

        vtm.year = INT2FIX(((int)(p &gt;&gt; 14) &amp; 0xffff) + 1900);
        vtm.mon  = ((int)(p &gt;&gt; 10) &amp; 0xf) + 1;
        vtm.mday = (int)(p &gt;&gt;  5) &amp; 0x1f;
        vtm.hour = (int) p        &amp; 0x1f;
        vtm.min  = (int)(s &gt;&gt; 26) &amp; 0x3f;
        vtm.sec  = (int)(s &gt;&gt; 20) &amp; 0x3f;
        vtm.utc_offset = INT2FIX(0);
        vtm.yday = vtm.wday = 0;
        vtm.isdst = 0;
        vtm.zone = &quot;&quot;;

        usec = (long)(s &amp; 0xfffff);
        nsec = usec * 1000;


        vtm.subsecx = mulquo(LONG2FIX(nsec), INT2FIX(TIME_SCALE), LONG2FIX(1000000000));
        if (nano_num != Qnil) {
            VALUE nano = quo(num_exact(nano_num), num_exact(nano_den));
            vtm.subsecx = add(vtm.subsecx, mulquo(nano, INT2FIX(TIME_SCALE), LONG2FIX(1000000000)));
        }
        else if (submicro != Qnil) { /* for Ruby 1.9.1 compatibility */
            unsigned char *ptr;
            long len;
            int digit;
            ptr = (unsigned char*)StringValuePtr(submicro);
            len = RSTRING_LEN(submicro);
            nsec = 0;
            if (0 &lt; len) {
                if (10 &lt;= (digit = ptr[0] &gt;&gt; 4)) goto end_submicro;
                nsec += digit * 100;
                if (10 &lt;= (digit = ptr[0] &amp; 0xf)) goto end_submicro;
                nsec += digit * 10;
            }
            if (1 &lt; len) {
                if (10 &lt;= (digit = ptr[1] &gt;&gt; 4)) goto end_submicro;
                nsec += digit;
            }
            vtm.subsecx = add(vtm.subsecx, mulquo(LONG2FIX(nsec), INT2FIX(TIME_SCALE), LONG2FIX(1000000000)));
end_submicro: ;
        }
        timew = timegmw(&amp;vtm);
    }

    GetTimeval(time, tobj);
    tobj-&gt;tm_got = 0;
    tobj-&gt;timew = timew;
    if (gmt) {
        TIME_SET_UTC(tobj);
    }
    else if (!NIL_P(offset)) {
        time_set_utc_offset(time, offset);
        time_fixoff(time);
    }

    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001313">
                    
                    <a name="M001313"></a><b>time.day  &rarr; fixnum
time.mday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the month (1..n) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:03 -0600
   t.day          #=&gt; 19
   t.mday         #=&gt; 19
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001313_source')" id="l_M001313_source">show</a>
                        
                    </p>
                    <div id="M001313_source" class="dyn-source">
                        <pre>static VALUE
time_mday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001311">
                    
                    <a name="M001311"></a><b>time.min &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minute of the hour (0..59) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:25:51 -0600
   t.min          #=&gt; 25
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001311_source')" id="l_M001311_source">show</a>
                        
                    </p>
                    <div id="M001311_source" class="dyn-source">
                        <pre>static VALUE
time_min(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.min);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001315">
                    
                    <a name="M001315"></a><b>time.mon   &rarr; fixnum
time.month &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the month of the year (1..12) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:30 -0600
   t.mon          #=&gt; 11
   t.month        #=&gt; 11
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001315_source')" id="l_M001315_source">show</a>
                        
                    </p>
                    <div id="M001315_source" class="dyn-source">
                        <pre>static VALUE
time_mon(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mon);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001329">
                    
                    <a name="M001329"></a><b>time.monday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Monday.
</p>
<pre>
   t = Time.local(2003, 8, 4)       #=&gt; 2003-08-04 00:00:00 -0500
   p t.monday?                      #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001329_source')" id="l_M001329_source">show</a>
                        
                    </p>
                    <div id="M001329_source" class="dyn-source">
                        <pre>static VALUE
time_monday(VALUE time)
{
    wday_p(1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001316">
                    
                    <a name="M001316"></a><b>time.mon   &rarr; fixnum
time.month &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the month of the year (1..12) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:30 -0600
   t.mon          #=&gt; 11
   t.month        #=&gt; 11
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001316_source')" id="l_M001316_source">show</a>
                        
                    </p>
                    <div id="M001316_source" class="dyn-source">
                        <pre>static VALUE
time_mon(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mon);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001339">
                    
                    <a name="M001339"></a><b>time.nsec    &rarr; int
time.tv_nsec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of nanoseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-17 15:18:03 +0900
   &quot;%10.9f&quot; % t.to_f   #=&gt; &quot;1195280283.536151409&quot;
   t.nsec              #=&gt; 536151406
</pre>
<p>
The lowest digit of <a href="Time.html#M001288">to_f</a> and nsec is
different because IEEE 754 double is not accurate enough to represent
nanoseconds from the Epoch. The accurate value is returned by nsec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001339_source')" id="l_M001339_source">show</a>
                        
                    </p>
                    <div id="M001339_source" class="dyn-source">
                        <pre>static VALUE
time_nsec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_to_int(w2v(wmulquoll(wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE)), 1000000000, TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004999">
                    
                    <a name="M004999"></a><b>rfc2822</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string which represents the time as date-time defined by RFC
2822:
</p>
<pre>
  day-of-week, DD month-name CCYY hh:mm:ss zone
</pre>
<p>
where zone is [+-]hhmm.
</p>
<p>
If <tt>self</tt> is a UTC time, -0000 is used as zone.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Time.html#M005000">rfc822</a>
                    
                    <a href="Time.html#M005001">rfc822</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004999_source')" id="l_M004999_source">show</a>
                        
                    </p>
                    <div id="M004999_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 454</span>
454:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rfc2822</span>
455:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s, %02d %s %0*d %02d:%02d:%02d '</span>,
456:       <span class="ruby-constant">RFC2822_DAY_NAME</span>[<span class="ruby-identifier">wday</span>],
457:       <span class="ruby-identifier">day</span>, <span class="ruby-constant">RFC2822_MONTH_NAME</span>[<span class="ruby-identifier">mon</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>], <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">5</span> <span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">year</span>,
458:       <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>) <span class="ruby-operator">+</span>
459:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">utc?</span>
460:       <span class="ruby-value str">'-0000'</span>
461:     <span class="ruby-keyword kw">else</span>
462:       <span class="ruby-identifier">off</span> = <span class="ruby-identifier">utc_offset</span>
463:       <span class="ruby-identifier">sign</span> = <span class="ruby-identifier">off</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'-'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'+'</span>
464:       <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s%02d%02d'</span>, <span class="ruby-identifier">sign</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">off</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">/</span> <span class="ruby-value">60</span>).<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>))
465:     <span class="ruby-keyword kw">end</span>
466:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005001">
                    
                    <a name="M005001"></a><b>rfc822</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M004996">rfc2822</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M005000">
                    
                    <a name="M005000"></a><b>rfc822</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M004996">rfc2822</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M001309">
                    
                    <a name="M001309"></a><b>time.round([ndigits])   &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Rounds sub seconds to a given precision in decimal digits (0 digits by
default). It returns a new time object. <em>ndigits</em> should be zero or
positive integer.
</p>
<pre>
    require 'time'

    t = Time.utc(2010,3,30, 5,43,&quot;25.123456789&quot;.to_r)
    p t.iso8601(10)           #=&gt; &quot;2010-03-30T05:43:25.1234567890Z&quot;
    p t.round.iso8601(10)     #=&gt; &quot;2010-03-30T05:43:25.0000000000Z&quot;
    p t.round(0).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.0000000000Z&quot;
    p t.round(1).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1000000000Z&quot;
    p t.round(2).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1200000000Z&quot;
    p t.round(3).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1230000000Z&quot;
    p t.round(4).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1235000000Z&quot;
    p t.round(5).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234600000Z&quot;
    p t.round(6).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234570000Z&quot;
    p t.round(7).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234568000Z&quot;
    p t.round(8).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234567900Z&quot;
    p t.round(9).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234567890Z&quot;
    p t.round(10).iso8601(10) #=&gt; &quot;2010-03-30T05:43:25.1234567890Z&quot;

    t = Time.utc(1999,12,31, 23,59,59)
    p((t + 0.4).round.iso8601(3))    #=&gt; &quot;1999-12-31T23:59:59.000Z&quot;
    p((t + 0.49).round.iso8601(3))   #=&gt; &quot;1999-12-31T23:59:59.000Z&quot;
    p((t + 0.5).round.iso8601(3))    #=&gt; &quot;2000-01-01T00:00:00.000Z&quot;
    p((t + 1.4).round.iso8601(3))    #=&gt; &quot;2000-01-01T00:00:00.000Z&quot;
    p((t + 1.49).round.iso8601(3))   #=&gt; &quot;2000-01-01T00:00:00.000Z&quot;
    p((t + 1.5).round.iso8601(3))    #=&gt; &quot;2000-01-01T00:00:01.000Z&quot;

    t = Time.utc(1999,12,31, 23,59,59)
    p (t + 0.123456789).round(4).iso8601(6)  #=&gt; &quot;1999-12-31T23:59:59.123500Z&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001309_source')" id="l_M001309_source">show</a>
                        
                    </p>
                    <div id="M001309_source" class="dyn-source">
                        <pre>static VALUE
time_round(int argc, VALUE *argv, VALUE time)
{
    VALUE ndigits, v, a, b, den;
    long nd;
    struct time_object *tobj;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;ndigits);

    if (NIL_P(ndigits))
        ndigits = INT2FIX(0);
    else
        ndigits = rb_to_int(ndigits);

    nd = NUM2LONG(ndigits);
    if (nd &lt; 0)
        rb_raise(rb_eArgError, &quot;negative ndigits given&quot;);

    GetTimeval(time, tobj);
    v = w2v(rb_time_unmagnify(tobj-&gt;timew));

    a = INT2FIX(1);
    b = INT2FIX(10);
    while (0 &lt; nd) {
        if (nd &amp; 1)
            a = mul(a, b);
        b = mul(b, b);
        nd = nd &gt;&gt; 1;
    }
    den = quo(INT2FIX(1), a);
    v = mod(v, den);
    if (lt(v, quo(den, INT2FIX(2))))
        return time_add(tobj, v, -1);
    else
        return time_add(tobj, sub(den, v), 1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001334">
                    
                    <a name="M001334"></a><b>time.saturday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Saturday.
</p>
<pre>
   t = Time.local(2006, 6, 10)      #=&gt; 2006-06-10 00:00:00 -0500
   t.saturday?                      #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001334_source')" id="l_M001334_source">show</a>
                        
                    </p>
                    <div id="M001334_source" class="dyn-source">
                        <pre>static VALUE
time_saturday(VALUE time)
{
    wday_p(6);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001310">
                    
                    <a name="M001310"></a><b>time.sec &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the second of the minute (0..60)<em>[Yes, seconds really can range
from zero to 60. This allows the system to inject leap seconds every now
and then to correct for the fact that years are not really a convenient
number of hours long.]</em> for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:25:02 -0600
   t.sec          #=&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001310_source')" id="l_M001310_source">show</a>
                        
                    </p>
                    <div id="M001310_source" class="dyn-source">
                        <pre>static VALUE
time_sec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.sec);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001341">
                    
                    <a name="M001341"></a><b>time.strftime( string ) &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Formats <em>time</em> according to the directives in the given format
string. Any text not listed as a directive will be passed through to the
output string.
</p>
<p>
Format meaning:
</p>
<pre>
  %a - The abbreviated weekday name (``Sun'')
  %A - The  full  weekday  name (``Sunday'')
  %b - The abbreviated month name (``Jan'')
  %B - The  full  month  name (``January'')
  %c - The preferred local date and time representation
  %C - Century (20 in 2009)
  %d - Day of the month (01..31)
  %D - Date (%m/%d/%y)
  %e - Day of the month, blank-padded ( 1..31)
  %F - Equivalent to %Y-%m-%d (the ISO 8601 date format)
  %h - Equivalent to %b
  %H - Hour of the day, 24-hour clock (00..23)
  %I - Hour of the day, 12-hour clock (01..12)
  %j - Day of the year (001..366)
  %k - hour, 24-hour clock, blank-padded ( 0..23)
  %l - hour, 12-hour clock, blank-padded ( 0..12)
  %L - Millisecond of the second (000..999)
  %m - Month of the year (01..12)
  %M - Minute of the hour (00..59)
  %n - Newline (\n)
  %N - Fractional seconds digits, default is 9 digits (nanosecond)
          %3N  millisecond (3 digits)
          %6N  microsecond (6 digits)
          %9N  nanosecond (9 digits)
  %p - Meridian indicator (``AM''  or  ``PM'')
  %P - Meridian indicator (``am''  or  ``pm'')
  %r - time, 12-hour (same as %I:%M:%S %p)
  %R - time, 24-hour (%H:%M)
  %s - Number of seconds since 1970-01-01 00:00:00 UTC.
  %S - Second of the minute (00..60)
  %t - Tab character (\t)
  %T - time, 24-hour (%H:%M:%S)
  %u - Day of the week as a decimal, Monday being 1. (1..7)
  %U - Week  number  of the current year,
          starting with the first Sunday as the first
          day of the first week (00..53)
  %v - VMS date (%e-%b-%Y)
  %V - Week number of year according to ISO 8601 (01..53)
  %W - Week  number  of the current year,
          starting with the first Monday as the first
          day of the first week (00..53)
  %w - Day of the week (Sunday is 0, 0..6)
  %x - Preferred representation for the date alone, no time
  %X - Preferred representation for the time alone, no date
  %y - Year without a century (00..99)
  %Y - Year with century
  %z - Time zone as  hour offset from UTC (e.g. +0900)
  %Z - Time zone name
  %% - Literal ``%'' character

   t = Time.now                        #=&gt; 2007-11-19 08:37:48 -0600
   t.strftime(&quot;Printed on %m/%d/%Y&quot;)   #=&gt; &quot;Printed on 11/19/2007&quot;
   t.strftime(&quot;at %I:%M%p&quot;)            #=&gt; &quot;at 08:37AM&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001341_source')" id="l_M001341_source">show</a>
                        
                    </p>
                    <div id="M001341_source" class="dyn-source">
                        <pre>static VALUE
time_strftime(VALUE time, VALUE format)
{
    void rb_enc_copy(VALUE, VALUE);
    struct time_object *tobj;
    char buffer[SMALLBUF], *buf = buffer;
    const char *fmt;
    long len;
    VALUE str;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    StringValue(format);
    if (!rb_enc_str_asciicompat_p(format)) {
        rb_raise(rb_eArgError, &quot;format should have ASCII compatible encoding&quot;);
    }
    format = rb_str_new4(format);
    fmt = RSTRING_PTR(format);
    len = RSTRING_LEN(format);
    if (len == 0) {
        rb_warning(&quot;strftime called with empty format string&quot;);
    }
    else if (memchr(fmt, '\0', len)) {
        /* Ruby string may contain \0's. */
        const char *p = fmt, *pe = fmt + len;

        str = rb_str_new(0, 0);
        while (p &lt; pe) {
            len = rb_strftime_alloc(&amp;buf, p, &amp;tobj-&gt;vtm, tobj-&gt;timew, TIME_UTC_P(tobj));
            rb_str_cat(str, buf, len);
            p += strlen(p);
            if (buf != buffer) {
                xfree(buf);
                buf = buffer;
            }
            for (fmt = p; p &lt; pe &amp;&amp; !*p; ++p);
            if (p &gt; fmt) rb_str_cat(str, fmt, p - fmt);
        }
        return str;
    }
    else {
        len = rb_strftime_alloc(&amp;buf, RSTRING_PTR(format),
                                &amp;tobj-&gt;vtm, tobj-&gt;timew, TIME_UTC_P(tobj));
    }
    str = rb_str_new(buf, len);
    if (buf != buffer) xfree(buf);
    rb_enc_copy(str, format);
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001340">
                    
                    <a name="M001340"></a><b>time.subsec    &rarr; number
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the fraction for <em>time</em>.
</p>
<p>
The result is possibly rational.
</p>
<pre>
   t = Time.now        #=&gt; 2009-03-26 22:33:12 +0900
   &quot;%10.9f&quot; % t.to_f   #=&gt; &quot;1238074392.940563917&quot;
   t.subsec            #=&gt; (94056401/100000000)
</pre>
<p>
The lowest digit of <a href="Time.html#M001288">to_f</a> and subsec is
different because IEEE 754 double is not accurate enough to represent the
rational. The accurate value is returned by subsec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001340_source')" id="l_M001340_source">show</a>
                        
                    </p>
                    <div id="M001340_source" class="dyn-source">
                        <pre>static VALUE
time_subsec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return quo(w2v(wmod(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE))), INT2FIX(TIME_SCALE));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001308">
                    
                    <a name="M001308"></a><b>time.succ   &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return a new time object, one second later than <tt>time</tt>. <a
href="Time.html#M001308">Time#succ</a> is obsolete since 1.9.2 for time is
not a discrete value.
</p>
<pre>
    t = Time.now       #=&gt; 2007-11-19 08:23:57 -0600
    t.succ             #=&gt; 2007-11-19 08:23:58 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001308_source')" id="l_M001308_source">show</a>
                        
                    </p>
                    <div id="M001308_source" class="dyn-source">
                        <pre>VALUE
rb_time_succ(VALUE time)
{
    struct time_object *tobj;
    struct time_object *tobj2;

    rb_warn(&quot;Time#succ is obsolete; use time + 1&quot;);
    GetTimeval(time, tobj);
    time = time_new_timew(rb_cTime, wadd(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE)));
    GetTimeval(time, tobj2);
    TIME_COPY_GMT(tobj2, tobj);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001328">
                    
                    <a name="M001328"></a><b>time.sunday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Sunday.
</p>
<pre>
   t = Time.local(1990, 4, 1)       #=&gt; 1990-04-01 00:00:00 -0600
   t.sunday?                        #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001328_source')" id="l_M001328_source">show</a>
                        
                    </p>
                    <div id="M001328_source" class="dyn-source">
                        <pre>static VALUE
time_sunday(VALUE time)
{
    wday_p(0);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001332">
                    
                    <a name="M001332"></a><b>time.thursday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Thursday.
</p>
<pre>
   t = Time.local(1995, 12, 21)     #=&gt; 1995-12-21 00:00:00 -0600
   p t.thursday?                    #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001332_source')" id="l_M001332_source">show</a>
                        
                    </p>
                    <div id="M001332_source" class="dyn-source">
                        <pre>static VALUE
time_thursday(VALUE time)
{
    wday_p(4);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001305">
                    
                    <a name="M001305"></a><b>time.to_a &rarr; array
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a ten-element <em>array</em> of values for <em>time</em>: {<tt>[
sec, min, hour, day, month, year, wday, yday, isdst, zone ]</tt>}. See the
individual methods for an explanation of the valid ranges of each value.
The ten elements can be passed directly to <tt>Time::utc</tt> or
<tt>Time::local</tt> to create a new <tt>Time</tt>.
</p>
<pre>
   t = Time.now     #=&gt; 2007-11-19 08:36:01 -0600
   now = t.to_a     #=&gt; [1, 36, 8, 19, 11, 2007, 1, 323, false, &quot;CST&quot;]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001305_source')" id="l_M001305_source">show</a>
                        
                    </p>
                    <div id="M001305_source" class="dyn-source">
                        <pre>static VALUE
time_to_a(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return rb_ary_new3(10,
                    INT2FIX(tobj-&gt;vtm.sec),
                    INT2FIX(tobj-&gt;vtm.min),
                    INT2FIX(tobj-&gt;vtm.hour),
                    INT2FIX(tobj-&gt;vtm.mday),
                    INT2FIX(tobj-&gt;vtm.mon),
                    tobj-&gt;vtm.year,
                    INT2FIX(tobj-&gt;vtm.wday),
                    INT2FIX(tobj-&gt;vtm.yday),
                    tobj-&gt;vtm.isdst?Qtrue:Qfalse,
                    time_zone(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003583">
                    
                    <a name="M003583"></a><b>to_date</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003583_source')" id="l_M003583_source">show</a>
                        
                    </p>
                    <div id="M003583_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/date.rb, line 1783</span>
1783:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_date</span>
1784:     <span class="ruby-identifier">jd</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:civil_to_jd</span>, <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">mday</span>, <span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>)
1785:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new!</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:jd_to_ajd</span>, <span class="ruby-identifier">jd</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">0</span>, <span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>)
1786:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003584">
                    
                    <a name="M003584"></a><b>to_datetime</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003584_source')" id="l_M003584_source">show</a>
                        
                    </p>
                    <div id="M003584_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/date.rb, line 1788</span>
1788:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_datetime</span>
1789:     <span class="ruby-identifier">jd</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:civil_to_jd</span>, <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">mday</span>, <span class="ruby-constant">DateTime</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>)
1790:     <span class="ruby-identifier">fr</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:time_to_day_fraction</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, [<span class="ruby-identifier">sec</span>, <span class="ruby-value">59</span>].<span class="ruby-identifier">min</span>) <span class="ruby-operator">+</span>
1791:       <span class="ruby-constant">Rational</span>(<span class="ruby-identifier">subsec</span>, <span class="ruby-value">86400</span>)
1792:     <span class="ruby-identifier">of</span> = <span class="ruby-constant">Rational</span>(<span class="ruby-identifier">utc_offset</span>, <span class="ruby-value">86400</span>)
1793:     <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new!</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:jd_to_ajd</span>, <span class="ruby-identifier">jd</span>, <span class="ruby-identifier">fr</span>, <span class="ruby-identifier">of</span>),
1794:                   <span class="ruby-identifier">of</span>, <span class="ruby-constant">DateTime</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>)
1795:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001288">
                    
                    <a name="M001288"></a><b>time.to_f &rarr; float
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as a floating point number of seconds
since the Epoch.
</p>
<pre>
   t = Time.now
   &quot;%10.5f&quot; % t.to_f   #=&gt; &quot;1270968744.77658&quot;
   t.to_i              #=&gt; 1270968744
</pre>
<p>
Note that IEEE 754 double is not accurate enough to represent number of
nanoseconds from the Epoch.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001288_source')" id="l_M001288_source">show</a>
                        
                    </p>
                    <div id="M001288_source" class="dyn-source">
                        <pre>static VALUE
time_to_f(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_Float(rb_time_unmagnify_to_float(tobj-&gt;timew));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001287">
                    
                    <a name="M001287"></a><b>time.to_i   &rarr; int
time.tv_sec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as an integer number of seconds since
the Epoch.
</p>
<pre>
   t = Time.now
   &quot;%10.5f&quot; % t.to_f   #=&gt; &quot;1270968656.89607&quot;
   t.to_i              #=&gt; 1270968656
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001287_source')" id="l_M001287_source">show</a>
                        
                    </p>
                    <div id="M001287_source" class="dyn-source">
                        <pre>static VALUE
time_to_i(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return w2v(wdiv(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007425">
                    
                    <a name="M007425"></a><b>to_json</b>(*args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007425_source')" id="l_M007425_source">show</a>
                        
                    </p>
                    <div id="M007425_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
36:     {
37:       <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
38:       <span class="ruby-value str">'s'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tv_sec</span>,
39:       <span class="ruby-value str">'n'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:tv_nsec</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">tv_nsec</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">tv_usec</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>
40:     }.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
41:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001289">
                    
                    <a name="M001289"></a><b>time.to_r &rarr; a_rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as a rational number of seconds since
the Epoch.
</p>
<pre>
   t = Time.now
   p t.to_r            #=&gt; (1270968792716287611/1000000000)
</pre>
<p>
This methods is intended to be used to get an accurate value representing
nanoseconds from the Epoch. You can use this to convert time to another
Epoch.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001289_source')" id="l_M001289_source">show</a>
                        
                    </p>
                    <div id="M001289_source" class="dyn-source">
                        <pre>static VALUE
time_to_r(VALUE time)
{
    struct time_object *tobj;
    VALUE v;

    GetTimeval(time, tobj);
    v = w2v(rb_time_unmagnify(tobj-&gt;timew));
    if (TYPE(v) != T_RATIONAL) {
        v = rb_Rational1(v);
    }
    return v;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001303">
                    
                    <a name="M001303"></a><b>time.inspect &rarr; string
time.to_s    &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string representing <em>time</em>. Equivalent to calling <tt><a
href="Time.html#M001341">Time#strftime</a></tt> with a format string of
``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>%z</tt>&#8217;&#8217; for a local
time and ``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>UTC</tt>&#8217;&#8217;
for a UTC time.
</p>
<pre>
   Time.now.to_s       #=&gt; &quot;2007-10-05 16:09:51 +0900&quot;
   Time.now.utc.to_s   #=&gt; &quot;2007-10-05 07:09:51 UTC&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001303_source')" id="l_M001303_source">show</a>
                        
                    </p>
                    <div id="M001303_source" class="dyn-source">
                        <pre>static VALUE
time_to_s(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj))
        return strftimev(&quot;%Y-%m-%d %H:%M:%S UTC&quot;, time);
    else
        return strftimev(&quot;%Y-%m-%d %H:%M:%S %z&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003582">
                    
                    <a name="M003582"></a><b>to_time</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003582_source')" id="l_M003582_source">show</a>
                        
                    </p>
                    <div id="M003582_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/date.rb, line 1781</span>
1781:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_time</span>() <span class="ruby-identifier">getlocal</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007962">
                    
                    <a name="M007962"></a><b>to_yaml</b>( opts = {} )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007962_source')" id="l_M007962_source">show</a>
                        
                    </p>
                    <div id="M007962_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/rubytypes.rb, line 321</span>
321:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_yaml</span>( <span class="ruby-identifier">opts</span> = {} )
322:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">super</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">ENGINE</span>.<span class="ruby-identifier">syck?</span>
323:                 <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">quick_emit</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">opts</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">out</span><span class="ruby-operator">|</span>
324:             <span class="ruby-identifier">tz</span> = <span class="ruby-value str">&quot;Z&quot;</span>
325:             <span class="ruby-comment cmt"># from the tidy Tobias Peters &lt;t-peters@gmx.de&gt; Thanks!</span>
326:             <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc?</span>
327:                 <span class="ruby-identifier">utc_same_instant</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">utc</span>
328:                 <span class="ruby-identifier">utc_same_writing</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>,<span class="ruby-identifier">month</span>,<span class="ruby-identifier">day</span>,<span class="ruby-identifier">hour</span>,<span class="ruby-identifier">min</span>,<span class="ruby-identifier">sec</span>,<span class="ruby-identifier">usec</span>)
329:                 <span class="ruby-identifier">difference_to_utc</span> = <span class="ruby-identifier">utc_same_writing</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">utc_same_instant</span>
330:                 <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">difference_to_utc</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>)
331:                     <span class="ruby-identifier">difference_sign</span> = <span class="ruby-value str">'-'</span>
332:                     <span class="ruby-identifier">absolute_difference</span> = <span class="ruby-operator">-</span><span class="ruby-identifier">difference_to_utc</span>
333:                 <span class="ruby-keyword kw">else</span>
334:                     <span class="ruby-identifier">difference_sign</span> = <span class="ruby-value str">'+'</span>
335:                     <span class="ruby-identifier">absolute_difference</span> = <span class="ruby-identifier">difference_to_utc</span>
336:                 <span class="ruby-keyword kw">end</span>
337:                 <span class="ruby-identifier">difference_minutes</span> = (<span class="ruby-identifier">absolute_difference</span><span class="ruby-operator">/</span><span class="ruby-value">60</span>).<span class="ruby-identifier">round</span>
338:                 <span class="ruby-identifier">tz</span> = <span class="ruby-value str">&quot;%s%02d:%02d&quot;</span> <span class="ruby-operator">%</span> [ <span class="ruby-identifier">difference_sign</span>, <span class="ruby-identifier">difference_minutes</span> <span class="ruby-operator">/</span> <span class="ruby-value">60</span>, <span class="ruby-identifier">difference_minutes</span> <span class="ruby-operator">%</span> <span class="ruby-value">60</span>]
339:             <span class="ruby-keyword kw">end</span>
340:             <span class="ruby-identifier">standard</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">strftime</span>( <span class="ruby-value str">&quot;%Y-%m-%d %H:%M:%S&quot;</span> )
341:             <span class="ruby-identifier">standard</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;.%06d&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">usec</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">usec</span>.<span class="ruby-identifier">nonzero?</span>
342:             <span class="ruby-identifier">standard</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot; %s&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">tz</span>]
343:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_yaml_properties</span>.<span class="ruby-identifier">empty?</span>
344:                 <span class="ruby-identifier">out</span>.<span class="ruby-identifier">scalar</span>( <span class="ruby-identifier">taguri</span>, <span class="ruby-identifier">standard</span>, <span class="ruby-identifier">:plain</span> )
345:             <span class="ruby-keyword kw">else</span>
346:                 <span class="ruby-identifier">out</span>.<span class="ruby-identifier">map</span>( <span class="ruby-identifier">taguri</span>, <span class="ruby-identifier">to_yaml_style</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
347:                     <span class="ruby-identifier">map</span>.<span class="ruby-identifier">add</span>( <span class="ruby-value str">'at'</span>, <span class="ruby-identifier">standard</span> )
348:                     <span class="ruby-identifier">to_yaml_properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
349:                         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">add</span>( <span class="ruby-identifier">m</span>, <span class="ruby-identifier">instance_variable_get</span>( <span class="ruby-identifier">m</span> ) )
350:                     <span class="ruby-keyword kw">end</span>
351:                 <span class="ruby-keyword kw">end</span>
352:             <span class="ruby-keyword kw">end</span>
353:         <span class="ruby-keyword kw">end</span>
354:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001330">
                    
                    <a name="M001330"></a><b>time.tuesday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Tuesday.
</p>
<pre>
   t = Time.local(1991, 2, 19)      #=&gt; 1991-02-19 00:00:00 -0600
   p t.tuesday?                     #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001330_source')" id="l_M001330_source">show</a>
                        
                    </p>
                    <div id="M001330_source" class="dyn-source">
                        <pre>static VALUE
time_tuesday(VALUE time)
{
    wday_p(2);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001338">
                    
                    <a name="M001338"></a><b>time.nsec    &rarr; int
time.tv_nsec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of nanoseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-17 15:18:03 +0900
   &quot;%10.9f&quot; % t.to_f   #=&gt; &quot;1195280283.536151409&quot;
   t.nsec              #=&gt; 536151406
</pre>
<p>
The lowest digit of <a href="Time.html#M001288">to_f</a> and nsec is
different because IEEE 754 double is not accurate enough to represent
nanoseconds from the Epoch. The accurate value is returned by nsec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001338_source')" id="l_M001338_source">show</a>
                        
                    </p>
                    <div id="M001338_source" class="dyn-source">
                        <pre>static VALUE
time_nsec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_to_int(w2v(wmulquoll(wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE)), 1000000000, TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001335">
                    
                    <a name="M001335"></a><b>time.to_i   &rarr; int
time.tv_sec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as an integer number of seconds since
the Epoch.
</p>
<pre>
   t = Time.now
   &quot;%10.5f&quot; % t.to_f   #=&gt; &quot;1270968656.89607&quot;
   t.to_i              #=&gt; 1270968656
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001335_source')" id="l_M001335_source">show</a>
                        
                    </p>
                    <div id="M001335_source" class="dyn-source">
                        <pre>static VALUE
time_to_i(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return w2v(wdiv(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001336">
                    
                    <a name="M001336"></a><b>time.usec    &rarr; int
time.tv_usec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of microseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-19 08:03:26 -0600
   &quot;%10.6f&quot; % t.to_f   #=&gt; &quot;1195481006.775195&quot;
   t.usec              #=&gt; 775195
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001336_source')" id="l_M001336_source">show</a>
                        
                    </p>
                    <div id="M001336_source" class="dyn-source">
                        <pre>static VALUE
time_usec(VALUE time)
{
    struct time_object *tobj;
    wideval_t w, q, r;

    GetTimeval(time, tobj);

    w = wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE));
    wmuldivmod(w, WINT2FIXWV(1000000), WINT2FIXWV(TIME_SCALE), &amp;q, &amp;r);
    return rb_to_int(w2v(q));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001337">
                    
                    <a name="M001337"></a><b>time.usec    &rarr; int
time.tv_usec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of microseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-19 08:03:26 -0600
   &quot;%10.6f&quot; % t.to_f   #=&gt; &quot;1195481006.775195&quot;
   t.usec              #=&gt; 775195
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001337_source')" id="l_M001337_source">show</a>
                        
                    </p>
                    <div id="M001337_source" class="dyn-source">
                        <pre>static VALUE
time_usec(VALUE time)
{
    struct time_object *tobj;
    wideval_t w, q, r;

    GetTimeval(time, tobj);

    w = wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE));
    wmuldivmod(w, WINT2FIXWV(1000000), WINT2FIXWV(TIME_SCALE), &amp;q, &amp;r);
    return rb_to_int(w2v(q));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001297">
                    
                    <a name="M001297"></a><b>time.gmtime    &rarr; time
time.utc       &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Converts <em>time</em> to UTC (GMT), modifying the receiver.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:18:31 -0600
   t.gmt?         #=&gt; false
   t.gmtime       #=&gt; 2007-11-19 14:18:31 UTC
   t.gmt?         #=&gt; true

   t = Time.now   #=&gt; 2007-11-19 08:18:51 -0600
   t.utc?         #=&gt; false
   t.utc          #=&gt; 2007-11-19 14:18:51 UTC
   t.utc?         #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001297_source')" id="l_M001297_source">show</a>
                        
                    </p>
                    <div id="M001297_source" class="dyn-source">
                        <pre>static VALUE
time_gmtime(VALUE time)
{
    struct time_object *tobj;
    struct vtm vtm;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) {
        if (tobj-&gt;tm_got)
            return time;
    }
    else {
        time_modify(time);
    }

    if (!gmtimew(tobj-&gt;timew, &amp;vtm))
        rb_raise(rb_eArgError, &quot;gmtime error&quot;);
    tobj-&gt;vtm = vtm;

    tobj-&gt;tm_got = 1;
    TIME_SET_UTC(tobj);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001326">
                    
                    <a name="M001326"></a><b>time.utc? &rarr; true or false
time.gmt? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents a time in UTC (GMT).
</p>
<pre>
   t = Time.now                        #=&gt; 2007-11-19 08:15:23 -0600
   t.utc?                              #=&gt; false
   t = Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                              #=&gt; true

   t = Time.now                        #=&gt; 2007-11-19 08:16:03 -0600
   t.gmt?                              #=&gt; false
   t = Time.gm(2000,1,1,20,15,1)       #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt?                              #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001326_source')" id="l_M001326_source">show</a>
                        
                    </p>
                    <div id="M001326_source" class="dyn-source">
                        <pre>static VALUE
time_utc_p(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001325">
                    
                    <a name="M001325"></a><b>time.gmt_offset &rarr; fixnum
time.gmtoff     &rarr; fixnum
time.utc_offset &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset in seconds between the timezone of <em>time</em> and
UTC.
</p>
<pre>
   t = Time.gm(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt_offset                    #=&gt; 0
   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.gmt_offset                    #=&gt; -21600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001325_source')" id="l_M001325_source">show</a>
                        
                    </p>
                    <div id="M001325_source" class="dyn-source">
                        <pre>static VALUE
time_utc_offset(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
        return INT2FIX(0);
    }
    else {
        return tobj-&gt;vtm.utc_offset;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001318">
                    
                    <a name="M001318"></a><b>time.wday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the day of the week, 0..6, with Sunday ==
0.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-20 02:35:35 -0600
   t.wday         #=&gt; 2
   t.sunday?      #=&gt; false
   t.monday?      #=&gt; false
   t.tuesday?     #=&gt; true
   t.wednesday?   #=&gt; false
   t.thursday?    #=&gt; false
   t.friday?      #=&gt; false
   t.saturday?    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001318_source')" id="l_M001318_source">show</a>
                        
                    </p>
                    <div id="M001318_source" class="dyn-source">
                        <pre>static VALUE
time_wday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.wday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001331">
                    
                    <a name="M001331"></a><b>time.wednesday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Wednesday.
</p>
<pre>
   t = Time.local(1993, 2, 24)      #=&gt; 1993-02-24 00:00:00 -0600
   p t.wednesday?                   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001331_source')" id="l_M001331_source">show</a>
                        
                    </p>
                    <div id="M001331_source" class="dyn-source">
                        <pre>static VALUE
time_wednesday(VALUE time)
{
    wday_p(3);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005003">
                    
                    <a name="M005003"></a><b>xmlschema</b>(fraction_digits=0)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string which represents the time as date<a
href="Time.html">Time</a> defined by XML Schema:
</p>
<pre>
  CCYY-MM-DDThh:mm:ssTZD
  CCYY-MM-DDThh:mm:ss.sssTZD
</pre>
<p>
where TZD is Z or [+-]hh:mm.
</p>
<p>
If self is a UTC time, Z is used as TZD. [+-]hh:mm is used otherwise.
</p>
<p>
<tt>fractional_seconds</tt> specifies a number of digits of fractional
seconds. Its default value is 0.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Time.html#M005004">iso8601</a>
                    
                    <a href="Time.html#M005005">iso8601</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005003_source')" id="l_M005003_source">show</a>
                        
                    </p>
                    <div id="M005003_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 515</span>
515:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xmlschema</span>(<span class="ruby-identifier">fraction_digits</span>=<span class="ruby-value">0</span>)
516:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%0*d-%02d-%02dT%02d:%02d:%02d'</span>,
517:       <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">5</span> <span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>) <span class="ruby-operator">+</span>
518:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">fraction_digits</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
519:       <span class="ruby-value str">''</span>
520:     <span class="ruby-keyword kw">else</span>
521:       <span class="ruby-value str">'.'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%0*d'</span>, <span class="ruby-identifier">fraction_digits</span>, (<span class="ruby-identifier">subsec</span> <span class="ruby-operator">*</span> <span class="ruby-value">10</span><span class="ruby-operator">**</span><span class="ruby-identifier">fraction_digits</span>).<span class="ruby-identifier">floor</span>)
522:     <span class="ruby-keyword kw">end</span> <span class="ruby-operator">+</span>
523:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">utc?</span>
524:       <span class="ruby-value str">'Z'</span>
525:     <span class="ruby-keyword kw">else</span>
526:       <span class="ruby-identifier">off</span> = <span class="ruby-identifier">utc_offset</span>
527:       <span class="ruby-identifier">sign</span> = <span class="ruby-identifier">off</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'-'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'+'</span>
528:       <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s%02d:%02d'</span>, <span class="ruby-identifier">sign</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">off</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">/</span> <span class="ruby-value">60</span>).<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>))
529:     <span class="ruby-keyword kw">end</span>
530:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001319">
                    
                    <a name="M001319"></a><b>time.yday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the day of the year, 1..366.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:32:31 -0600
   t.yday         #=&gt; 323
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001319_source')" id="l_M001319_source">show</a>
                        
                    </p>
                    <div id="M001319_source" class="dyn-source">
                        <pre>static VALUE
time_yday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.yday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001317">
                    
                    <a name="M001317"></a><b>time.year &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the year for <em>time</em> (including the century).
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:51 -0600
   t.year         #=&gt; 2007
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001317_source')" id="l_M001317_source">show</a>
                        
                    </p>
                    <div id="M001317_source" class="dyn-source">
                        <pre>static VALUE
time_year(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return tobj-&gt;vtm.year;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001322">
                    
                    <a name="M001322"></a><b>time.zone &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the name of the time zone used for <em>time</em>. As of Ruby 1.8,
returns ``UTC&#8217;&#8217; rather than ``GMT&#8217;&#8217; for UTC times.
</p>
<pre>
   t = Time.gm(2000, &quot;jan&quot;, 1, 20, 15, 1)
   t.zone   #=&gt; &quot;UTC&quot;
   t = Time.local(2000, &quot;jan&quot;, 1, 20, 15, 1)
   t.zone   #=&gt; &quot;CST&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001322_source')" id="l_M001322_source">show</a>
                        
                    </p>
                    <div id="M001322_source" class="dyn-source">
                        <pre>static VALUE
time_zone(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
        return rb_str_new2(&quot;UTC&quot;);
    }
    if (tobj-&gt;vtm.zone == NULL)
        return Qnil;
    return rb_str_new2(tobj-&gt;vtm.zone);
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    