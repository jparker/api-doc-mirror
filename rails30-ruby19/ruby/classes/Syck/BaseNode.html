<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Syck::BaseNode</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Syck::BaseNode 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/ext/syck/lib/syck/basenode_rb.html">ext/syck/lib/syck/basenode.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="../YAML.html">YAML</a> Generic Model container
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M007912">[]</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M007909">at</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M007913">children</a>,</li>
                
                <li><a href="#M007914">children_with_index</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M007915">emit</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M007910">match_path</a>,</li>
                
                <li><a href="#M007911">match_segment</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M007908">search</a>,</li>
                
                <li><a href="#M007906">select</a>,</li>
                
                <li><a href="#M007907">select!</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M007912">
                    
                    <a name="M007912"></a><b>[]</b>( *key )
                    
                </div>
                
                <div class="description">
                  <p>
We want the node to act like as <a href="../Hash.html">Hash</a> if it is.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007912_source')" id="l_M007912_source">show</a>
                        
                    </p>
                    <div id="M007912_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 191</span>
191:         <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">key</span> )
192:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
193:                 <span class="ruby-identifier">v</span> = <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">transform</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">first</span> }
194:                 <span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>
195:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
196:                 <span class="ruby-ivar">@value</span>.[]( <span class="ruby-operator">*</span><span class="ruby-identifier">key</span> )
197:             <span class="ruby-keyword kw">end</span>
198:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007909">
                    
                    <a name="M007909"></a><b>at</b>( seg )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007909_source')" id="l_M007909_source">show</a>
                        
                    </p>
                    <div id="M007909_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 71</span>
71:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">at</span>( <span class="ruby-identifier">seg</span> )
72:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: at() is deprecated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
73:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
74:                 <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">seg</span>]
75:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">seg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\A\d+\Z/</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@value</span>[<span class="ruby-identifier">seg</span>.<span class="ruby-identifier">to_i</span>]
76:                 <span class="ruby-ivar">@value</span>[<span class="ruby-identifier">seg</span>.<span class="ruby-identifier">to_i</span>]
77:             <span class="ruby-keyword kw">end</span>
78:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007913">
                    
                    <a name="M007913"></a><b>children</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007913_source')" id="l_M007913_source">show</a>
                        
                    </p>
                    <div id="M007913_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 200</span>
200:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">children</span>
201:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
202:                 <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-value">1</span>] }
203:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
204:                 <span class="ruby-ivar">@value</span>
205:             <span class="ruby-keyword kw">end</span>
206:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007914">
                    
                    <a name="M007914"></a><b>children_with_index</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007914_source')" id="l_M007914_source">show</a>
                        
                    </p>
                    <div id="M007914_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 208</span>
208:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">children_with_index</span>
209:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: children_with_index is deprecated, use children&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
210:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
211:                 <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> [<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">i</span>] }
212:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
213:                 <span class="ruby-identifier">i</span> = <span class="ruby-value">-1</span>; <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>; [<span class="ruby-identifier">v</span>, <span class="ruby-identifier">i</span>] }
214:             <span class="ruby-keyword kw">end</span>
215:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007915">
                    
                    <a name="M007915"></a><b>emit</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007915_source')" id="l_M007915_source">show</a>
                        
                    </p>
                    <div id="M007915_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 217</span>
217:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">emit</span>
218:             <span class="ruby-identifier">transform</span>.<span class="ruby-identifier">to_yaml</span>
219:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007910">
                    
                    <a name="M007910"></a><b>match_path</b>( ypath_str )
                    
                </div>
                
                <div class="description">
                  <p>
<a href="YPath.html">YPath</a> search returning a complete depth array
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007910_source')" id="l_M007910_source">show</a>
                        
                    </p>
                    <div id="M007910_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 83</span>
83:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">match_path</span>( <span class="ruby-identifier">ypath_str</span> )
84:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: match_path is deprecated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
85:             <span class="ruby-identifier">require</span> <span class="ruby-value str">'syck/ypath'</span>
86:             <span class="ruby-identifier">depth</span> = <span class="ruby-value">0</span>
87:             <span class="ruby-identifier">matches</span> = []
88:             <span class="ruby-constant">YPath</span>.<span class="ruby-identifier">each_path</span>( <span class="ruby-identifier">ypath_str</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ypath</span><span class="ruby-operator">|</span>
89:                 <span class="ruby-identifier">seg</span> = <span class="ruby-identifier">match_segment</span>( <span class="ruby-identifier">ypath</span>, <span class="ruby-value">0</span> )
90:                 <span class="ruby-identifier">matches</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">seg</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seg</span>
91:             <span class="ruby-keyword kw">end</span>
92:             <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">uniq</span>
93:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007911">
                    
                    <a name="M007911"></a><b>match_segment</b>( ypath, depth )
                    
                </div>
                
                <div class="description">
                  <p>
Search a node for a single <a href="YPath.html">YPath</a> segment
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007911_source')" id="l_M007911_source">show</a>
                        
                    </p>
                    <div id="M007911_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 98</span>
 98:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">match_segment</span>( <span class="ruby-identifier">ypath</span>, <span class="ruby-identifier">depth</span> )
 99:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: match_segment is deprecated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
100:             <span class="ruby-identifier">deep_nodes</span> = []
101:             <span class="ruby-identifier">seg</span> = <span class="ruby-identifier">ypath</span>.<span class="ruby-identifier">segments</span>[ <span class="ruby-identifier">depth</span> ]
102:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seg</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;/&quot;</span>
103:                 <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
104:                     <span class="ruby-identifier">idx</span> = <span class="ruby-value">-1</span>
105:                     <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
106:                         <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
107:                         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
108:                             <span class="ruby-identifier">match_init</span> = [<span class="ruby-identifier">v</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">transform</span>, <span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>]]
109:                             <span class="ruby-identifier">match_deep</span> = <span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">match_segment</span>( <span class="ruby-identifier">ypath</span>, <span class="ruby-identifier">depth</span> )
110:                         <span class="ruby-keyword kw">else</span>
111:                             <span class="ruby-identifier">match_init</span> = [<span class="ruby-identifier">idx</span>, <span class="ruby-identifier">v</span>]
112:                             <span class="ruby-identifier">match_deep</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">match_segment</span>( <span class="ruby-identifier">ypath</span>, <span class="ruby-identifier">depth</span> )
113:                         <span class="ruby-keyword kw">end</span>
114:                         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match_deep</span>
115:                             <span class="ruby-identifier">match_deep</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
116:                                 <span class="ruby-identifier">deep_nodes</span>.<span class="ruby-identifier">push</span>( <span class="ruby-identifier">match_init</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">m</span> )
117:                             }
118:                         <span class="ruby-keyword kw">end</span>
119:                     }
120:                 <span class="ruby-keyword kw">end</span>
121:                 <span class="ruby-identifier">depth</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
122:                 <span class="ruby-identifier">seg</span> = <span class="ruby-identifier">ypath</span>.<span class="ruby-identifier">segments</span>[ <span class="ruby-identifier">depth</span> ]
123:             <span class="ruby-keyword kw">end</span>
124:             <span class="ruby-identifier">match_nodes</span> =
125:                 <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">seg</span>
126:                 <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;.&quot;</span>
127:                     [[<span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">self</span>]]
128:                 <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;..&quot;</span>
129:                     [[<span class="ruby-value str">&quot;..&quot;</span>, <span class="ruby-keyword kw">nil</span>]]
130:                 <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;*&quot;</span>
131:                     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Enumerable</span>
132:                         <span class="ruby-identifier">idx</span> = <span class="ruby-value">-1</span>
133:                         <span class="ruby-ivar">@value</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span>
134:                             <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
135:                             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@value</span>
136:                                 [<span class="ruby-identifier">h</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">transform</span>, <span class="ruby-identifier">h</span>[<span class="ruby-value">1</span>]]
137:                             <span class="ruby-keyword kw">else</span>
138:                                 [<span class="ruby-identifier">idx</span>, <span class="ruby-identifier">h</span>]
139:                             <span class="ruby-keyword kw">end</span>
140:                         }
141:                     <span class="ruby-keyword kw">end</span>
142:                 <span class="ruby-keyword kw">else</span>
143:                     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^&quot;(.*)&quot;$/</span>
144:                         <span class="ruby-identifier">seg</span> = <span class="ruby-identifier">$1</span>
145:                     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">seg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^'(.*)'$/</span>
146:                         <span class="ruby-identifier">seg</span> = <span class="ruby-identifier">$1</span>
147:                     <span class="ruby-keyword kw">end</span>
148:                     <span class="ruby-keyword kw">if</span> ( <span class="ruby-identifier">v</span> = <span class="ruby-identifier">at</span>( <span class="ruby-identifier">seg</span> ) )
149:                         [[ <span class="ruby-identifier">seg</span>, <span class="ruby-identifier">v</span> ]]
150:                     <span class="ruby-keyword kw">end</span>
151:                 <span class="ruby-keyword kw">end</span>
152:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">deep_nodes</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">match_nodes</span>
153:             <span class="ruby-identifier">pred</span> = <span class="ruby-identifier">ypath</span>.<span class="ruby-identifier">predicates</span>[ <span class="ruby-identifier">depth</span> ]
154:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pred</span>
155:                 <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">pred</span>
156:                 <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^\.=/</span>
157:                     <span class="ruby-identifier">pred</span> = <span class="ruby-identifier">$'</span>   <span class="ruby-comment cmt"># '</span>
158:                     <span class="ruby-identifier">match_nodes</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
159:                         <span class="ruby-identifier">n</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">pred</span>
160:                     }
161:                 <span class="ruby-keyword kw">else</span>
162:                     <span class="ruby-identifier">match_nodes</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
163:                         <span class="ruby-identifier">n</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">at</span>( <span class="ruby-identifier">pred</span> ).<span class="ruby-identifier">nil?</span>
164:                     }
165:                 <span class="ruby-keyword kw">end</span>
166:             <span class="ruby-keyword kw">end</span>
167:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">match_nodes</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">deep_nodes</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ypath</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">depth</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
168: 
169:             <span class="ruby-comment cmt">#puts &quot;DEPTH: #{depth + 1}&quot;</span>
170:             <span class="ruby-identifier">deep_nodes</span> = []
171:             <span class="ruby-identifier">match_nodes</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
172:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">BaseNode</span>
173:                     <span class="ruby-identifier">match_deep</span> = <span class="ruby-identifier">n</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">match_segment</span>( <span class="ruby-identifier">ypath</span>, <span class="ruby-identifier">depth</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> )
174:                     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match_deep</span>
175:                         <span class="ruby-identifier">match_deep</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
176:                             <span class="ruby-identifier">deep_nodes</span>.<span class="ruby-identifier">push</span>( <span class="ruby-identifier">n</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">m</span> )
177:                         }
178:                     <span class="ruby-keyword kw">end</span>
179:                 <span class="ruby-keyword kw">else</span>
180:                     <span class="ruby-identifier">deep_nodes</span> = []
181:                 <span class="ruby-keyword kw">end</span>
182:             }
183:             <span class="ruby-identifier">deep_nodes</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">deep_nodes</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
184:             <span class="ruby-identifier">deep_nodes</span>
185:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007908">
                    
                    <a name="M007908"></a><b>search</b>( ypath_str )
                    
                </div>
                
                <div class="description">
                  <p>
Search for <a href="YPath.html">YPath</a> entry and return a list of
qualified paths.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007908_source')" id="l_M007908_source">show</a>
                        
                    </p>
                    <div id="M007908_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 56</span>
56:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span>( <span class="ruby-identifier">ypath_str</span> )
57:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: search() is deprecated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
58:             <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">match_path</span>( <span class="ruby-identifier">ypath_str</span> )
59: 
60:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>
61:                 <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
62:                     <span class="ruby-identifier">path</span> = []
63:                     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">each_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
64:                         <span class="ruby-identifier">path</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">m</span>[<span class="ruby-identifier">i</span>] <span class="ruby-keyword kw">if</span> ( <span class="ruby-identifier">i</span> <span class="ruby-operator">%</span> <span class="ruby-value">2</span> ).<span class="ruby-identifier">zero?</span>
65:                     }
66:                     <span class="ruby-value str">&quot;/&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>( <span class="ruby-value str">&quot;/&quot;</span> )
67:                 }
68:             <span class="ruby-keyword kw">end</span>
69:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007906">
                    
                    <a name="M007906"></a><b>select</b>( ypath_str )
                    
                </div>
                
                <div class="description">
                  <p>
Search for <a href="YPath.html">YPath</a> entry and return qualified nodes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007906_source')" id="l_M007906_source">show</a>
                        
                    </p>
                    <div id="M007906_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 16</span>
16:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select</span>( <span class="ruby-identifier">ypath_str</span> )
17:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: select is deprecated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
18:             <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">match_path</span>( <span class="ruby-identifier">ypath_str</span> )
19: 
20:             <span class="ruby-comment cmt">#</span>
21:             <span class="ruby-comment cmt"># Create a new generic view of the elements selected</span>
22:             <span class="ruby-comment cmt">#</span>
23:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>
24:                 <span class="ruby-identifier">result</span> = []
25:                 <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
26:                     <span class="ruby-identifier">result</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">last</span>
27:                 }
28:                 <span class="ruby-constant">Syck</span>.<span class="ruby-identifier">transfer</span>( <span class="ruby-value str">'seq'</span>, <span class="ruby-identifier">result</span> )
29:             <span class="ruby-keyword kw">end</span>
30:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007907">
                    
                    <a name="M007907"></a><b>select!</b>( ypath_str )
                    
                </div>
                
                <div class="description">
                  <p>
Search for <a href="YPath.html">YPath</a> entry and return transformed
nodes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007907_source')" id="l_M007907_source">show</a>
                        
                    </p>
                    <div id="M007907_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/syck/lib/syck/basenode.rb, line 36</span>
36:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select!</span>( <span class="ruby-identifier">ypath_str</span> )
37:             <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{caller[0]}: select!() is deprecated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
38:             <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">match_path</span>( <span class="ruby-identifier">ypath_str</span> )
39: 
40:             <span class="ruby-comment cmt">#</span>
41:             <span class="ruby-comment cmt"># Create a new generic view of the elements selected</span>
42:             <span class="ruby-comment cmt">#</span>
43:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>
44:                 <span class="ruby-identifier">result</span> = []
45:                 <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
46:                     <span class="ruby-identifier">result</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">transform</span>
47:                 }
48:                 <span class="ruby-identifier">result</span>
49:             <span class="ruby-keyword kw">end</span>
50:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    