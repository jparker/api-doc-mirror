<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Net::HTTP</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Net::HTTP 
            
                <span class="parent">&lt; 
                    
                    Protocol
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/net/http_rb.html">lib/net/http.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <h2>What Is This Library?</h2>
<p>
This library provides your program functions to access WWW documents via <a
href="HTTP.html">HTTP</a>, Hyper Text Transfer Protocol version 1.1. For
details of <a href="HTTP.html">HTTP</a>, refer to [RFC2616] (<a
href="http://www.ietf.org/rfc/rfc2616.txt">www.ietf.org/rfc/rfc2616.txt</a>).
</p>
<h2>Examples</h2>
<h3>Getting Document From WWW Server</h3>
<p>
Example 1: Simple GET+print
</p>
<pre>
    require 'net/http'
    Net::HTTP.get_print 'www.example.com', '/index.html'
</pre>
<p>
Example 2: Simple GET+print by URL
</p>
<pre>
    require 'net/http'
    require 'uri'
    Net::HTTP.get_print URI.parse('http://www.example.com/index.html')
</pre>
<p>
Example 3: More generic GET+print
</p>
<pre>
    require 'net/http'
    require 'uri'

    url = URI.parse('http://www.example.com/index.html')
    res = Net::HTTP.start(url.host, url.port) {|http|
      http.get('/index.html')
    }
    puts res.body
</pre>
<p>
Example 4: More generic GET+print
</p>
<pre>
    require 'net/http'

    url = URI.parse('http://www.example.com/index.html')
    req = Net::HTTP::Get.new(url.path)
    res = Net::HTTP.start(url.host, url.port) {|http|
      http.request(req)
    }
    puts res.body
</pre>
<h3>Posting Form <a href="../Data.html">Data</a></h3>
<pre>
    require 'net/http'
    require 'uri'

    #1: Simple POST
    res = Net::HTTP.post_form(URI.parse('http://www.example.com/search.cgi'),
                              {'q' =&gt; 'ruby', 'max' =&gt; '50'})
    puts res.body

    #2: POST with basic authentication
    res = Net::HTTP.post_form(URI.parse('http://jack:pass@www.example.com/todo.cgi'),
                                        {'from' =&gt; '2005-01-01',
                                         'to' =&gt; '2005-03-31'})
    puts res.body

    #3: Detailed control
    url = URI.parse('http://www.example.com/todo.cgi')
    req = Net::HTTP::Post.new(url.path)
    req.basic_auth 'jack', 'pass'
    req.set_form_data({'from' =&gt; '2005-01-01', 'to' =&gt; '2005-03-31'}, ';')
    res = Net::HTTP.new(url.host, url.port).start {|http| http.request(req) }
    case res
    when Net::HTTPSuccess, Net::HTTPRedirection
      # OK
    else
      res.error!
    end

    #4: Multiple values
    res = Net::HTTP.post_form(URI.parse('http://www.example.com/search.cgi'),
                              {'q' =&gt; ['ruby', 'perl'], 'max' =&gt; '50'})
    puts res.body
</pre>
<h3>Accessing via <a href="HTTP.html#M004377">Proxy</a></h3>
<p>
<a href="HTTP.html#M004377">Net::HTTP.Proxy</a> creates http proxy class.
It has same methods of <a href="HTTP.html">Net::HTTP</a> but its instances
always connect to proxy, instead of given host.
</p>
<pre>
    require 'net/http'

    proxy_addr = 'your.proxy.host'
    proxy_port = 8080
            :
    Net::HTTP::Proxy(proxy_addr, proxy_port).start('www.example.com') {|http|
      # always connect to your.proxy.addr:8080
            :
    }
</pre>
<p>
Since <a href="HTTP.html#M004377">Net::HTTP.Proxy</a> returns <a
href="HTTP.html">Net::HTTP</a> itself when proxy_addr is nil, there&#8217;s
no need to change code if there&#8217;s proxy or not.
</p>
<p>
There are two additional parameters in <a
href="HTTP.html#M004377">Net::HTTP.Proxy</a> which allow to specify proxy
user name and password:
</p>
<pre>
    Net::HTTP::Proxy(proxy_addr, proxy_port, proxy_user = nil, proxy_pass = nil)
</pre>
<p>
You may use them to work with authorization-enabled proxies:
</p>
<pre>
    require 'net/http'
    require 'uri'

    proxy_host = 'your.proxy.host'
    proxy_port = 8080
    uri = URI.parse(ENV['http_proxy'])
    proxy_user, proxy_pass = uri.userinfo.split(/:/) if uri.userinfo
    Net::HTTP::Proxy(proxy_host, proxy_port,
                     proxy_user, proxy_pass).start('www.example.com') {|http|
      # always connect to your.proxy.addr:8080 using specified username and password
            :
    }
</pre>
<p>
Note that net/http never rely on HTTP_PROXY environment variable. If you
want to use proxy, set it explicitly.
</p>
<h3>Following Redirection</h3>
<pre>
    require 'net/http'
    require 'uri'

    def fetch(uri_str, limit = 10)
      # You should choose better exception.
      raise ArgumentError, 'HTTP redirect too deep' if limit == 0

      response = Net::HTTP.get_response(URI.parse(uri_str))
      case response
      when Net::HTTPSuccess     then response
      when Net::HTTPRedirection then fetch(response['location'], limit - 1)
      else
        response.error!
      end
    end

    print fetch('http://www.ruby-lang.org')
</pre>
<p>
Net::HTTPSuccess and Net::HTTPRedirection is a <a
href="HTTPResponse.html">HTTPResponse</a> class. All <a
href="HTTPResponse.html">HTTPResponse</a> objects belong to its own
response class which indicate <a href="HTTP.html">HTTP</a> result status.
For details of response classes, see section &#8220;<a
href="HTTP.html">HTTP</a> Response Classes&#8221;.
</p>
<h3>Basic Authentication</h3>
<pre>
    require 'net/http'

    Net::HTTP.start('www.example.com') {|http|
      req = Net::HTTP::Get.new('/secret-page.html')
      req.basic_auth 'account', 'password'
      response = http.request(req)
      print response.body
    }
</pre>
<h3><a href="HTTP.html">HTTP</a> Request Classes</h3>
<p>
Here is <a href="HTTP.html">HTTP</a> request class hierarchy.
</p>
<pre>
  Net::HTTPRequest
      Net::HTTP::Get
      Net::HTTP::Head
      Net::HTTP::Post
      Net::HTTP::Put
      Net::HTTP::Proppatch
      Net::HTTP::Lock
      Net::HTTP::Unlock
      Net::HTTP::Options
      Net::HTTP::Propfind
      Net::HTTP::Delete
      Net::HTTP::Move
      Net::HTTP::Copy
      Net::HTTP::Mkcol
      Net::HTTP::Trace
</pre>
<h3><a href="HTTP.html">HTTP</a> Response Classes</h3>
<p>
Here is <a href="HTTP.html">HTTP</a> response class hierarchy. All classes
are defined in <a href="../Net.html">Net</a> module.
</p>
<pre>
  HTTPResponse
      HTTPUnknownResponse
      HTTPInformation                    # 1xx
          HTTPContinue                       # 100
          HTTPSwitchProtocol                 # 101
      HTTPSuccess                        # 2xx
          HTTPOK                             # 200
          HTTPCreated                        # 201
          HTTPAccepted                       # 202
          HTTPNonAuthoritativeInformation    # 203
          HTTPNoContent                      # 204
          HTTPResetContent                   # 205
          HTTPPartialContent                 # 206
      HTTPRedirection                    # 3xx
          HTTPMultipleChoice                 # 300
          HTTPMovedPermanently               # 301
          HTTPFound                          # 302
          HTTPSeeOther                       # 303
          HTTPNotModified                    # 304
          HTTPUseProxy                       # 305
          HTTPTemporaryRedirect              # 307
      HTTPClientError                    # 4xx
          HTTPBadRequest                     # 400
          HTTPUnauthorized                   # 401
          HTTPPaymentRequired                # 402
          HTTPForbidden                      # 403
          HTTPNotFound                       # 404
          HTTPMethodNotAllowed               # 405
          HTTPNotAcceptable                  # 406
          HTTPProxyAuthenticationRequired    # 407
          HTTPRequestTimeOut                 # 408
          HTTPConflict                       # 409
          HTTPGone                           # 410
          HTTPLengthRequired                 # 411
          HTTPPreconditionFailed             # 412
          HTTPRequestEntityTooLarge          # 413
          HTTPRequestURITooLong              # 414
          HTTPUnsupportedMediaType           # 415
          HTTPRequestedRangeNotSatisfiable   # 416
          HTTPExpectationFailed              # 417
      HTTPServerError                    # 5xx
          HTTPInternalServerError            # 500
          HTTPNotImplemented                 # 501
          HTTPBadGateway                     # 502
          HTTPServiceUnavailable             # 503
          HTTPGatewayTimeOut                 # 504
          HTTPVersionNotSupported            # 505
</pre>
<h2>Switching <a href="HTTP.html">Net::HTTP</a> versions</h2>
<p>
You can use net/http.rb 1.1 features (bundled with Ruby 1.6) by calling <a
href="HTTP.html#M004270">HTTP.version_1_1</a>. Calling <a
href="HTTP.html#M004269">Net::HTTP.version_1_2</a> allows you to use 1.2
features again.
</p>
<pre>
    # example
    Net::HTTP.start {|http1| ...(http1 has 1.2 features)... }

    Net::HTTP.version_1_1
    Net::HTTP.start {|http2| ...(http2 has 1.1 features)... }

    Net::HTTP.version_1_2
    Net::HTTP.start {|http3| ...(http3 has 1.2 features)... }
</pre>
<p>
This function is NOT thread-safe.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M004427">D</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004377">Proxy</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004289">active?</a>,</li>
                
                <li><a href="#M004426">addr_port</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M004421">begin_transport</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004394">conn_address</a>,</li>
                
                <li><a href="#M004395">conn_port</a>,</li>
                
                <li><a href="#M004295">connect</a>,</li>
                
                <li><a href="#M004408">copy</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M004277">default_port</a>,</li>
                
                <li><a href="#M004406">delete</a>,</li>
                
                <li><a href="#M004376">do_finish</a>,</li>
                
                <li><a href="#M004294">do_start</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004396">edit_path</a>,</li>
                
                <li><a href="#M004422">end_transport</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M004375">finish</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M004397">get</a>,</li>
                
                <li><a href="#M004274">get</a>,</li>
                
                <li><a href="#M004415">get2</a>,</li>
                
                <li><a href="#M004273">get_print</a>,</li>
                
                <li><a href="#M004275">get_response</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M004398">head</a>,</li>
                
                <li><a href="#M004416">head2</a>,</li>
                
                <li><a href="#M004278">http_default_port</a>,</li>
                
                <li><a href="#M004279">https_default_port</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M004285">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>K</dt>
        <dd>
            <ul>
                
                <li><a href="#M004423">keep_alive?</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M004402">lock</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M004409">mkcol</a>,</li>
                
                <li><a href="#M004407">move</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M004282">new</a>,</li>
                
                <li><a href="#M004284">new</a>,</li>
                
                <li><a href="#M004283">newobj</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M004374">on_connect</a>,</li>
                
                <li><a href="#M004404">options</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004292">peer_cert</a>,</li>
                
                <li><a href="#M004399">post</a>,</li>
                
                <li><a href="#M004417">post2</a>,</li>
                
                <li><a href="#M004276">post_form</a>,</li>
                
                <li><a href="#M004405">propfind</a>,</li>
                
                <li><a href="#M004401">proppatch</a>,</li>
                
                <li><a href="#M004387">proxy?</a>,</li>
                
                <li><a href="#M004388">proxy_address</a>,</li>
                
                <li><a href="#M004386">proxy_class?</a>,</li>
                
                <li><a href="#M004391">proxy_pass</a>,</li>
                
                <li><a href="#M004389">proxy_port</a>,</li>
                
                <li><a href="#M004390">proxy_user</a>,</li>
                
                <li><a href="#M004392">proxyaddr</a>,</li>
                
                <li><a href="#M004393">proxyport</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004287">read_timeout=</a>,</li>
                
                <li><a href="#M004419">request</a>,</li>
                
                <li><a href="#M004411">request_get</a>,</li>
                
                <li><a href="#M004412">request_head</a>,</li>
                
                <li><a href="#M004413">request_post</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M004418">send_request</a>,</li>
                
                <li><a href="#M004286">set_debug_output</a>,</li>
                
                <li><a href="#M004425">sspi_auth</a>,</li>
                
                <li><a href="#M004424">sspi_auth?</a>,</li>
                
                <li><a href="#M004293">start</a>,</li>
                
                <li><a href="#M004281">start</a>,</li>
                
                <li><a href="#M004288">started?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M004410">trace</a>,</li>
                
                <li><a href="#M004420">transport_request</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M004403">unlock</a>,</li>
                
                <li><a href="#M004291">use_ssl=</a>,</li>
                
                <li><a href="#M004290">use_ssl?</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M004270">version_1_1</a>,</li>
                
                <li><a href="#M004272">version_1_1?</a>,</li>
                
                <li><a href="#M004269">version_1_2</a>,</li>
                
                <li><a href="#M004271">version_1_2?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="HTTP/ProxyDelta.html">Net::HTTP::ProxyDelta</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Copy.html">Net::HTTP::Copy</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Delete.html">Net::HTTP::Delete</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Get.html">Net::HTTP::Get</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Head.html">Net::HTTP::Head</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Lock.html">Net::HTTP::Lock</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Mkcol.html">Net::HTTP::Mkcol</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Move.html">Net::HTTP::Move</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Options.html">Net::HTTP::Options</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Post.html">Net::HTTP::Post</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Propfind.html">Net::HTTP::Propfind</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Proppatch.html">Net::HTTP::Proppatch</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Put.html">Net::HTTP::Put</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Trace.html">Net::HTTP::Trace</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Unlock.html">Net::HTTP::Unlock</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">SSL_ATTRIBUTES</td>
            <td>=</td>
            <td class="attr-value">%w(       ssl_version key cert ca_file ca_path cert_store ciphers       verify_mode verify_callback verify_depth ssl_timeout     )</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>address</td>
            <td class='attr-desc'><p>
The host name to connect to.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'><p>
The port number to connect to.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>open_timeout</td>
            <td class='attr-desc'><p>
Seconds to wait until connection is opened. If the <a
href="HTTP.html">HTTP</a> object cannot open a connection in this many
seconds, it raises a TimeoutError exception.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>read_timeout</td>
            <td class='attr-desc'><p>
Seconds to wait until reading one block (by one read(2) call). If the <a
href="HTTP.html">HTTP</a> object cannot open a connection in this many
seconds, it raises a TimeoutError exception.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>close_on_empty_response</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_address</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_port</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_user</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_pass</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M004377">
                    
                    <a name="M004377"></a><b>Proxy</b>(p_addr, p_port = nil, p_user = nil, p_pass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates an <a href="HTTP.html">HTTP</a> proxy class. Arguments are
address/port of proxy host and username/password if authorization on proxy
server is required. You can replace the <a href="HTTP.html">HTTP</a> class
with created proxy class.
</p>
<p>
If ADDRESS is nil, this method returns self (<a
href="HTTP.html">Net::HTTP</a>).
</p>
<pre>
    # Example
    proxy_class = Net::HTTP::Proxy('proxy.example.com', 8080)
                    :
    proxy_class.start('www.ruby-lang.org') {|http|
      # connecting proxy.foo.org:8080
                    :
    }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004377_source')" id="l_M004377_source">show</a>
                        
                    </p>
                    <div id="M004377_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 732</span>
732:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-constant">Proxy</span>(<span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword kw">nil</span>)
733:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">p_addr</span>
734:       <span class="ruby-identifier">delta</span> = <span class="ruby-constant">ProxyDelta</span>
735:       <span class="ruby-identifier">proxyclass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
736:       <span class="ruby-identifier">proxyclass</span>.<span class="ruby-identifier">module_eval</span> {
737:         <span class="ruby-identifier">include</span> <span class="ruby-identifier">delta</span>
738:         <span class="ruby-comment cmt"># with proxy</span>
739:         <span class="ruby-ivar">@is_proxy_class</span> = <span class="ruby-keyword kw">true</span>
740:         <span class="ruby-ivar">@proxy_address</span> = <span class="ruby-identifier">p_addr</span>
741:         <span class="ruby-ivar">@proxy_port</span>    = <span class="ruby-identifier">p_port</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_port</span>()
742:         <span class="ruby-ivar">@proxy_user</span>    = <span class="ruby-identifier">p_user</span>
743:         <span class="ruby-ivar">@proxy_pass</span>    = <span class="ruby-identifier">p_pass</span>
744:       }
745:       <span class="ruby-identifier">proxyclass</span>
746:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004277">
                    
                    <a name="M004277"></a><b>default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default port to use for <a href="HTTP.html">HTTP</a> requests; defaults
to 80.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004277_source')" id="l_M004277_source">show</a>
                        
                    </p>
                    <div id="M004277_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 428</span>
428:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>
429:       <span class="ruby-identifier">http_default_port</span>()
430:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004274">
                    
                    <a name="M004274"></a><b>get</b>(uri_or_host, path = nil, port = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Send a GET request to the target and return the response as a string. The
target can either be specified as (<tt>uri</tt>), or as (<tt>host</tt>,
<tt>path</tt>, <tt>port</tt> = 80); so:
</p>
<pre>
   print Net::HTTP.get(URI.parse('http://www.example.com/index.html'))
</pre>
<p>
or:
</p>
<pre>
   print Net::HTTP.get('www.example.com', '/index.html')
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004274_source')" id="l_M004274_source">show</a>
                        
                    </p>
                    <div id="M004274_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 369</span>
369:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>)
370:       <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>).<span class="ruby-identifier">body</span>
371:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004273">
                    
                    <a name="M004273"></a><b>get_print</b>(uri_or_host, path = nil, port = nil)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="HTTP/Get.html">Get</a> body from target and output it to
+$stdout+. The target can either be specified as (<tt>uri</tt>), or as
(<tt>host</tt>, <tt>path</tt>, <tt>port</tt> = 80); so:
</p>
<pre>
   Net::HTTP.get_print URI.parse('http://www.example.com/index.html')
</pre>
<p>
or:
</p>
<pre>
   Net::HTTP.get_print 'www.example.com', '/index.html'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004273_source')" id="l_M004273_source">show</a>
                        
                    </p>
                    <div id="M004273_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 350</span>
350:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_print</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>)
351:       <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
352:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
353:           <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">chunk</span>
354:         <span class="ruby-keyword kw">end</span>
355:       }
356:       <span class="ruby-keyword kw">nil</span>
357:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004275">
                    
                    <a name="M004275"></a><b>get_response</b>(uri_or_host, path = nil, port = nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Send a GET request to the target and return the response as a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object. The target can
either be specified as (<tt>uri</tt>), or as (<tt>host</tt>, <tt>path</tt>,
<tt>port</tt> = 80); so:
</p>
<pre>
   res = Net::HTTP.get_response(URI.parse('http://www.example.com/index.html'))
   print res.body
</pre>
<p>
or:
</p>
<pre>
   res = Net::HTTP.get_response('www.example.com', '/index.html')
   print res.body
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004275_source')" id="l_M004275_source">show</a>
                        
                    </p>
                    <div id="M004275_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 385</span>
385:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
386:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
387:         <span class="ruby-identifier">host</span> = <span class="ruby-identifier">uri_or_host</span>
388:         <span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
389:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
390:         }
391:       <span class="ruby-keyword kw">else</span>
392:         <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">uri_or_host</span>
393:         <span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
394:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">request_uri</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
395:         }
396:       <span class="ruby-keyword kw">end</span>
397:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004278">
                    
                    <a name="M004278"></a><b>http_default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default port to use for <a href="HTTP.html">HTTP</a> requests; defaults
to 80.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004278_source')" id="l_M004278_source">show</a>
                        
                    </p>
                    <div id="M004278_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 433</span>
433:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span>
434:       <span class="ruby-value">80</span>
435:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004279">
                    
                    <a name="M004279"></a><b>https_default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default port to use for HTTPS requests; defaults to 443.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004279_source')" id="l_M004279_source">show</a>
                        
                    </p>
                    <div id="M004279_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 438</span>
438:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span>
439:       <span class="ruby-value">443</span>
440:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004284">
                    
                    <a name="M004284"></a><b>new</b>(address, port = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="HTTP.html">Net::HTTP</a> object for the specified
<tt>address</tt>. This method does not open the TCP connection.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004284_source')" id="l_M004284_source">show</a>
                        
                    </p>
                    <div id="M004284_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 510</span>
510:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>)
511:       <span class="ruby-ivar">@address</span> = <span class="ruby-identifier">address</span>
512:       <span class="ruby-ivar">@port</span>    = (<span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>)
513:       <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-constant">HTTPVersion</span>
514:       <span class="ruby-ivar">@no_keepalive_server</span> = <span class="ruby-keyword kw">false</span>
515:       <span class="ruby-ivar">@close_on_empty_response</span> = <span class="ruby-keyword kw">false</span>
516:       <span class="ruby-ivar">@socket</span>  = <span class="ruby-keyword kw">nil</span>
517:       <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">false</span>
518:       <span class="ruby-ivar">@open_timeout</span> = <span class="ruby-keyword kw">nil</span>
519:       <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-value">60</span>
520:       <span class="ruby-ivar">@debug_output</span> = <span class="ruby-keyword kw">nil</span>
521:       <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-keyword kw">false</span>
522:       <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-keyword kw">nil</span>
523:       <span class="ruby-ivar">@enable_post_connection_check</span> = <span class="ruby-keyword kw">true</span>
524:       <span class="ruby-ivar">@compression</span> = <span class="ruby-keyword kw">nil</span>
525:       <span class="ruby-ivar">@sspi_enabled</span> = <span class="ruby-keyword kw">false</span>
526:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">SSL_ATTRIBUTES</span>)
527:         <span class="ruby-constant">SSL_ATTRIBUTES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
528:           <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-node">&quot;@#{name}&quot;</span>, <span class="ruby-keyword kw">nil</span>
529:         <span class="ruby-keyword kw">end</span>
530:       <span class="ruby-keyword kw">end</span>
531:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004282">
                    
                    <a name="M004282"></a><b>new</b>(address, port = nil, p_addr = nil, p_port = nil, p_user = nil, p_pass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="HTTP.html">Net::HTTP</a> object. If
<tt>proxy_addr</tt> is given, creates an <a href="HTTP.html">Net::HTTP</a>
object with proxy support. This method does not open the TCP connection.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004283">newobj</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004282_source')" id="l_M004282_source">show</a>
                        
                    </p>
                    <div id="M004282_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 500</span>
500:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_addr</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword kw">nil</span>)
501:       <span class="ruby-identifier">h</span> = <span class="ruby-constant">Proxy</span>(<span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>).<span class="ruby-identifier">newobj</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>)
502:       <span class="ruby-identifier">h</span>.<span class="ruby-identifier">instance_eval</span> {
503:         <span class="ruby-ivar">@newimpl</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2?</span>
504:       }
505:       <span class="ruby-identifier">h</span>
506:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004283">
                    
                    <a name="M004283"></a><b>newobj</b>(address, port = nil, p_addr = nil, p_port = nil, p_user = nil, p_pass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004282">new</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004276">
                    
                    <a name="M004276"></a><b>post_form</b>(url, params)
                    
                </div>
                
                <div class="description">
                  <p>
Posts HTML form data to the <tt>URL</tt>. Form data must be represented as
a <a href="../Hash.html">Hash</a> of <a href="../String.html">String</a> to
<a href="../String.html">String</a>, e.g:
</p>
<pre>
  { &quot;cmd&quot; =&gt; &quot;search&quot;, &quot;q&quot; =&gt; &quot;ruby&quot;, &quot;max&quot; =&gt; &quot;50&quot; }
</pre>
<p>
This method also does Basic Authentication iff <tt>URL</tt>.user exists.
</p>
<p>
Example:
</p>
<pre>
  require 'net/http'
  require 'uri'

  HTTP.post_form URI.parse('http://www.example.com/search.cgi'),
                 { &quot;q&quot; =&gt; &quot;ruby&quot;, &quot;max&quot; =&gt; &quot;50&quot; }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004276_source')" id="l_M004276_source">show</a>
                        
                    </p>
                    <div id="M004276_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 414</span>
414:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">params</span>)
415:       <span class="ruby-identifier">req</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">path</span>)
416:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">form_data</span> = <span class="ruby-identifier">params</span>
417:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">basic_auth</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">password</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>
418:       <span class="ruby-identifier">new</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
419:         <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
420:       }
421:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004386">
                    
                    <a name="M004386"></a><b>proxy_class?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns true if self is a class which was created by HTTP::Proxy.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004386_source')" id="l_M004386_source">show</a>
                        
                    </p>
                    <div id="M004386_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 750</span>
750:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_class?</span>
751:         <span class="ruby-ivar">@is_proxy_class</span>
752:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004281">
                    
                    <a name="M004281"></a><b>HTTP.start(address, port, p_addr, p_port, p_user, p_pass, &block)
HTTP.start(address, port=nil, p_addr=nil, p_port=nil, p_user=nil, p_pass=nil, opt, &block)
</b>
                    
                </div>
                
                <div class="description">
                  <p>
creates a new <a href="HTTP.html">Net::HTTP</a> object and opens its TCP
connection and <a href="HTTP.html">HTTP</a> session.
</p>
<p>
Argments are following:
</p>
<table>
<tr><td valign="top"><em>address</em> :</td><td>hostname or IP address of the server

</td></tr>
<tr><td valign="top"><em>port</em>    :</td><td>port of the server

</td></tr>
<tr><td valign="top"><em>p_addr</em>  :</td><td>address of proxy

</td></tr>
<tr><td valign="top"><em>p_port</em>  :</td><td>port of proxy

</td></tr>
<tr><td valign="top"><em>p_user</em>  :</td><td>user of proxy

</td></tr>
<tr><td valign="top"><em>p_pass</em>  :</td><td>pass of proxy

</td></tr>
<tr><td valign="top"><em>opt</em>     :</td><td>optional hash

</td></tr>
</table>
<p>
<em>opt</em> sets following values by its accessor. The keys are ca_file,
ca_path, cert, cert_store, ciphers, <a
href="HTTP.html#close_on_empty_response">close_on_empty_response</a>, key,
<a href="HTTP.html#open_timeout">open_timeout</a>, <a
href="HTTP.html#read_timeout">read_timeout</a>, ssl_timeout, ssl_version,
use_ssl, verify_callback, verify_depth and verify_mode. If you set :use_ssl
as true, you can use https and default value of verify_mode is set as
OpenSSL::SSL::VERIFY_PEER.
</p>
<p>
If the optional block is given, the newly created <a
href="HTTP.html">Net::HTTP</a> object is passed to it and closed when the
block finishes. In this case, the return value of this method is the return
value of the block. If no block is given, the return value of this method
is the newly created <a href="HTTP.html">Net::HTTP</a> object itself, and
the caller is responsible for closing it upon completion.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004281_source')" id="l_M004281_source">show</a>
                        
                    </p>
                    <div id="M004281_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 475</span>
475:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">address</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +http+</span>
476:       <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-identifier">arg</span>[<span class="ruby-value">-1</span>])
477:       <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>
478:       <span class="ruby-identifier">port</span> = <span class="ruby-identifier">https_default_port</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:use_ssl</span>]
479:       <span class="ruby-identifier">http</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>)
480: 
481:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>
482:         <span class="ruby-identifier">opt</span> = {<span class="ruby-identifier">verify_mode</span><span class="ruby-operator">:</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_PEER</span>}.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">opt</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:use_ssl</span>]
483:         <span class="ruby-identifier">http</span>.<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp re">/\A(\w+)=\z/</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span>
484:           <span class="ruby-identifier">key</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_sym</span>
485:           <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">next</span>
486:           <span class="ruby-identifier">http</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">key</span>])
487:         <span class="ruby-keyword kw">end</span>
488:       <span class="ruby-keyword kw">end</span>
489: 
490:       <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
491:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004270">
                    
                    <a name="M004270"></a><b>version_1_1</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Turns on net/http 1.1 (ruby 1.6) features. Defaults to OFF in ruby 1.8.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004270_source')" id="l_M004270_source">show</a>
                        
                    </p>
                    <div id="M004270_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 314</span>
314:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_1</span>
315:       <span class="ruby-ivar">@newimpl</span> = <span class="ruby-keyword kw">false</span>
316:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004272">
                    
                    <a name="M004272"></a><b>version_1_1?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
true if net/http is in version 1.1 compatible mode. Defaults to true.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004272_source')" id="l_M004272_source">show</a>
                        
                    </p>
                    <div id="M004272_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 326</span>
326:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_1?</span>
327:       <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@newimpl</span>
328:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004269">
                    
                    <a name="M004269"></a><b>version_1_2</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Turns on net/http 1.2 (ruby 1.8) features. Defaults to ON in ruby 1.8.
</p>
<p>
I strongly recommend to call this method always.
</p>
<pre>
  require 'net/http'
  Net::HTTP.version_1_2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004269_source')" id="l_M004269_source">show</a>
                        
                    </p>
                    <div id="M004269_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 308</span>
308:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2</span>
309:       <span class="ruby-ivar">@newimpl</span> = <span class="ruby-keyword kw">true</span>
310:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004271">
                    
                    <a name="M004271"></a><b>version_1_2?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
true if net/http is in version 1.2 mode. Defaults to true.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004271_source')" id="l_M004271_source">show</a>
                        
                    </p>
                    <div id="M004271_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 320</span>
320:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2?</span>
321:       <span class="ruby-ivar">@newimpl</span>
322:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004289">
                    
                    <a name="M004289"></a><b>active?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004288">started?</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004408">
                    
                    <a name="M004408"></a><b>copy</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a COPY request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004408_source')" id="l_M004408_source">show</a>
                        
                    </p>
                    <div id="M004408_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1031</span>
1031:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1032:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Copy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1033:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004406">
                    
                    <a name="M004406"></a><b>delete</b>(path, initheader = {'Depth' =&gt; 'Infinity'})
                    
                </div>
                
                <div class="description">
                  <p>
Sends a DELETE request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004406_source')" id="l_M004406_source">show</a>
                        
                    </p>
                    <div id="M004406_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1019</span>
1019:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-value str">'Depth'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Infinity'</span>})
1020:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Delete</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1021:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004375">
                    
                    <a name="M004375"></a><b>finish</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Finishes <a href="HTTP.html">HTTP</a> session and closes TCP connection.
Raises <a href="../IOError.html">IOError</a> if not started.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004375_source')" id="l_M004375_source">show</a>
                        
                    </p>
                    <div id="M004375_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 692</span>
692:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finish</span>
693:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-value str">'HTTP session not yet started'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">started?</span>
694:       <span class="ruby-identifier">do_finish</span>
695:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004397">
                    
                    <a name="M004397"></a><b>get</b>(path, initheader = {}, dest = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Gets data from <tt>path</tt> on the connected-to host. <tt>initheader</tt>
must be a <a href="../Hash.html">Hash</a> like { &#8216;Accept&#8217; =>
&#8216;<b>/</b>&#8217;, &#8230; }, and it defaults to an empty hash. If
<tt>initheader</tt> doesn&#8217;t have the key
&#8216;accept-encoding&#8217;, then a value of
&#8220;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&#8220; is used, so that gzip
compression is used in preference to deflate compression, which is used in
preference to no compression. Ruby doesn&#8217;t have libraries to support
the compress (Lempel-Ziv) compression, so that is not supported. The intent
of this is to reduce bandwidth by default. If this routine sets up
compression, then it does the decompression also, removing the header as
well to prevent confusion. Otherwise it leaves the body as it found it.
</p>
<p>
In version 1.1 (ruby 1.6), this method returns a pair of objects, a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object and the entity body
string. In version 1.2 (ruby 1.8), this method returns a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object.
</p>
<p>
If called with a block, yields each fragment of the entity body in turn as
a string as it is read from the socket. Note that in this case, the
returned response object will <b>not</b> contain a (meaningful) body.
</p>
<p>
<tt>dest</tt> argument is obsolete. It still works but you must not use it.
</p>
<p>
In version 1.1, this method might raise an exception for 3xx (redirect). In
this case you can get a <a href="HTTPResponse.html">HTTPResponse</a> object
by &#8220;anException.response&#8220;.
</p>
<p>
In version 1.2, this method never raises exception.
</p>
<pre>
    # version 1.1 (bundled with Ruby 1.6)
    response, body = http.get('/index.html')

    # version 1.2 (bundled with Ruby 1.8 or later)
    response = http.get('/index.html')

    # using block
    File.open('result.txt', 'w') {|f|
      http.get('/~foo/') do |str|
        f.write str
      end
    }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004397_source')" id="l_M004397_source">show</a>
                        
                    </p>
                    <div id="M004397_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 872</span>
872:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {}, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +body_segment+</span>
873:       <span class="ruby-identifier">res</span> = <span class="ruby-keyword kw">nil</span>
874:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">HAVE_ZLIB</span>
875:         <span class="ruby-keyword kw">unless</span>  <span class="ruby-identifier">initheader</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;accept-encoding&quot;</span>}
876:           <span class="ruby-identifier">initheader</span>[<span class="ruby-value str">&quot;accept-encoding&quot;</span>] = <span class="ruby-value str">&quot;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&quot;</span>
877:           <span class="ruby-ivar">@compression</span> = <span class="ruby-keyword kw">true</span>
878:         <span class="ruby-keyword kw">end</span>
879:       <span class="ruby-keyword kw">end</span>
880:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>)) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
881:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">&quot;content-encoding&quot;</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@compression</span>
882:           <span class="ruby-ivar">@compression</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt"># Clear it till next set.</span>
883:           <span class="ruby-identifier">the_body</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
884:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">r</span>[<span class="ruby-value str">&quot;content-encoding&quot;</span>]
885:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;gzip&quot;</span>
886:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">body</span>= <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipReader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">the_body</span>)).<span class="ruby-identifier">read</span>
887:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;content-encoding&quot;</span>)
888:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;deflate&quot;</span>
889:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">body</span>= <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">Inflate</span>.<span class="ruby-identifier">inflate</span>(<span class="ruby-identifier">the_body</span>);
890:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;content-encoding&quot;</span>)
891:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;identity&quot;</span>
892:             ; <span class="ruby-comment cmt"># nothing needed</span>
893:           <span class="ruby-keyword kw">else</span>
894:             ; <span class="ruby-comment cmt"># Don't do anything dramatic, unless we need to later</span>
895:           <span class="ruby-keyword kw">end</span>
896:         <span class="ruby-keyword kw">else</span>
897:           <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
898:         <span class="ruby-keyword kw">end</span>
899:         <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
900:       }
901:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@newimpl</span>
902:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">value</span>
903:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>, <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
904:       <span class="ruby-keyword kw">end</span>
905: 
906:       <span class="ruby-identifier">res</span>
907:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004415">
                    
                    <a name="M004415"></a><b>get2</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004411">request_get</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004398">
                    
                    <a name="M004398"></a><b>head</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Gets only the header from <tt>path</tt> on the connected-to host.
<tt>header</tt> is a <a href="../Hash.html">Hash</a> like {
&#8216;Accept&#8217; => &#8216;<b>/</b>&#8217;, &#8230; }.
</p>
<p>
This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.
</p>
<p>
In version 1.1, this method might raise an exception for 3xx (redirect). On
the case you can get a <a href="HTTPResponse.html">HTTPResponse</a> object
by &#8220;anException.response&#8220;. In version 1.2, this method never
raises an exception.
</p>
<pre>
    response = nil
    Net::HTTP.start('some.www.server', 80) {|http|
      response = http.head('/index.html')
    }
    p response['content-type']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004398_source')" id="l_M004398_source">show</a>
                        
                    </p>
                    <div id="M004398_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 925</span>
925:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
926:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
927:       <span class="ruby-identifier">res</span>.<span class="ruby-identifier">value</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@newimpl</span>
928:       <span class="ruby-identifier">res</span>
929:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004416">
                    
                    <a name="M004416"></a><b>head2</b>(path, initheader = nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004412">request_head</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004285">
                    
                    <a name="M004285"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004285_source')" id="l_M004285_source">show</a>
                        
                    </p>
                    <div id="M004285_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 533</span>
533:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
534:       <span class="ruby-node">&quot;#&lt;#{self.class} #{@address}:#{@port} open=#{started?}&gt;&quot;</span>
535:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004402">
                    
                    <a name="M004402"></a><b>lock</b>(path, body, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a LOCK request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004402_source')" id="l_M004402_source">show</a>
                        
                    </p>
                    <div id="M004402_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 995</span>
995:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
996:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Lock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
997:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004409">
                    
                    <a name="M004409"></a><b>mkcol</b>(path, body = nil, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a MKCOL request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004409_source')" id="l_M004409_source">show</a>
                        
                    </p>
                    <div id="M004409_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1037</span>
1037:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkcol</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1038:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Mkcol</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1039:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004407">
                    
                    <a name="M004407"></a><b>move</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a MOVE request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004407_source')" id="l_M004407_source">show</a>
                        
                    </p>
                    <div id="M004407_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1025</span>
1025:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1026:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Move</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1027:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004404">
                    
                    <a name="M004404"></a><b>options</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a OPTIONS request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004404_source')" id="l_M004404_source">show</a>
                        
                    </p>
                    <div id="M004404_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1007</span>
1007:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1008:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1009:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004292">
                    
                    <a name="M004292"></a><b>peer_cert</b>()
                    
                </div>
                
                <div class="description">
                  <p>
return the X.509 certificates the server presented.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004292_source')" id="l_M004292_source">show</a>
                        
                    </p>
                    <div id="M004292_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 606</span>
606:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">peer_cert</span>
607:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">use_ssl?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@socket</span>
608:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
609:       <span class="ruby-keyword kw">end</span>
610:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">io</span>.<span class="ruby-identifier">peer_cert</span>
611:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004399">
                    
                    <a name="M004399"></a><b>post</b>(path, data, initheader = nil, dest = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Posts <tt>data</tt> (must be a <a href="../String.html">String</a>) to
<tt>path</tt>. <tt>header</tt> must be a <a href="../Hash.html">Hash</a>
like { &#8216;Accept&#8217; => &#8216;<b>/</b>&#8217;, &#8230; }.
</p>
<p>
In version 1.1 (ruby 1.6), this method returns a pair of objects, a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object and an entity body
string. In version 1.2 (ruby 1.8), this method returns a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object.
</p>
<p>
If called with a block, yields each fragment of the entity body in turn as
a string as it are read from the socket. Note that in this case, the
returned response object will <b>not</b> contain a (meaningful) body.
</p>
<p>
<tt>dest</tt> argument is obsolete. It still works but you must not use it.
</p>
<p>
In version 1.1, this method might raise an exception for 3xx (redirect). In
this case you can get an <a href="HTTPResponse.html">HTTPResponse</a>
object by &#8220;anException.response&#8220;. In version 1.2, this method
never raises exception.
</p>
<pre>
    # version 1.1
    response, body = http.post('/cgi-bin/search.rb', 'query=foo')

    # version 1.2
    response = http.post('/cgi-bin/search.rb', 'query=foo')

    # using block
    File.open('result.txt', 'w') {|f|
      http.post('/cgi-bin/search.rb', 'query=foo') do |str|
        f.write str
      end
    }
</pre>
<p>
You should set Content-Type: header field for POST. If no Content-Type:
field given, this method uses
&#8220;application/x-www-form-urlencoded&#8221; by default.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004399_source')" id="l_M004399_source">show</a>
                        
                    </p>
                    <div id="M004399_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 968</span>
968:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +body_segment+</span>
969:       <span class="ruby-identifier">res</span> = <span class="ruby-keyword kw">nil</span>
970:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
971:         <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
972:         <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
973:       }
974:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@newimpl</span>
975:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">value</span>
976:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>, <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
977:       <span class="ruby-keyword kw">end</span>
978:       <span class="ruby-identifier">res</span>
979:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004417">
                    
                    <a name="M004417"></a><b>post2</b>(path, data, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004413">request_post</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004405">
                    
                    <a name="M004405"></a><b>propfind</b>(path, body = nil, initheader = {'Depth' =&gt; '0'})
                    
                </div>
                
                <div class="description">
                  <p>
Sends a PROPFIND request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004405_source')" id="l_M004405_source">show</a>
                        
                    </p>
                    <div id="M004405_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1013</span>
1013:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">propfind</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-value str">'Depth'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'0'</span>})
1014:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Propfind</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1015:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004401">
                    
                    <a name="M004401"></a><b>proppatch</b>(path, body, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a PROPPATCH request to the <tt>path</tt> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004401_source')" id="l_M004401_source">show</a>
                        
                    </p>
                    <div id="M004401_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 989</span>
989:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proppatch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
990:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Proppatch</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
991:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004387">
                    
                    <a name="M004387"></a><b>proxy?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if self is a <a href="HTTP.html">HTTP</a> proxy class.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004387_source')" id="l_M004387_source">show</a>
                        
                    </p>
                    <div id="M004387_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 761</span>
761:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy?</span>
762:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_class?</span>
763:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004388">
                    
                    <a name="M004388"></a><b>proxy_address</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Address of proxy host. If self does not use a proxy, nil.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004392">proxyaddr</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004388_source')" id="l_M004388_source">show</a>
                        
                    </p>
                    <div id="M004388_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 766</span>
766:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_address</span>
767:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_address</span>
768:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004391">
                    
                    <a name="M004391"></a><b>proxy_pass</b>()
                    
                </div>
                
                <div class="description">
                  <p>
User password for accessing proxy. If self does not use a proxy, nil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004391_source')" id="l_M004391_source">show</a>
                        
                    </p>
                    <div id="M004391_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 781</span>
781:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_pass</span>
782:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_pass</span>
783:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004389">
                    
                    <a name="M004389"></a><b>proxy_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Port number of proxy host. If self does not use a proxy, nil.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004393">proxyport</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004389_source')" id="l_M004389_source">show</a>
                        
                    </p>
                    <div id="M004389_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 771</span>
771:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_port</span>
772:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_port</span>
773:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004390">
                    
                    <a name="M004390"></a><b>proxy_user</b>()
                    
                </div>
                
                <div class="description">
                  <p>
User name for accessing proxy. If self does not use a proxy, nil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004390_source')" id="l_M004390_source">show</a>
                        
                    </p>
                    <div id="M004390_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 776</span>
776:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_user</span>
777:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_user</span>
778:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004392">
                    
                    <a name="M004392"></a><b>proxyaddr</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004388">proxy_address</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004393">
                    
                    <a name="M004393"></a><b>proxyport</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M004389">proxy_port</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004287">
                    
                    <a name="M004287"></a><b>read_timeout=</b>(sec)
                    
                </div>
                
                <div class="description">
                  <p>
Setter for the <a href="HTTP.html#read_timeout">read_timeout</a> attribute.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004287_source')" id="l_M004287_source">show</a>
                        
                    </p>
                    <div id="M004287_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 568</span>
568:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_timeout=</span>(<span class="ruby-identifier">sec</span>)
569:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>
570:       <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-identifier">sec</span>
571:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004419">
                    
                    <a name="M004419"></a><b>request</b>(req, body = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends an <a href="HTTPRequest.html">HTTPRequest</a> object REQUEST to the
<a href="HTTP.html">HTTP</a> server. This method also sends DATA string if
REQUEST is a post/put request. Giving DATA for get/head request causes <a
href="../ArgumentError.html">ArgumentError</a>.
</p>
<p>
When called with a block, yields an <a
href="HTTPResponse.html">HTTPResponse</a> object. The body of this response
will not have been read yet; the caller can process it using <a
href="HTTPResponse.html#M004503">HTTPResponse#read_body</a>, if desired.
</p>
<p>
Returns a <a href="HTTPResponse.html">HTTPResponse</a> object.
</p>
<p>
This method never raises Net::* exceptions.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004419_source')" id="l_M004419_source">show</a>
                        
                    </p>
                    <div id="M004419_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1158</span>
1158:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)  <span class="ruby-comment cmt"># :yield: +response+</span>
1159:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">started?</span>
1160:         <span class="ruby-identifier">start</span> {
1161:           <span class="ruby-identifier">req</span>[<span class="ruby-value str">'connection'</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">'close'</span>
1162:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1163:         }
1164:       <span class="ruby-keyword kw">end</span>
1165:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_user</span>()
1166:         <span class="ruby-identifier">req</span>.<span class="ruby-identifier">proxy_basic_auth</span> <span class="ruby-identifier">proxy_user</span>(), <span class="ruby-identifier">proxy_pass</span>() <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">use_ssl?</span>
1167:       <span class="ruby-keyword kw">end</span>
1168:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">set_body_internal</span> <span class="ruby-identifier">body</span>
1169:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1170:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
1171:         <span class="ruby-identifier">sspi_auth</span>(<span class="ruby-identifier">req</span>)
1172:         <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1173:       <span class="ruby-keyword kw">end</span>
1174:       <span class="ruby-identifier">res</span>
1175:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004411">
                    
                    <a name="M004411"></a><b>request_get</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a GET request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>
<p>
When called with a block, yields an <a
href="HTTPResponse.html">HTTPResponse</a> object. The body of this response
will not have been read yet; the caller can process it using <a
href="HTTPResponse.html#M004503">HTTPResponse#read_body</a>, if desired.
</p>
<p>
Returns the response.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
    response = http.request_get('/index.html')
    # The entity body is already read here.
    p response['content-type']
    puts response.body

    # using block
    http.request_get('/index.html') {|response|
      p response['content-type']
      response.read_body do |str|   # read body now
        print str
      end
    }
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004415">get2</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004411_source')" id="l_M004411_source">show</a>
                        
                    </p>
                    <div id="M004411_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1072</span>
1072:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +response+</span>
1073:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1074:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004412">
                    
                    <a name="M004412"></a><b>request_head</b>(path, initheader = nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a HEAD request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>
<p>
Returns the response.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
    response = http.request_head('/index.html')
    p response['content-type']
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004416">head2</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004412_source')" id="l_M004412_source">show</a>
                        
                    </p>
                    <div id="M004412_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1086</span>
1086:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1087:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1088:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004413">
                    
                    <a name="M004413"></a><b>request_post</b>(path, data, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a POST request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>
<p>
When called with a block, yields an <a
href="HTTPResponse.html">HTTPResponse</a> object. The body of this response
will not have been read yet; the caller can process it using <a
href="HTTPResponse.html#M004503">HTTPResponse#read_body</a>, if desired.
</p>
<p>
Returns the response.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
    # example
    response = http.request_post('/cgi-bin/nice.rb', 'datadatadata...')
    p response.status
    puts response.body          # body is already read

    # using block
    http.request_post('/cgi-bin/nice.rb', 'datadatadata...') {|response|
      p response.status
      p response['content-type']
      response.read_body do |str|   # read body now
        print str
      end
    }
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004417">post2</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004413_source')" id="l_M004413_source">show</a>
                        
                    </p>
                    <div id="M004413_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1116</span>
1116:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +response+</span>
1117:       <span class="ruby-identifier">request</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1118:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004418">
                    
                    <a name="M004418"></a><b>send_request</b>(name, path, data = nil, header = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends an <a href="HTTP.html">HTTP</a> request to the <a
href="HTTP.html">HTTP</a> server. This method also sends DATA string if
DATA is given.
</p>
<p>
Returns a <a href="HTTPResponse.html">HTTPResponse</a> object.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
   response = http.send_request('GET', '/index.html')
   puts response.body
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004418_source')" id="l_M004418_source">show</a>
                        
                    </p>
                    <div id="M004418_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1140</span>
1140:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_request</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">header</span> = <span class="ruby-keyword kw">nil</span>)
1141:       <span class="ruby-identifier">r</span> = <span class="ruby-constant">HTTPGenericRequest</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>,(<span class="ruby-identifier">data</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>),<span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">header</span>)
1142:       <span class="ruby-identifier">request</span> <span class="ruby-identifier">r</span>, <span class="ruby-identifier">data</span>
1143:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004286">
                    
                    <a name="M004286"></a><b>set_debug_output</b>(output)
                    
                </div>
                
                <div class="description">
                  <p>
<b>WARNING</b> This method causes serious security hole. Never use this
method in production code.
</p>
<p>
<a href="../Set.html">Set</a> an output stream for debugging.
</p>
<pre>
  http = Net::HTTP.new
  http.set_debug_output $stderr
  http.start { .... }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004286_source')" id="l_M004286_source">show</a>
                        
                    </p>
                    <div id="M004286_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 546</span>
546:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_debug_output</span>(<span class="ruby-identifier">output</span>)
547:       <span class="ruby-identifier">warn</span> <span class="ruby-value str">'Net::HTTP#set_debug_output called after HTTP started'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">started?</span>
548:       <span class="ruby-ivar">@debug_output</span> = <span class="ruby-identifier">output</span>
549:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004293">
                    
                    <a name="M004293"></a><b>start</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Opens TCP connection and <a href="HTTP.html">HTTP</a> session.
</p>
<p>
When this method is called with block, gives a <a href="HTTP.html">HTTP</a>
object to the block and closes the TCP connection / <a
href="HTTP.html">HTTP</a> session after the block executed.
</p>
<p>
When called with a block, returns the return value of the block; otherwise,
returns self.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004293_source')" id="l_M004293_source">show</a>
                        
                    </p>
                    <div id="M004293_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 622</span>
622:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start</span>  <span class="ruby-comment cmt"># :yield: http</span>
623:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-value str">'HTTP session already opened'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@started</span>
624:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
625:         <span class="ruby-keyword kw">begin</span>
626:           <span class="ruby-identifier">do_start</span>
627:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>)
628:         <span class="ruby-keyword kw">ensure</span>
629:           <span class="ruby-identifier">do_finish</span>
630:         <span class="ruby-keyword kw">end</span>
631:       <span class="ruby-keyword kw">end</span>
632:       <span class="ruby-identifier">do_start</span>
633:       <span class="ruby-keyword kw">self</span>
634:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004288">
                    
                    <a name="M004288"></a><b>started?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns true if the <a href="HTTP.html">HTTP</a> session is started.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M004289">active?</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004288_source')" id="l_M004288_source">show</a>
                        
                    </p>
                    <div id="M004288_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 574</span>
574:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">started?</span>
575:       <span class="ruby-ivar">@started</span>
576:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004410">
                    
                    <a name="M004410"></a><b>trace</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a TRACE request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004410_source')" id="l_M004410_source">show</a>
                        
                    </p>
                    <div id="M004410_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1043</span>
1043:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">trace</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1044:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Trace</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1045:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004403">
                    
                    <a name="M004403"></a><b>unlock</b>(path, body, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a UNLOCK request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004403_source')" id="l_M004403_source">show</a>
                        
                    </p>
                    <div id="M004403_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1001</span>
1001:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unlock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1002:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Unlock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1003:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004291">
                    
                    <a name="M004291"></a><b>use_ssl=</b>(flag)
                    
                </div>
                
                <div class="description">
                  <p>
Turn on/off SSL. This flag must be set before starting session. If you
change use_ssl value after session started, a <a
href="HTTP.html">Net::HTTP</a> object raises <a
href="../IOError.html">IOError</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004291_source')" id="l_M004291_source">show</a>
                        
                    </p>
                    <div id="M004291_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 591</span>
591:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_ssl=</span>(<span class="ruby-identifier">flag</span>)
592:       <span class="ruby-identifier">flag</span> = (<span class="ruby-identifier">flag</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>)
593:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">started?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@use_ssl</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">flag</span>
594:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-value str">&quot;use_ssl value changed, but session already started&quot;</span>
595:       <span class="ruby-keyword kw">end</span>
596:       <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-identifier">flag</span>
597:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004290">
                    
                    <a name="M004290"></a><b>use_ssl?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns true if use SSL/TLS with <a href="HTTP.html">HTTP</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004290_source')" id="l_M004290_source">show</a>
                        
                    </p>
                    <div id="M004290_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 583</span>
583:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_ssl?</span>
584:       <span class="ruby-ivar">@use_ssl</span>
585:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M004427">
                    
                    <a name="M004427"></a><b>D</b>(msg)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004427_source')" id="l_M004427_source">show</a>
                        
                    </p>
                    <div id="M004427_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1270</span>
1270:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">D</span>(<span class="ruby-identifier">msg</span>)
1271:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@debug_output</span>
1272:       <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
1273:       <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\n&quot;</span>
1274:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004426">
                    
                    <a name="M004426"></a><b>addr_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
utils
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004426_source')" id="l_M004426_source">show</a>
                        
                    </p>
                    <div id="M004426_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1262</span>
1262:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">addr_port</span>
1263:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
1264:         <span class="ruby-identifier">address</span>() <span class="ruby-operator">+</span> (<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span> <span class="ruby-value">? </span><span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port()}&quot;</span>)
1265:       <span class="ruby-keyword kw">else</span>
1266:         <span class="ruby-identifier">address</span>() <span class="ruby-operator">+</span> (<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span> <span class="ruby-value">? </span><span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port()}&quot;</span>)
1267:       <span class="ruby-keyword kw">end</span>
1268:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004421">
                    
                    <a name="M004421"></a><b>begin_transport</b>(req)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004421_source')" id="l_M004421_source">show</a>
                        
                    </p>
                    <div id="M004421_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1196</span>
1196:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">begin_transport</span>(<span class="ruby-identifier">req</span>)
1197:       <span class="ruby-identifier">connect</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
1198:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
1199:         <span class="ruby-identifier">req</span>[<span class="ruby-value str">'connection'</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">'close'</span>
1200:       <span class="ruby-keyword kw">end</span>
1201:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">'host'</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">addr_port</span>()
1202:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004394">
                    
                    <a name="M004394"></a><b>conn_address</b>()
                    
                </div>
                
                <div class="description">
                  <p>
without proxy
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004394_source')" id="l_M004394_source">show</a>
                        
                    </p>
                    <div id="M004394_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 792</span>
792:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">conn_address</span>
793:       <span class="ruby-identifier">address</span>()
794:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004395">
                    
                    <a name="M004395"></a><b>conn_port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004395_source')" id="l_M004395_source">show</a>
                        
                    </p>
                    <div id="M004395_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 796</span>
796:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">conn_port</span>
797:       <span class="ruby-identifier">port</span>()
798:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004295">
                    
                    <a name="M004295"></a><b>connect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004295_source')" id="l_M004295_source">show</a>
                        
                    </p>
                    <div id="M004295_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 642</span>
642:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connect</span>
643:       <span class="ruby-constant">D</span> <span class="ruby-node">&quot;opening connection to #{conn_address()}...&quot;</span>
644:       <span class="ruby-identifier">s</span> = <span class="ruby-identifier">timeout</span>(<span class="ruby-ivar">@open_timeout</span>) { <span class="ruby-constant">TCPSocket</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">conn_address</span>(), <span class="ruby-identifier">conn_port</span>()) }
645:       <span class="ruby-constant">D</span> <span class="ruby-value str">&quot;opened&quot;</span>
646:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
647:         <span class="ruby-identifier">ssl_parameters</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
648:         <span class="ruby-identifier">iv_list</span> = <span class="ruby-identifier">instance_variables</span>
649:         <span class="ruby-constant">SSL_ATTRIBUTES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
650:           <span class="ruby-identifier">ivname</span> = <span class="ruby-node">&quot;@#{name}&quot;</span>.<span class="ruby-identifier">intern</span>
651:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">iv_list</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ivname</span>) <span class="ruby-keyword kw">and</span>
652:              <span class="ruby-identifier">value</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">ivname</span>)
653:             <span class="ruby-identifier">ssl_parameters</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
654:           <span class="ruby-keyword kw">end</span>
655:         <span class="ruby-keyword kw">end</span>
656:         <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLContext</span>.<span class="ruby-identifier">new</span>
657:         <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">set_params</span>(<span class="ruby-identifier">ssl_parameters</span>)
658:         <span class="ruby-identifier">s</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLSocket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-ivar">@ssl_context</span>)
659:         <span class="ruby-identifier">s</span>.<span class="ruby-identifier">sync_close</span> = <span class="ruby-keyword kw">true</span>
660:       <span class="ruby-keyword kw">end</span>
661:       <span class="ruby-ivar">@socket</span> = <span class="ruby-constant">BufferedIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)
662:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@read_timeout</span>
663:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">debug_output</span> = <span class="ruby-ivar">@debug_output</span>
664:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
665:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy?</span>
666:           <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'CONNECT %s:%s HTTP/%s'</span>,
667:                                     <span class="ruby-ivar">@address</span>, <span class="ruby-ivar">@port</span>, <span class="ruby-constant">HTTPVersion</span>)
668:           <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-node">&quot;Host: #{@address}:#{@port}&quot;</span>
669:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_user</span>
670:             <span class="ruby-identifier">credential</span> = [<span class="ruby-node">&quot;#{proxy_user}:#{proxy_pass}&quot;</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'m'</span>)
671:             <span class="ruby-identifier">credential</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-value str">&quot;\r\n&quot;</span>)
672:             <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-node">&quot;Proxy-Authorization: Basic #{credential}&quot;</span>
673:           <span class="ruby-keyword kw">end</span>
674:           <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-value str">''</span>
675:           <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>).<span class="ruby-identifier">value</span>
676:         <span class="ruby-keyword kw">end</span>
677:         <span class="ruby-identifier">s</span>.<span class="ruby-identifier">connect</span>
678:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">verify_mode</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_NONE</span>
679:           <span class="ruby-identifier">s</span>.<span class="ruby-identifier">post_connection_check</span>(<span class="ruby-ivar">@address</span>)
680:         <span class="ruby-keyword kw">end</span>
681:       <span class="ruby-keyword kw">end</span>
682:       <span class="ruby-identifier">on_connect</span>
683:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004376">
                    
                    <a name="M004376"></a><b>do_finish</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004376_source')" id="l_M004376_source">show</a>
                        
                    </p>
                    <div id="M004376_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 697</span>
697:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">do_finish</span>
698:       <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">false</span>
699:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
700:       <span class="ruby-ivar">@socket</span> = <span class="ruby-keyword kw">nil</span>
701:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004294">
                    
                    <a name="M004294"></a><b>do_start</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004294_source')" id="l_M004294_source">show</a>
                        
                    </p>
                    <div id="M004294_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 636</span>
636:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">do_start</span>
637:       <span class="ruby-identifier">connect</span>
638:       <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">true</span>
639:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004396">
                    
                    <a name="M004396"></a><b>edit_path</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004396_source')" id="l_M004396_source">show</a>
                        
                    </p>
                    <div id="M004396_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 800</span>
800:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_path</span>(<span class="ruby-identifier">path</span>)
801:       <span class="ruby-identifier">path</span>
802:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004422">
                    
                    <a name="M004422"></a><b>end_transport</b>(req, res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004422_source')" id="l_M004422_source">show</a>
                        
                    </p>
                    <div id="M004422_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1204</span>
1204:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_transport</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
1205:       <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">http_version</span>
1206:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
1207:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn socket closed'</span>
1208:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
1209:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn close'</span>
1210:         <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
1211:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
1212:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn keep-alive'</span>
1213:       <span class="ruby-keyword kw">else</span>
1214:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn close'</span>
1215:         <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
1216:       <span class="ruby-keyword kw">end</span>
1217:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004423">
                    
                    <a name="M004423"></a><b>keep_alive?</b>(req, res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004423_source')" id="l_M004423_source">show</a>
                        
                    </p>
                    <div id="M004423_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1219</span>
1219:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
1220:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">connection_close?</span>
1221:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@curr_http_version</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'1.0'</span>
1222:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_keep_alive?</span>
1223:       <span class="ruby-keyword kw">else</span>   <span class="ruby-comment cmt"># HTTP/1.1 or later</span>
1224:         <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_close?</span>
1225:       <span class="ruby-keyword kw">end</span>
1226:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004374">
                    
                    <a name="M004374"></a><b>on_connect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004374_source')" id="l_M004374_source">show</a>
                        
                    </p>
                    <div id="M004374_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 686</span>
686:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">on_connect</span>
687:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004425">
                    
                    <a name="M004425"></a><b>sspi_auth</b>(req)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004425_source')" id="l_M004425_source">show</a>
                        
                    </p>
                    <div id="M004425_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1243</span>
1243:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sspi_auth</span>(<span class="ruby-identifier">req</span>)
1244:       <span class="ruby-identifier">n</span> = <span class="ruby-constant">Win32</span><span class="ruby-operator">::</span><span class="ruby-constant">SSPI</span><span class="ruby-operator">::</span><span class="ruby-constant">NegotiateAuth</span>.<span class="ruby-identifier">new</span>
1245:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.get_initial_token}&quot;</span>
1246:       <span class="ruby-comment cmt"># Some versions of ISA will close the connection if this isn't present.</span>
1247:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Connection&quot;</span>] = <span class="ruby-value str">&quot;Keep-Alive&quot;</span>
1248:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Proxy-Connection&quot;</span>] = <span class="ruby-value str">&quot;Keep-Alive&quot;</span>
1249:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>)
1250:       <span class="ruby-identifier">authphrase</span> = <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;Proxy-Authenticate&quot;</span>]  <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
1251:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.complete_authentication(authphrase)}&quot;</span>
1252:     <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
1253:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">HTTPAuthenticationError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'HTTP authentication failed'</span>, <span class="ruby-identifier">err</span>)
1254:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004424">
                    
                    <a name="M004424"></a><b>sspi_auth?</b>(res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004424_source')" id="l_M004424_source">show</a>
                        
                    </p>
                    <div id="M004424_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1228</span>
1228:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
1229:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@sspi_enabled</span>
1230:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPProxyAuthenticationRequired</span>) <span class="ruby-keyword kw">and</span>
1231:           <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;Proxy-Authenticate&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;Negotiate&quot;</span>)
1232:         <span class="ruby-keyword kw">begin</span>
1233:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'win32/sspi'</span>
1234:           <span class="ruby-keyword kw">true</span>
1235:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
1236:           <span class="ruby-keyword kw">false</span>
1237:         <span class="ruby-keyword kw">end</span>
1238:       <span class="ruby-keyword kw">else</span>
1239:         <span class="ruby-keyword kw">false</span>
1240:       <span class="ruby-keyword kw">end</span>
1241:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004420">
                    
                    <a name="M004420"></a><b>transport_request</b>(req)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004420_source')" id="l_M004420_source">show</a>
                        
                    </p>
                    <div id="M004420_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1179</span>
1179:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>)
1180:       <span class="ruby-identifier">begin_transport</span> <span class="ruby-identifier">req</span>
1181:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">exec</span> <span class="ruby-ivar">@socket</span>, <span class="ruby-ivar">@curr_http_version</span>, <span class="ruby-identifier">edit_path</span>(<span class="ruby-identifier">req</span>.<span class="ruby-identifier">path</span>)
1182:       <span class="ruby-keyword kw">begin</span>
1183:         <span class="ruby-identifier">res</span> = <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>)
1184:       <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPContinue</span>)
1185:       <span class="ruby-identifier">res</span>.<span class="ruby-identifier">reading_body</span>(<span class="ruby-ivar">@socket</span>, <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span>) {
1186:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">res</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1187:       }
1188:       <span class="ruby-identifier">end_transport</span> <span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>
1189:       <span class="ruby-identifier">res</span>
1190:     <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
1191:       <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of error #{exception}&quot;</span>
1192:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
1193:       <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
1194:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    