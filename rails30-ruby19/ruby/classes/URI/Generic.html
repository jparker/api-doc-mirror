<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>URI::Generic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            URI::Generic 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/uri/generic_rb.html">lib/uri/generic.rb</a></li>
            
            <li><a href="../../files/lib/open-uri_rb.html">lib/open-uri.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Base class for all <a href="../URI.html">URI</a> classes. Implements
generic <a href="../URI.html">URI</a> syntax as per RFC 2396.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M004017">+</a>,</li>
                
                <li><a href="#M004022">-</a>,</li>
                
                <li><a href="#M004028">==</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004011">absolute</a>,</li>
                
                <li><a href="#M004010">absolute?</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M003966">build</a>,</li>
                
                <li><a href="#M003965">build2</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004006">check_fragment</a>,</li>
                
                <li><a href="#M003988">check_host</a>,</li>
                
                <li><a href="#M004003">check_opaque</a>,</li>
                
                <li><a href="#M003976">check_password</a>,</li>
                
                <li><a href="#M003997">check_path</a>,</li>
                
                <li><a href="#M003991">check_port</a>,</li>
                
                <li><a href="#M004000">check_query</a>,</li>
                
                <li><a href="#M003994">check_registry</a>,</li>
                
                <li><a href="#M003971">check_scheme</a>,</li>
                
                <li><a href="#M003975">check_user</a>,</li>
                
                <li><a href="#M003974">check_userinfo</a>,</li>
                
                <li><a href="#M004034">coerce</a>,</li>
                
                <li><a href="#M003970">component</a>,</li>
                
                <li><a href="#M003963">component</a>,</li>
                
                <li><a href="#M004031">component_ary</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M003962">default_port</a>,</li>
                
                <li><a href="#M003961">default_port</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004030">eql?</a>,</li>
                
                <li><a href="#M003984">escape_userpass</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M005932">find_proxy</a>,</li>
                
                <li><a href="#M004008">fragment=</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M004029">hash</a>,</li>
                
                <li><a href="#M004009">hierarchical?</a>,</li>
                
                <li><a href="#M003990">host=</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M004033">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M004016">merge</a>,</li>
                
                <li><a href="#M004015">merge!</a>,</li>
                
                <li><a href="#M004018">merge0</a>,</li>
                
                <li><a href="#M004014">merge_path</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003967">new</a>,</li>
                
                <li><a href="#M004024">normalize</a>,</li>
                
                <li><a href="#M004025">normalize!</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M004005">opaque=</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003968">parser</a>,</li>
                
                <li><a href="#M003987">password</a>,</li>
                
                <li><a href="#M003979">password=</a>,</li>
                
                <li><a href="#M003999">path=</a>,</li>
                
                <li><a href="#M004026">path_query</a>,</li>
                
                <li><a href="#M003993">port=</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M004002">query=</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M003996">registry=</a>,</li>
                
                <li><a href="#M004012">relative?</a>,</li>
                
                <li><a href="#M003969">replace!</a>,</li>
                
                <li><a href="#M004021">route_from</a>,</li>
                
                <li><a href="#M004020">route_from0</a>,</li>
                
                <li><a href="#M004019">route_from_path</a>,</li>
                
                <li><a href="#M004023">route_to</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M003973">scheme=</a>,</li>
                
                <li><a href="#M004032">select</a>,</li>
                
                <li><a href="#M004007">set_fragment</a>,</li>
                
                <li><a href="#M003989">set_host</a>,</li>
                
                <li><a href="#M004004">set_opaque</a>,</li>
                
                <li><a href="#M003982">set_password</a>,</li>
                
                <li><a href="#M003998">set_path</a>,</li>
                
                <li><a href="#M003992">set_port</a>,</li>
                
                <li><a href="#M004001">set_query</a>,</li>
                
                <li><a href="#M003995">set_registry</a>,</li>
                
                <li><a href="#M003972">set_scheme</a>,</li>
                
                <li><a href="#M003981">set_user</a>,</li>
                
                <li><a href="#M003980">set_userinfo</a>,</li>
                
                <li><a href="#M004013">split_path</a>,</li>
                
                <li><a href="#M003983">split_userinfo</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M004027">to_s</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M003964">use_registry</a>,</li>
                
                <li><a href="#M003986">user</a>,</li>
                
                <li><a href="#M003978">user=</a>,</li>
                
                <li><a href="#M003985">userinfo</a>,</li>
                
                <li><a href="#M003977">userinfo=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../Kernel.html">Kernel</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DEFAULT_PORT</td>
            <td>=</td>
            <td class="attr-value">nil</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">COMPONENT</td>
            <td>=</td>
            <td class="attr-value">[       :scheme,       :userinfo, :host, :port, :registry,       :path, :opaque,       :query,       :fragment     ].freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">USE_REGISTRY</td>
            <td>=</td>
            <td class="attr-value">false</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>scheme</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>host</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>registry</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>path</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>query</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>opaque</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>fragment</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M003966">
                    
                    <a name="M003966"></a><b>build</b>(args)
                    
                </div>
                
                <div class="description">
                  <h2>Synopsis</h2>
<p>
See <a href="Generic.html#M003967">new</a>
</p>
<h2>Description</h2>
<p>
Creates a new <a href="Generic.html">URI::Generic</a> instance from
components of <a href="Generic.html">URI::Generic</a> with check.
Components are: scheme, userinfo, host, port, registry, path, opaque, query
and fragment. You can provide arguments either by an <a
href="../Array.html">Array</a> or a <a href="../Hash.html">Hash</a>. See <a
href="Generic.html#M003967">new</a> for hash keys to use or for order of
array items.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003966_source')" id="l_M003966_source">show</a>
                        
                    </p>
                    <div id="M003966_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 107</span>
107:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
108:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">&amp;&amp;</span>
109:           <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">size</span>
110:         <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">args</span>
111:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
112:         <span class="ruby-identifier">tmp</span> = <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
113:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
114:             <span class="ruby-identifier">args</span>[<span class="ruby-identifier">c</span>]
115:           <span class="ruby-keyword kw">else</span>
116:             <span class="ruby-keyword kw">nil</span>
117:           <span class="ruby-keyword kw">end</span>
118:         <span class="ruby-keyword kw">end</span>
119:       <span class="ruby-keyword kw">else</span>
120:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
121:         <span class="ruby-node">&quot;expected Array of or Hash of components of #{self.class} (#{self.class.component.join(', ')})&quot;</span>
122:       <span class="ruby-keyword kw">end</span>
123: 
124:       <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">nil</span>
125:       <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">true</span>
126:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tmp</span>)
127:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003965">
                    
                    <a name="M003965"></a><b>build2</b>(args)
                    
                </div>
                
                <div class="description">
                  <h2>Synopsis</h2>
<p>
See <a href="Generic.html#M003967">new</a>
</p>
<h2>Description</h2>
<p>
At first, tries to create a new <a href="Generic.html">URI::Generic</a>
instance using URI::Generic::build. But, if exception <a
href="InvalidComponentError.html">URI::InvalidComponentError</a> is raised,
then it <a href="Escape.html#M003916">URI::Escape.escape</a> all <a
href="../URI.html">URI</a> components and tries again.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003965_source')" id="l_M003965_source">show</a>
                        
                    </p>
                    <div id="M003965_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build2</span>(<span class="ruby-identifier">args</span>)
70:       <span class="ruby-keyword kw">begin</span>
71:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
72:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">InvalidComponentError</span>
73:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
74:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
75:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span>
76:               <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">x</span>)
77:             <span class="ruby-keyword kw">else</span>
78:               <span class="ruby-identifier">x</span>
79:             <span class="ruby-keyword kw">end</span>
80:           })
81:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
82:           <span class="ruby-identifier">tmp</span> = {}
83:           <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
84:             <span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>
85:                 <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">value</span>)
86:               <span class="ruby-keyword kw">else</span>
87:                 <span class="ruby-identifier">value</span>
88:               <span class="ruby-keyword kw">end</span>
89:           <span class="ruby-keyword kw">end</span>
90:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">tmp</span>)
91:         <span class="ruby-keyword kw">end</span>
92:       <span class="ruby-keyword kw">end</span>
93:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003963">
                    
                    <a name="M003963"></a><b>component</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Components of the <a href="../URI.html">URI</a> in the order.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003963_source')" id="l_M003963_source">show</a>
                        
                    </p>
                    <div id="M003963_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 44</span>
44:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">component</span>
45:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
46:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003961">
                    
                    <a name="M003961"></a><b>default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns default port
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003961_source')" id="l_M003961_source">show</a>
                        
                    </p>
                    <div id="M003961_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 25</span>
25:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span>
26:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PORT</span>
27:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003967">
                    
                    <a name="M003967"></a><b>new</b>(scheme, userinfo, host, port, registry, path, opaque, query, fragment, parser = DEFAULT_PARSER, arg_check = false)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>scheme</tt>:</td><td>Protocol scheme, i.e.
&#8216;http&#8217;,&#8217;ftp&#8217;,&#8217;mailto&#8217; and so on.

</td></tr>
<tr><td valign="top"><tt>userinfo</tt>:</td><td>User name and password, i.e. &#8216;sdmitry:bla&#8217;

</td></tr>
<tr><td valign="top"><tt>host</tt>:</td><td>Server host name

</td></tr>
<tr><td valign="top"><tt>port</tt>:</td><td>Server port

</td></tr>
<tr><td valign="top"><tt>registry</tt>:</td><td>DOC: FIXME!

</td></tr>
<tr><td valign="top"><tt>path</tt>:</td><td>Path on server

</td></tr>
<tr><td valign="top"><tt>opaque</tt>:</td><td>DOC: FIXME!

</td></tr>
<tr><td valign="top"><tt>query</tt>:</td><td>Query data

</td></tr>
<tr><td valign="top"><tt>fragment</tt>:</td><td><a href="../A.html">A</a> part of <a href="../URI.html">URI</a> after
&#8217;#&#8217; sign

</td></tr>
<tr><td valign="top"><tt>parser</tt>:</td><td><a href="Parser.html">Parser</a> for internal use [URI::DEFAULT_PARSER by
default]

</td></tr>
<tr><td valign="top"><tt>arg_check</tt>:</td><td>Check arguments [false by default]

</td></tr>
</table>
<h2>Description</h2>
<p>
Creates a new <a href="Generic.html">URI::Generic</a> instance from
``generic&#8217;&#8217; components without check.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003967_source')" id="l_M003967_source">show</a>
                        
                    </p>
                    <div id="M003967_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 158</span>
158:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">scheme</span>,
159:                    <span class="ruby-identifier">userinfo</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">registry</span>,
160:                    <span class="ruby-identifier">path</span>, <span class="ruby-identifier">opaque</span>,
161:                    <span class="ruby-identifier">query</span>,
162:                    <span class="ruby-identifier">fragment</span>,
163:                    <span class="ruby-identifier">parser</span> = <span class="ruby-constant">DEFAULT_PARSER</span>,
164:                    <span class="ruby-identifier">arg_check</span> = <span class="ruby-keyword kw">false</span>)
165:       <span class="ruby-ivar">@scheme</span> = <span class="ruby-keyword kw">nil</span>
166:       <span class="ruby-ivar">@user</span> = <span class="ruby-keyword kw">nil</span>
167:       <span class="ruby-ivar">@password</span> = <span class="ruby-keyword kw">nil</span>
168:       <span class="ruby-ivar">@host</span> = <span class="ruby-keyword kw">nil</span>
169:       <span class="ruby-ivar">@port</span> = <span class="ruby-keyword kw">nil</span>
170:       <span class="ruby-ivar">@path</span> = <span class="ruby-keyword kw">nil</span>
171:       <span class="ruby-ivar">@query</span> = <span class="ruby-keyword kw">nil</span>
172:       <span class="ruby-ivar">@opaque</span> = <span class="ruby-keyword kw">nil</span>
173:       <span class="ruby-ivar">@registry</span> = <span class="ruby-keyword kw">nil</span>
174:       <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword kw">nil</span>
175:       <span class="ruby-ivar">@parser</span> = <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DEFAULT_PARSER</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">parser</span>
176: 
177:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg_check</span>
178:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">scheme</span>
179:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span> = <span class="ruby-identifier">userinfo</span>
180:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span> = <span class="ruby-identifier">host</span>
181:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">port</span> = <span class="ruby-identifier">port</span>
182:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>
183:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
184:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">opaque</span> = <span class="ruby-identifier">opaque</span>
185:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">registry</span> = <span class="ruby-identifier">registry</span>
186:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">fragment</span>
187:       <span class="ruby-keyword kw">else</span>
188:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">scheme</span>)
189:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">userinfo</span>)
190:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">host</span>)
191:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">port</span>)
192:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">path</span>)
193:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">query</span>)
194:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">opaque</span>)
195:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_registry</span>(<span class="ruby-identifier">registry</span>)
196:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">fragment</span>)
197:       <span class="ruby-keyword kw">end</span>
198:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">use_registry</span>
199:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
200:           <span class="ruby-node">&quot;the scheme #{@scheme} does not accept registry part: #{@registry} (or bad hostname?)&quot;</span>
201:       <span class="ruby-keyword kw">end</span>
202: 
203:       <span class="ruby-ivar">@scheme</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
204:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@opaque</span> <span class="ruby-comment cmt"># (see RFC2396 Section 5.2)</span>
205:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@port</span>
206:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003964">
                    
                    <a name="M003964"></a><b>use_registry</b>()
                    
                </div>
                
                <div class="description">
                  <p>
DOC: FIXME!
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003964_source')" id="l_M003964_source">show</a>
                        
                    </p>
                    <div id="M003964_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 53</span>
53:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">use_registry</span>
54:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">USE_REGISTRY</span>
55:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004017">
                    
                    <a name="M004017"></a><b>+</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Generic.html#M004016">merge</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004022">
                    
                    <a name="M004022"></a><b>-</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Generic.html#M004021">route_from</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004028">
                    
                    <a name="M004028"></a><b>==</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
Compares to URI&#8217;s
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004028_source')" id="l_M004028_source">show</a>
                        
                    </p>
                    <div id="M004028_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1061</span>
1061:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">oth</span>)
1062:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
1063:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span>
1064:       <span class="ruby-keyword kw">else</span>
1065:         <span class="ruby-keyword kw">false</span>
1066:       <span class="ruby-keyword kw">end</span>
1067:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004011">
                    
                    <a name="M004011"></a><b>absolute</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Generic.html#M004010">absolute?</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004010">
                    
                    <a name="M004010"></a><b>absolute?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Checks if <a href="../URI.html">URI</a> is an absolute one
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Generic.html#M004011">absolute</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004010_source')" id="l_M004010_source">show</a>
                        
                    </p>
                    <div id="M004010_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 611</span>
611:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">absolute?</span>
612:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
613:         <span class="ruby-keyword kw">true</span>
614:       <span class="ruby-keyword kw">else</span>
615:         <span class="ruby-keyword kw">false</span>
616:       <span class="ruby-keyword kw">end</span>
617:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004034">
                    
                    <a name="M004034"></a><b>coerce</b>(oth)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004034_source')" id="l_M004034_source">show</a>
                        
                    </p>
                    <div id="M004034_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1130</span>
1130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">oth</span>)
1131:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
1132:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
1133:         <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
1134:       <span class="ruby-keyword kw">else</span>
1135:         <span class="ruby-keyword kw">super</span>
1136:       <span class="ruby-keyword kw">end</span>
1137: 
1138:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-keyword kw">self</span>
1139:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003970">
                    
                    <a name="M003970"></a><b>component</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003970_source')" id="l_M003970_source">show</a>
                        
                    </p>
                    <div id="M003970_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 236</span>
236:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">component</span>
237:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span>
238:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003962">
                    
                    <a name="M003962"></a><b>default_port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003962_source')" id="l_M003962_source">show</a>
                        
                    </p>
                    <div id="M003962_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 29</span>
29:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_port</span>
30:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_port</span>
31:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004030">
                    
                    <a name="M004030"></a><b>eql?</b>(oth)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004030_source')" id="l_M004030_source">show</a>
                        
                    </p>
                    <div id="M004030_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1073</span>
1073:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>)
1074:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">&amp;&amp;</span>
1075:       <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">parser</span> <span class="ruby-operator">&amp;&amp;</span>
1076:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">component_ary</span>)
1077:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005932">
                    
                    <a name="M005932"></a><b>find_proxy</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns a proxy <a href="../URI.html">URI</a>. The proxy <a
href="../URI.html">URI</a> is obtained from environment variables such as
http_proxy, ftp_proxy, no_proxy, etc. If there is no proper proxy, nil is
returned.
</p>
<p>
Note that capitalized variables (HTTP_PROXY, FTP_PROXY, NO_PROXY, etc.) are
examined too.
</p>
<p>
But http_proxy and HTTP_PROXY is treated specially under <a
href="../CGI.html">CGI</a> environment. It&#8217;s because HTTP_PROXY may
be set by Proxy: header. So HTTP_PROXY is not used. http_proxy is not used
too if the variable is case insensitive. CGI_HTTP_PROXY can be used
instead.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005932_source')" id="l_M005932_source">show</a>
                        
                    </p>
                    <div id="M005932_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/open-uri.rb, line 703</span>
703:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_proxy</span>
704:       <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'_proxy'</span>
705:       <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
706:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'REQUEST_METHOD'</span>) <span class="ruby-comment cmt"># CGI?</span>
707:         <span class="ruby-comment cmt"># HTTP_PROXY conflicts with *_proxy for proxy settings and</span>
708:         <span class="ruby-comment cmt"># HTTP_* for header information in CGI.</span>
709:         <span class="ruby-comment cmt"># So it should be careful to use it.</span>
710:         <span class="ruby-identifier">pairs</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-regexp re">/\Ahttp_proxy\z/i</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">k</span> }
711:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">length</span>
712:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span> <span class="ruby-comment cmt"># no proxy setting anyway.</span>
713:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
714:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span>
715:           <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> = <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">shift</span>
716:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
717:             <span class="ruby-comment cmt"># http_proxy is safe to use because ENV is case sensitive.</span>
718:             <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>]
719:           <span class="ruby-keyword kw">else</span>
720:             <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
721:           <span class="ruby-keyword kw">end</span>
722:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt"># http_proxy is safe to use because ENV is case sensitive.</span>
723:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span>[<span class="ruby-identifier">name</span>]
724:         <span class="ruby-keyword kw">end</span>
725:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">proxy_uri</span>
726:           <span class="ruby-comment cmt"># Use CGI_HTTP_PROXY.  cf. libwww-perl.</span>
727:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-node">&quot;CGI_#{name.upcase}&quot;</span>]
728:         <span class="ruby-keyword kw">end</span>
729:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'http_proxy'</span>
730:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>]
731:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
732:             <span class="ruby-identifier">warn</span> <span class="ruby-value str">'The environment variable HTTP_PROXY is discouraged.  Use http_proxy.'</span>
733:           <span class="ruby-keyword kw">end</span>
734:         <span class="ruby-keyword kw">end</span>
735:       <span class="ruby-keyword kw">else</span>
736:         <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
737:       <span class="ruby-keyword kw">end</span>
738: 
739:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_uri</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>
740:         <span class="ruby-identifier">require</span> <span class="ruby-value str">'socket'</span>
741:         <span class="ruby-keyword kw">begin</span>
742:           <span class="ruby-identifier">addr</span> = <span class="ruby-constant">IPSocket</span>.<span class="ruby-identifier">getaddress</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>)
743:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A127\.|\A::1\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">addr</span>
744:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">SocketError</span>
745:         <span class="ruby-keyword kw">end</span>
746:       <span class="ruby-keyword kw">end</span>
747: 
748:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_uri</span>
749:         <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">proxy_uri</span>)
750:         <span class="ruby-identifier">name</span> = <span class="ruby-value str">'no_proxy'</span>
751:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">no_proxy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
752:           <span class="ruby-identifier">no_proxy</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/([^:,]*)(?::(\d+))?/</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span><span class="ruby-operator">|</span>
753:             <span class="ruby-keyword kw">if</span> <span class="ruby-node">/(\A|\.)#{Regexp.quote host}\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span>
754:                (<span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">port</span>.<span class="ruby-identifier">to_i</span>)
755:               <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
756:               <span class="ruby-keyword kw">break</span>
757:             <span class="ruby-keyword kw">end</span>
758:           }
759:         <span class="ruby-keyword kw">end</span>
760:         <span class="ruby-identifier">proxy_uri</span>
761:       <span class="ruby-keyword kw">else</span>
762:         <span class="ruby-keyword kw">nil</span>
763:       <span class="ruby-keyword kw">end</span>
764:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004008">
                    
                    <a name="M004008"></a><b>fragment=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004008_source')" id="l_M004008_source">show</a>
                        
                    </p>
                    <div id="M004008_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 591</span>
591:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fragment=</span>(<span class="ruby-identifier">v</span>)
592:       <span class="ruby-identifier">check_fragment</span>(<span class="ruby-identifier">v</span>)
593:       <span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">v</span>)
594:       <span class="ruby-identifier">v</span>
595:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004029">
                    
                    <a name="M004029"></a><b>hash</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004029_source')" id="l_M004029_source">show</a>
                        
                    </p>
                    <div id="M004029_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1069</span>
1069:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
1070:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">hash</span>
1071:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004009">
                    
                    <a name="M004009"></a><b>hierarchical?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Checks if <a href="../URI.html">URI</a> has a path
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004009_source')" id="l_M004009_source">show</a>
                        
                    </p>
                    <div id="M004009_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 600</span>
600:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hierarchical?</span>
601:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@path</span>
602:         <span class="ruby-keyword kw">true</span>
603:       <span class="ruby-keyword kw">else</span>
604:         <span class="ruby-keyword kw">false</span>
605:       <span class="ruby-keyword kw">end</span>
606:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003990">
                    
                    <a name="M003990"></a><b>host=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003990_source')" id="l_M003990_source">show</a>
                        
                    </p>
                    <div id="M003990_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 408</span>
408:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">host=</span>(<span class="ruby-identifier">v</span>)
409:       <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
410:       <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
411:       <span class="ruby-identifier">v</span>
412:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004033">
                    
                    <a name="M004033"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004033_source')" id="l_M004033_source">show</a>
                        
                    </p>
                    <div id="M004033_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1126</span>
1126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
1127:       <span class="ruby-ivar">@@to_s</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">call</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/&gt;\z/</span>) {<span class="ruby-node">&quot; URL:#{self}&gt;&quot;</span>}
1128:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004016">
                    
                    <a name="M004016"></a><b>merge</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Merges two URI&#8217;s.
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse(&quot;http://my.example.com&quot;)
  p uri.merge(&quot;/main.rbx?page=1&quot;)
  # =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Generic.html#M004017">+</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004016_source')" id="l_M004016_source">show</a>
                        
                    </p>
                    <div id="M004016_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 742</span>
742:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
743:       <span class="ruby-keyword kw">begin</span>
744:         <span class="ruby-identifier">base</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">merge0</span>(<span class="ruby-identifier">oth</span>)
745:       <span class="ruby-keyword kw">rescue</span>
746:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
747:       <span class="ruby-keyword kw">end</span>
748: 
749:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
750:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base</span>
751:       <span class="ruby-keyword kw">end</span>
752: 
753:       <span class="ruby-identifier">authority</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
754: 
755:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 2)</span>
756:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
757:         <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
758:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base</span>
759:       <span class="ruby-keyword kw">end</span>
760: 
761:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-keyword kw">nil</span>)
762:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-keyword kw">nil</span>)
763: 
764:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 4)</span>
765:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span>
766:         <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
767:       <span class="ruby-keyword kw">else</span>
768:         <span class="ruby-comment cmt"># RFC2396, Section 5.2, 4)</span>
769:         <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
770:       <span class="ruby-keyword kw">end</span>
771: 
772:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 7)</span>
773:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>
774:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>)         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>
775:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>)         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
776:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>)       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
777:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
778: 
779:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base</span>
780:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004015">
                    
                    <a name="M004015"></a><b>merge!</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Destructive form of <a href="Generic.html#M004016">merge</a>
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse(&quot;http://my.example.com&quot;)
  uri.merge!(&quot;/main.rbx?page=1&quot;)
  p uri
  # =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004015_source')" id="l_M004015_source">show</a>
                        
                    </p>
                    <div id="M004015_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 714</span>
714:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">oth</span>)
715:       <span class="ruby-identifier">t</span> = <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
716:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>
717:         <span class="ruby-keyword kw">nil</span>
718:       <span class="ruby-keyword kw">else</span>
719:         <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">t</span>)
720:         <span class="ruby-keyword kw">self</span>
721:       <span class="ruby-keyword kw">end</span>
722:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004024">
                    
                    <a name="M004024"></a><b>normalize</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns normalized <a href="../URI.html">URI</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004024_source')" id="l_M004024_source">show</a>
                        
                    </p>
                    <div id="M004024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 984</span>
984:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize</span>
985:       <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">dup</span>
986:       <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">normalize!</span>
987:       <span class="ruby-identifier">uri</span>
988:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004025">
                    
                    <a name="M004025"></a><b>normalize!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Destructive version of <a href="Generic.html#M004024">normalize</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004025_source')" id="l_M004025_source">show</a>
                        
                    </p>
                    <div id="M004025_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 993</span>
 993:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize!</span>
 994:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
 995:         <span class="ruby-identifier">set_path</span>(<span class="ruby-value str">'/'</span>)
 996:       <span class="ruby-keyword kw">end</span>
 997:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>
 998:         <span class="ruby-identifier">set_scheme</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>)
 999:       <span class="ruby-keyword kw">end</span>
1000:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>
1001:         <span class="ruby-identifier">set_host</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>)
1002:       <span class="ruby-keyword kw">end</span>
1003:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004005">
                    
                    <a name="M004005"></a><b>opaque=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004005_source')" id="l_M004005_source">show</a>
                        
                    </p>
                    <div id="M004005_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 568</span>
568:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opaque=</span>(<span class="ruby-identifier">v</span>)
569:       <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
570:       <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
571:       <span class="ruby-identifier">v</span>
572:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003968">
                    
                    <a name="M003968"></a><b>parser</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003968_source')" id="l_M003968_source">show</a>
                        
                    </p>
                    <div id="M003968_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 216</span>
216:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parser</span>
217:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@parser</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@parser</span>
218:         <span class="ruby-constant">DEFAULT_PARSER</span>
219:       <span class="ruby-keyword kw">else</span>
220:         <span class="ruby-ivar">@parser</span> <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_PARSER</span>
221:       <span class="ruby-keyword kw">end</span>
222:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003987">
                    
                    <a name="M003987"></a><b>password</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003987_source')" id="l_M003987_source">show</a>
                        
                    </p>
                    <div id="M003987_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 384</span>
384:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password</span>
385:       <span class="ruby-ivar">@password</span>
386:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003979">
                    
                    <a name="M003979"></a><b>password=</b>(password)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003979_source')" id="l_M003979_source">show</a>
                        
                    </p>
                    <div id="M003979_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 328</span>
328:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password=</span>(<span class="ruby-identifier">password</span>)
329:       <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>)
330:       <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">password</span>)
331:       <span class="ruby-comment cmt"># returns password</span>
332:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003999">
                    
                    <a name="M003999"></a><b>path=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003999_source')" id="l_M003999_source">show</a>
                        
                    </p>
                    <div id="M003999_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 508</span>
508:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path=</span>(<span class="ruby-identifier">v</span>)
509:       <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
510:       <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
511:       <span class="ruby-identifier">v</span>
512:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003993">
                    
                    <a name="M003993"></a><b>port=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003993_source')" id="l_M003993_source">show</a>
                        
                    </p>
                    <div id="M003993_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 441</span>
441:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">port=</span>(<span class="ruby-identifier">v</span>)
442:       <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
443:       <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
444:       <span class="ruby-identifier">port</span>
445:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004002">
                    
                    <a name="M004002"></a><b>query=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004002_source')" id="l_M004002_source">show</a>
                        
                    </p>
                    <div id="M004002_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 539</span>
539:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query=</span>(<span class="ruby-identifier">v</span>)
540:       <span class="ruby-identifier">check_query</span>(<span class="ruby-identifier">v</span>)
541:       <span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">v</span>)
542:       <span class="ruby-identifier">v</span>
543:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003996">
                    
                    <a name="M003996"></a><b>registry=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003996_source')" id="l_M003996_source">show</a>
                        
                    </p>
                    <div id="M003996_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 470</span>
470:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">registry=</span>(<span class="ruby-identifier">v</span>)
471:       <span class="ruby-identifier">check_registry</span>(<span class="ruby-identifier">v</span>)
472:       <span class="ruby-identifier">set_registry</span>(<span class="ruby-identifier">v</span>)
473:       <span class="ruby-identifier">v</span>
474:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004012">
                    
                    <a name="M004012"></a><b>relative?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Checks if <a href="../URI.html">URI</a> is relative
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004012_source')" id="l_M004012_source">show</a>
                        
                    </p>
                    <div id="M004012_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 623</span>
623:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">relative?</span>
624:       <span class="ruby-operator">!</span><span class="ruby-identifier">absolute?</span>
625:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004021">
                    
                    <a name="M004021"></a><b>route_from</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Calculates relative path from oth to self
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse('http://my.example.com/main.rbx?page=1')
  p uri.route_from('http://my.example.com')
  #=&gt; #&lt;URI::Generic:0x20218858 URL:/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Generic.html#M004022">-</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004021_source')" id="l_M004021_source">show</a>
                        
                    </p>
                    <div id="M004021_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 928</span>
928:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_from</span>(<span class="ruby-identifier">oth</span>)
929:       <span class="ruby-comment cmt"># you can modify `rel', but can not `oth'.</span>
930:       <span class="ruby-keyword kw">begin</span>
931:         <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
932:       <span class="ruby-keyword kw">rescue</span>
933:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
934:       <span class="ruby-keyword kw">end</span>
935:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">oth</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
936:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>
937:       <span class="ruby-keyword kw">end</span>
938: 
939:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>))
940:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'./'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query</span>
941:         <span class="ruby-comment cmt"># &quot;./?foo&quot; -&gt; &quot;?foo&quot;</span>
942:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-value str">''</span>)
943:       <span class="ruby-keyword kw">end</span>
944: 
945:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>
946:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004023">
                    
                    <a name="M004023"></a><b>route_to</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Calculates relative path to oth from self
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse('http://my.example.com')
  p uri.route_to('http://my.example.com/main.rbx?page=1')
  #=&gt; #&lt;URI::Generic:0x2020c2f6 URL:/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004023_source')" id="l_M004023_source">show</a>
                        
                    </p>
                    <div id="M004023_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 968</span>
968:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_to</span>(<span class="ruby-identifier">oth</span>)
969:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
970:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Generic</span>
971:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
972:         <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
973:       <span class="ruby-keyword kw">else</span>
974:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
975:           <span class="ruby-value str">&quot;bad argument(expected URI object or URI string)&quot;</span>
976:       <span class="ruby-keyword kw">end</span>
977: 
978:       <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">route_from</span>(<span class="ruby-keyword kw">self</span>)
979:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003973">
                    
                    <a name="M003973"></a><b>scheme=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003973_source')" id="l_M003973_source">show</a>
                        
                    </p>
                    <div id="M003973_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 255</span>
255:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scheme=</span>(<span class="ruby-identifier">v</span>)
256:       <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
257:       <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
258:       <span class="ruby-identifier">v</span>
259:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004032">
                    
                    <a name="M004032"></a><b>select</b>(*components)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>components</tt>:</td><td>Multiple <a href="../Symbol.html">Symbol</a> arguments defined in <a
href="HTTP.html">URI::HTTP</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Selects specified components from <a href="../URI.html">URI</a>
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse('http://myuser:mypass@my.example.com/test.rbx')
  p uri.select(:userinfo, :host, :path)
  # =&gt; [&quot;myuser:mypass&quot;, &quot;my.example.com&quot;, &quot;/test.rbx&quot;]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004032_source')" id="l_M004032_source">show</a>
                        
                    </p>
                    <div id="M004032_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1114</span>
1114:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">components</span>)
1115:       <span class="ruby-identifier">components</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
1116:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">component</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
1117:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">c</span>)
1118:         <span class="ruby-keyword kw">else</span>
1119:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
1120:             <span class="ruby-node">&quot;expected of components of #{self.class} (#{self.class.component.join(', ')})&quot;</span>
1121:         <span class="ruby-keyword kw">end</span>
1122:       <span class="ruby-keyword kw">end</span>
1123:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004027">
                    
                    <a name="M004027"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Constructs <a href="../String.html">String</a> from <a
href="../URI.html">URI</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004027_source')" id="l_M004027_source">show</a>
                        
                    </p>
                    <div id="M004027_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1017</span>
1017:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
1018:       <span class="ruby-identifier">str</span> = <span class="ruby-value str">''</span>
1019:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
1020:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@scheme</span>
1021:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">':'</span>
1022:       <span class="ruby-keyword kw">end</span>
1023: 
1024:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@opaque</span>
1025:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@opaque</span>
1026: 
1027:       <span class="ruby-keyword kw">else</span>
1028:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span>
1029:           <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@registry</span>
1030:         <span class="ruby-keyword kw">else</span>
1031:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span>
1032:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'//'</span>
1033:           <span class="ruby-keyword kw">end</span>
1034:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>
1035:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>
1036:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'@'</span>
1037:           <span class="ruby-keyword kw">end</span>
1038:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span>
1039:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@host</span>
1040:           <span class="ruby-keyword kw">end</span>
1041:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span>
1042:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">':'</span>
1043:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_s</span>
1044:           <span class="ruby-keyword kw">end</span>
1045:         <span class="ruby-keyword kw">end</span>
1046: 
1047:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">path_query</span>
1048:       <span class="ruby-keyword kw">end</span>
1049: 
1050:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@fragment</span>
1051:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'#'</span>
1052:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@fragment</span>
1053:       <span class="ruby-keyword kw">end</span>
1054: 
1055:       <span class="ruby-identifier">str</span>
1056:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003986">
                    
                    <a name="M003986"></a><b>user</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003986_source')" id="l_M003986_source">show</a>
                        
                    </p>
                    <div id="M003986_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 380</span>
380:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user</span>
381:       <span class="ruby-ivar">@user</span>
382:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003978">
                    
                    <a name="M003978"></a><b>user=</b>(user)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003978_source')" id="l_M003978_source">show</a>
                        
                    </p>
                    <div id="M003978_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 322</span>
322:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user=</span>(<span class="ruby-identifier">user</span>)
323:       <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
324:       <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">user</span>)
325:       <span class="ruby-comment cmt"># returns user</span>
326:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003985">
                    
                    <a name="M003985"></a><b>userinfo</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003985_source')" id="l_M003985_source">show</a>
                        
                    </p>
                    <div id="M003985_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 370</span>
370:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">userinfo</span>
371:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
372:         <span class="ruby-keyword kw">nil</span>
373:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@password</span>.<span class="ruby-identifier">nil?</span>
374:         <span class="ruby-ivar">@user</span>
375:       <span class="ruby-keyword kw">else</span>
376:         <span class="ruby-ivar">@user</span> <span class="ruby-operator">+</span> <span class="ruby-value str">':'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@password</span>
377:       <span class="ruby-keyword kw">end</span>
378:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003977">
                    
                    <a name="M003977"></a><b>userinfo=</b>(userinfo)
                    
                </div>
                
                <div class="description">
                  <p>
Sets userinfo, argument is string like &#8216;name:pass&#8217;
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003977_source')" id="l_M003977_source">show</a>
                        
                    </p>
                    <div id="M003977_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 313</span>
313:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">userinfo=</span>(<span class="ruby-identifier">userinfo</span>)
314:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span>
315:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
316:       <span class="ruby-keyword kw">end</span>
317:       <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
318:       <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
319:       <span class="ruby-comment cmt"># returns userinfo</span>
320:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M004031">
                    
                    <a name="M004031"></a><b>component_ary</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004031_source')" id="l_M004031_source">show</a>
                        
                    </p>
                    <div id="M004031_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1090</span>
1090:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">component_ary</span>
1091:       <span class="ruby-identifier">component</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
1092:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">x</span>)
1093:       <span class="ruby-keyword kw">end</span>
1094:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004007">
                    
                    <a name="M004007"></a><b>set_fragment</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004007_source')" id="l_M004007_source">show</a>
                        
                    </p>
                    <div id="M004007_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 586</span>
586:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">v</span>)
587:       <span class="ruby-ivar">@fragment</span> = <span class="ruby-identifier">v</span>
588:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003989">
                    
                    <a name="M003989"></a><b>set_host</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003989_source')" id="l_M003989_source">show</a>
                        
                    </p>
                    <div id="M003989_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 403</span>
403:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
404:       <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">v</span>
405:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004004">
                    
                    <a name="M004004"></a><b>set_opaque</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004004_source')" id="l_M004004_source">show</a>
                        
                    </p>
                    <div id="M004004_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 563</span>
563:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
564:       <span class="ruby-ivar">@opaque</span> = <span class="ruby-identifier">v</span>
565:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003982">
                    
                    <a name="M003982"></a><b>set_password</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003982_source')" id="l_M003982_source">show</a>
                        
                    </p>
                    <div id="M003982_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 351</span>
351:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">v</span>)
352:       <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">v</span>
353:       <span class="ruby-comment cmt"># returns v</span>
354:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003998">
                    
                    <a name="M003998"></a><b>set_path</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003998_source')" id="l_M003998_source">show</a>
                        
                    </p>
                    <div id="M003998_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 503</span>
503:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
504:       <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">v</span>
505:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003992">
                    
                    <a name="M003992"></a><b>set_port</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003992_source')" id="l_M003992_source">show</a>
                        
                    </p>
                    <div id="M003992_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 429</span>
429:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
430:       <span class="ruby-keyword kw">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Fixnum</span>)
431:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span>
432:           <span class="ruby-identifier">v</span> = <span class="ruby-keyword kw">nil</span>
433:         <span class="ruby-keyword kw">else</span>
434:           <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_i</span>
435:         <span class="ruby-keyword kw">end</span>
436:       <span class="ruby-keyword kw">end</span>
437:       <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">v</span>
438:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004001">
                    
                    <a name="M004001"></a><b>set_query</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004001_source')" id="l_M004001_source">show</a>
                        
                    </p>
                    <div id="M004001_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 534</span>
534:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">v</span>)
535:       <span class="ruby-ivar">@query</span> = <span class="ruby-identifier">v</span>
536:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003995">
                    
                    <a name="M003995"></a><b>set_registry</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003995_source')" id="l_M003995_source">show</a>
                        
                    </p>
                    <div id="M003995_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 465</span>
465:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_registry</span>(<span class="ruby-identifier">v</span>)
466:       <span class="ruby-ivar">@registry</span> = <span class="ruby-identifier">v</span>
467:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003972">
                    
                    <a name="M003972"></a><b>set_scheme</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003972_source')" id="l_M003972_source">show</a>
                        
                    </p>
                    <div id="M003972_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 250</span>
250:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
251:       <span class="ruby-ivar">@scheme</span> = <span class="ruby-identifier">v</span>
252:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003981">
                    
                    <a name="M003981"></a><b>set_user</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003981_source')" id="l_M003981_source">show</a>
                        
                    </p>
                    <div id="M003981_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 345</span>
345:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">v</span>)
346:       <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">v</span>, <span class="ruby-ivar">@password</span>)
347:       <span class="ruby-identifier">v</span>
348:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003980">
                    
                    <a name="M003980"></a><b>set_userinfo</b>(user, password = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003980_source')" id="l_M003980_source">show</a>
                        
                    </p>
                    <div id="M003980_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 334</span>
334:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword kw">nil</span>)
335:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">password</span>
336:         <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
337:       <span class="ruby-keyword kw">end</span>
338:       <span class="ruby-ivar">@user</span>     = <span class="ruby-identifier">user</span>
339:       <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">password</span>
340: 
341:       [<span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span>]
342:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M004006">
                    
                    <a name="M004006"></a><b>check_fragment</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004006_source')" id="l_M004006_source">show</a>
                        
                    </p>
                    <div id="M004006_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 574</span>
574:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_fragment</span>(<span class="ruby-identifier">v</span>)
575:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
576: 
577:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:FRAGMENT</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
578:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
579:           <span class="ruby-node">&quot;bad component(expected fragment component): #{v}&quot;</span>
580:       <span class="ruby-keyword kw">end</span>
581: 
582:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
583:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003988">
                    
                    <a name="M003988"></a><b>check_host</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003988_source')" id="l_M003988_source">show</a>
                        
                    </p>
                    <div id="M003988_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 388</span>
388:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
389:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
390: 
391:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
392:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
393:           <span class="ruby-value str">&quot;can not set host with registry or opaque&quot;</span>
394:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:HOST</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
395:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
396:           <span class="ruby-node">&quot;bad component(expected host component): #{v}&quot;</span>
397:       <span class="ruby-keyword kw">end</span>
398: 
399:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
400:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004003">
                    
                    <a name="M004003"></a><b>check_opaque</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004003_source')" id="l_M004003_source">show</a>
                        
                    </p>
                    <div id="M004003_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 545</span>
545:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
546:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
547: 
548:       <span class="ruby-comment cmt"># raise if both hier and opaque are not nil, because:</span>
549:       <span class="ruby-comment cmt"># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )</span>
550:       <span class="ruby-comment cmt"># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]</span>
551:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@user</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@path</span>  <span class="ruby-comment cmt"># userinfo = @user + ':' + @password</span>
552:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
553:           <span class="ruby-value str">&quot;can not set opaque with host, port, userinfo or path&quot;</span>
554:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:OPAQUE</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
555:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
556:           <span class="ruby-node">&quot;bad component(expected opaque component): #{v}&quot;</span>
557:       <span class="ruby-keyword kw">end</span>
558: 
559:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
560:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003976">
                    
                    <a name="M003976"></a><b>check_password</b>(v, user = @user)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003976_source')" id="l_M003976_source">show</a>
                        
                    </p>
                    <div id="M003976_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 289</span>
289:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">user</span> = <span class="ruby-ivar">@user</span>)
290:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
291:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
292:           <span class="ruby-value str">&quot;can not set password with registry or opaque&quot;</span>
293:       <span class="ruby-keyword kw">end</span>
294:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
295: 
296:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">user</span>
297:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
298:           <span class="ruby-value str">&quot;password component depends user component&quot;</span>
299:       <span class="ruby-keyword kw">end</span>
300: 
301:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:USERINFO</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
302:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
303:           <span class="ruby-node">&quot;bad component(expected user component): #{v}&quot;</span>
304:       <span class="ruby-keyword kw">end</span>
305: 
306:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
307:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003997">
                    
                    <a name="M003997"></a><b>check_path</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003997_source')" id="l_M003997_source">show</a>
                        
                    </p>
                    <div id="M003997_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 476</span>
476:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
477:       <span class="ruby-comment cmt"># raise if both hier and opaque are not nil, because:</span>
478:       <span class="ruby-comment cmt"># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )</span>
479:       <span class="ruby-comment cmt"># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]</span>
480:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@opaque</span>
481:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
482:           <span class="ruby-value str">&quot;path conflicts with opaque&quot;</span>
483:       <span class="ruby-keyword kw">end</span>
484: 
485:       <span class="ruby-comment cmt"># If scheme is ftp, path may be relative.</span>
486:       <span class="ruby-comment cmt"># See RFC 1738 section 3.2.2, and RFC 2396.</span>
487:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;ftp&quot;</span>
488:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:ABS_PATH</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
489:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
490:             <span class="ruby-node">&quot;bad component(expected absolute path component): #{v}&quot;</span>
491:         <span class="ruby-keyword kw">end</span>
492:       <span class="ruby-keyword kw">else</span>
493:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:ABS_PATH</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:REL_PATH</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
494:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
495:             <span class="ruby-node">&quot;bad component(expected relative path component): #{v}&quot;</span>
496:         <span class="ruby-keyword kw">end</span>
497:       <span class="ruby-keyword kw">end</span>
498: 
499:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
500:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003991">
                    
                    <a name="M003991"></a><b>check_port</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003991_source')" id="l_M003991_source">show</a>
                        
                    </p>
                    <div id="M003991_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 414</span>
414:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
415:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
416: 
417:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
418:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
419:           <span class="ruby-value str">&quot;can not set port with registry or opaque&quot;</span>
420:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Fixnum</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:PORT</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
421:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
422:           <span class="ruby-node">&quot;bad component(expected port component): #{v}&quot;</span>
423:       <span class="ruby-keyword kw">end</span>
424: 
425:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
426:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004000">
                    
                    <a name="M004000"></a><b>check_query</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004000_source')" id="l_M004000_source">show</a>
                        
                    </p>
                    <div id="M004000_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 514</span>
514:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_query</span>(<span class="ruby-identifier">v</span>)
515:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
516: 
517:       <span class="ruby-comment cmt"># raise if both hier and opaque are not nil, because:</span>
518:       <span class="ruby-comment cmt"># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )</span>
519:       <span class="ruby-comment cmt"># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]</span>
520:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@opaque</span>
521:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
522:           <span class="ruby-value str">&quot;query conflicts with opaque&quot;</span>
523:       <span class="ruby-keyword kw">end</span>
524: 
525:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:QUERY</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
526:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
527:             <span class="ruby-node">&quot;bad component(expected query component): #{v}&quot;</span>
528:       <span class="ruby-keyword kw">end</span>
529: 
530:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
531:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003994">
                    
                    <a name="M003994"></a><b>check_registry</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003994_source')" id="l_M003994_source">show</a>
                        
                    </p>
                    <div id="M003994_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 447</span>
447:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_registry</span>(<span class="ruby-identifier">v</span>)
448:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
449: 
450:       <span class="ruby-comment cmt"># raise if both server and registry are not nil, because:</span>
451:       <span class="ruby-comment cmt"># authority     = server | reg_name</span>
452:       <span class="ruby-comment cmt"># server        = [ [ userinfo &quot;@&quot; ] hostport ]</span>
453:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@user</span> <span class="ruby-comment cmt"># userinfo = @user + ':' + @password</span>
454:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
455:           <span class="ruby-value str">&quot;can not set registry with host, port, or userinfo&quot;</span>
456:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:REGISTRY</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
457:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
458:           <span class="ruby-node">&quot;bad component(expected registry component): #{v}&quot;</span>
459:       <span class="ruby-keyword kw">end</span>
460: 
461:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
462:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003971">
                    
                    <a name="M003971"></a><b>check_scheme</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003971_source')" id="l_M003971_source">show</a>
                        
                    </p>
                    <div id="M003971_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 240</span>
240:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
241:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:SCHEME</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
242:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
243:           <span class="ruby-node">&quot;bad component(expected scheme component): #{v}&quot;</span>
244:       <span class="ruby-keyword kw">end</span>
245: 
246:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
247:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003975">
                    
                    <a name="M003975"></a><b>check_user</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003975_source')" id="l_M003975_source">show</a>
                        
                    </p>
                    <div id="M003975_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 272</span>
272:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">v</span>)
273:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
274:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
275:           <span class="ruby-value str">&quot;can not set user with registry or opaque&quot;</span>
276:       <span class="ruby-keyword kw">end</span>
277: 
278:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
279: 
280:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">regexp</span>[<span class="ruby-identifier">:USERINFO</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
281:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
282:           <span class="ruby-node">&quot;bad component(expected userinfo component or user component): #{v}&quot;</span>
283:       <span class="ruby-keyword kw">end</span>
284: 
285:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
286:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003974">
                    
                    <a name="M003974"></a><b>check_userinfo</b>(user, password = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003974_source')" id="l_M003974_source">show</a>
                        
                    </p>
                    <div id="M003974_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 261</span>
261:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword kw">nil</span>)
262:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">password</span>
263:         <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
264:       <span class="ruby-keyword kw">end</span>
265:       <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
266:       <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>, <span class="ruby-identifier">user</span>)
267: 
268:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
269:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003984">
                    
                    <a name="M003984"></a><b>escape_userpass</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003984_source')" id="l_M003984_source">show</a>
                        
                    </p>
                    <div id="M003984_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 365</span>
365:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_userpass</span>(<span class="ruby-identifier">v</span>)
366:       <span class="ruby-identifier">v</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">v</span>, <span class="ruby-regexp re">/[@:\/]/o</span>) <span class="ruby-comment cmt"># RFC 1738 section 3.1 #/</span>
367:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004018">
                    
                    <a name="M004018"></a><b>merge0</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
return base and rel. you can modify `base&#8217;, but can not `rel&#8217;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004018_source')" id="l_M004018_source">show</a>
                        
                    </p>
                    <div id="M004018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 785</span>
785:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge0</span>(<span class="ruby-identifier">oth</span>)
786:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
787:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Generic</span>
788:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
789:         <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
790:       <span class="ruby-keyword kw">else</span>
791:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
792:           <span class="ruby-value str">&quot;bad argument(expected URI object or URI string)&quot;</span>
793:       <span class="ruby-keyword kw">end</span>
794: 
795:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">relative?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">relative?</span>
796:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>,
797:           <span class="ruby-value str">&quot;both URI are relative&quot;</span>
798:       <span class="ruby-keyword kw">end</span>
799: 
800:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">absolute?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">absolute?</span>
801:         <span class="ruby-comment cmt">#raise BadURIError,</span>
802:         <span class="ruby-comment cmt">#  &quot;both URI are absolute&quot;</span>
803:         <span class="ruby-comment cmt"># hmm... should return oth for usability?</span>
804:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">oth</span>
805:       <span class="ruby-keyword kw">end</span>
806: 
807:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">absolute?</span>
808:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>, <span class="ruby-identifier">oth</span>
809:       <span class="ruby-keyword kw">else</span>
810:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">oth</span>
811:       <span class="ruby-keyword kw">end</span>
812:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004014">
                    
                    <a name="M004014"></a><b>merge_path</b>(base, rel)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004014_source')" id="l_M004014_source">show</a>
                        
                    </p>
                    <div id="M004014_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 632</span>
632:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>, <span class="ruby-identifier">rel</span>)
633: 
634:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 5)</span>
635:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6)</span>
636:       <span class="ruby-identifier">base_path</span> = <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">base</span>)
637:       <span class="ruby-identifier">rel_path</span>  = <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">rel</span>)
638: 
639:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), a)</span>
640:       <span class="ruby-identifier">base_path</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
641:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">i</span> = <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'..'</span>)
642:         <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-value">2</span>)
643:       <span class="ruby-keyword kw">end</span>
644: 
645:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">first</span> = <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">first</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">first</span>.<span class="ruby-identifier">empty?</span>
646:         <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">clear</span>
647:         <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">shift</span>
648:       <span class="ruby-keyword kw">end</span>
649: 
650:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), c)</span>
651:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), d)</span>
652:       <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">push</span>(<span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'.'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
653:       <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'.'</span>)
654: 
655:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), e)</span>
656:       <span class="ruby-identifier">tmp</span> = []
657:       <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
658:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span> <span class="ruby-operator">&amp;&amp;</span>
659:             <span class="ruby-operator">!</span>(<span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>)
660:           <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">pop</span>
661:         <span class="ruby-keyword kw">else</span>
662:           <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>
663:         <span class="ruby-keyword kw">end</span>
664:       <span class="ruby-keyword kw">end</span>
665: 
666:       <span class="ruby-identifier">add_trailer_slash</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">empty?</span>
667:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">empty?</span>
668:         <span class="ruby-identifier">base_path</span> = [<span class="ruby-value str">''</span>] <span class="ruby-comment cmt"># keep '/' for root directory</span>
669:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">add_trailer_slash</span>
670:         <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">pop</span>
671:       <span class="ruby-keyword kw">end</span>
672:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">x</span> = <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">shift</span>
673:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
674:           <span class="ruby-comment cmt"># RFC2396, Section 4</span>
675:           <span class="ruby-comment cmt"># a .. or . in an absolute path has no special meaning</span>
676:           <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
677:         <span class="ruby-keyword kw">else</span>
678:           <span class="ruby-comment cmt"># if x == '..'</span>
679:           <span class="ruby-comment cmt">#   valid absolute (but abnormal) path &quot;/../...&quot;</span>
680:           <span class="ruby-comment cmt"># else</span>
681:           <span class="ruby-comment cmt">#   valid absolute path</span>
682:           <span class="ruby-comment cmt"># end</span>
683:           <span class="ruby-identifier">base_path</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>
684:           <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">base_path</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span>}
685:           <span class="ruby-identifier">add_trailer_slash</span> = <span class="ruby-keyword kw">false</span>
686:           <span class="ruby-keyword kw">break</span>
687:         <span class="ruby-keyword kw">end</span>
688:       <span class="ruby-keyword kw">end</span>
689:       <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">push</span>(<span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">add_trailer_slash</span>
690: 
691:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'/'</span>)
692:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004026">
                    
                    <a name="M004026"></a><b>path_query</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004026_source')" id="l_M004026_source">show</a>
                        
                    </p>
                    <div id="M004026_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1005</span>
1005:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path_query</span>
1006:       <span class="ruby-identifier">str</span> = <span class="ruby-ivar">@path</span>
1007:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@query</span>
1008:         <span class="ruby-identifier">str</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">'?'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@query</span>
1009:       <span class="ruby-keyword kw">end</span>
1010:       <span class="ruby-identifier">str</span>
1011:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003969">
                    
                    <a name="M003969"></a><b>replace!</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
replace self by other <a href="../URI.html">URI</a> object
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003969_source')" id="l_M003969_source">show</a>
                        
                    </p>
                    <div id="M003969_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 225</span>
225:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">oth</span>)
226:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
227:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;expected #{self.class} object&quot;</span>
228:       <span class="ruby-keyword kw">end</span>
229: 
230:       <span class="ruby-identifier">component</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
231:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;#{c}=&quot;</span>, <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">c</span>))
232:       <span class="ruby-keyword kw">end</span>
233:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004020">
                    
                    <a name="M004020"></a><b>route_from0</b>(oth)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004020_source')" id="l_M004020_source">show</a>
                        
                    </p>
                    <div id="M004020_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 856</span>
856:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
857:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
858:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Generic</span>
859:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
860:         <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
861:       <span class="ruby-keyword kw">else</span>
862:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
863:           <span class="ruby-value str">&quot;bad argument(expected URI object or URI string)&quot;</span>
864:       <span class="ruby-keyword kw">end</span>
865: 
866:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">relative?</span>
867:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>,
868:           <span class="ruby-node">&quot;relative URI: #{self}&quot;</span>
869:       <span class="ruby-keyword kw">end</span>
870:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">relative?</span>
871:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>,
872:           <span class="ruby-node">&quot;relative URI: #{oth}&quot;</span>
873:       <span class="ruby-keyword kw">end</span>
874: 
875:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">scheme</span>
876:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>
877:       <span class="ruby-keyword kw">end</span>
878:       <span class="ruby-identifier">rel</span> = <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-comment cmt"># it is relative URI</span>
879:                              <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">port</span>,
880:                              <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">registry</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">opaque</span>,
881:                              <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fragment</span>, <span class="ruby-identifier">parser</span>)
882: 
883:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span>
884:           <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">||</span>
885:           <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">port</span>
886:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">nil?</span>
887:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>
888:         <span class="ruby-keyword kw">end</span>
889:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">default_port</span>
890:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>, <span class="ruby-identifier">rel</span>
891:       <span class="ruby-keyword kw">end</span>
892:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-keyword kw">nil</span>)
893:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-keyword kw">nil</span>)
894:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword kw">nil</span>)
895: 
896:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>
897:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-value str">''</span>)
898:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">query</span>
899:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>, <span class="ruby-identifier">rel</span>
900:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">opaque</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">opaque</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">opaque</span>
901:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-value str">''</span>)
902:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">query</span>
903:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>, <span class="ruby-identifier">rel</span>
904:       <span class="ruby-keyword kw">end</span>
905: 
906:       <span class="ruby-comment cmt"># you can modify `rel', but can not `oth'.</span>
907:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span>
908:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004019">
                    
                    <a name="M004019"></a><b>route_from_path</b>(src, dst)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004019_source')" id="l_M004019_source">show</a>
                        
                    </p>
                    <div id="M004019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 815</span>
815:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dst</span>)
816:       <span class="ruby-comment cmt"># RFC2396, Section 4.2</span>
817:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">src</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">dst</span>
818: 
819:       <span class="ruby-identifier">src_path</span> = <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">src</span>)
820:       <span class="ruby-identifier">dst_path</span> = <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">dst</span>)
821: 
822:       <span class="ruby-comment cmt"># hmm... dst has abnormal absolute path,</span>
823:       <span class="ruby-comment cmt"># like &quot;/./&quot;, &quot;/../&quot;, &quot;/x/../&quot;, ...</span>
824:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'..'</span>) <span class="ruby-operator">||</span>
825:           <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'.'</span>)
826:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">dst</span>.<span class="ruby-identifier">dup</span>
827:       <span class="ruby-keyword kw">end</span>
828: 
829:       <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">pop</span>
830: 
831:       <span class="ruby-comment cmt"># discard same parts</span>
832:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">first</span>
833:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">empty?</span>
834: 
835:         <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">shift</span>
836:         <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">shift</span>
837:       <span class="ruby-keyword kw">end</span>
838: 
839:       <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'/'</span>)
840: 
841:       <span class="ruby-comment cmt"># calculate</span>
842:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">empty?</span>
843:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">empty?</span>
844:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'./'</span>
845:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">':'</span>) <span class="ruby-comment cmt"># (see RFC2396 Section 5)</span>
846:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'./'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tmp</span>
847:         <span class="ruby-keyword kw">else</span>
848:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">tmp</span>
849:         <span class="ruby-keyword kw">end</span>
850:       <span class="ruby-keyword kw">end</span>
851: 
852:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'../'</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tmp</span>
853:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004013">
                    
                    <a name="M004013"></a><b>split_path</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004013_source')" id="l_M004013_source">show</a>
                        
                    </p>
                    <div id="M004013_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 627</span>
627:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">path</span>)
628:       <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">%r{/+}</span>, <span class="ruby-value">-1</span>)
629:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003983">
                    
                    <a name="M003983"></a><b>split_userinfo</b>(ui)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003983_source')" id="l_M003983_source">show</a>
                        
                    </p>
                    <div id="M003983_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 357</span>
357:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">ui</span>)
358:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ui</span>
359:       <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">ui</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/:/</span>, <span class="ruby-value">2</span>)
360: 
361:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>
362:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    