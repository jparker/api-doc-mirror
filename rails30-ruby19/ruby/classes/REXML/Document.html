<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Document</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            REXML::Document 
            
                <span class="parent">&lt; 
                    
                    Element
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/document_rb.html">lib/rexml/document.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Represents a full XML document, including PIs, a doctype, etc. <a
href="../A.html">A</a> <a href="Document.html">Document</a> has a single
child that can be accessed by root(). Note that if you want to have an XML
declaration written for a document you create, you must add one; <a
href="../REXML.html">REXML</a> documents do not write a default declaration
for you. See |DECLARATION| and |write|.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M002251"><<</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M002250">add</a>,</li>
                
                <li><a href="#M002252">add_element</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M002264">build</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M002247">clone</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M002254">doctype</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M002257">encoding</a>,</li>
                
                <li><a href="#M002262">entity_expansion_limit</a>,</li>
                
                <li><a href="#M002261">entity_expansion_limit=</a>,</li>
                
                <li><a href="#M002248">expanded_name</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M002249">name</a>,</li>
                
                <li><a href="#M002245">new</a>,</li>
                
                <li><a href="#M002246">node_type</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M002260">parse_stream</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M002263">record_entity_expansion</a>,</li>
                
                <li><a href="#M002253">root</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M002258">stand_alone?</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M002256">version</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M002259">write</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M002255">xml_decl</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DECLARATION</td>
            <td>=</td>
            <td class="attr-value">XMLDecl.default</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
<a href="../A.html">A</a> convenient default XML declaration. If you want
an XML declaration, the easiest way to add one is mydoc <<
Document::DECLARATION <tt>DEPRECATED</tt> Use: mydoc << <a
href="XMLDecl.html#M002739">XMLDecl.default</a>
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>entity_expansion_count</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M002262">
                    
                    <a name="M002262"></a><b>entity_expansion_limit</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get the entity expansion limit. By default the limit is set to 10000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002262_source')" id="l_M002262_source">show</a>
                        
                    </p>
                    <div id="M002262_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 215</span>
215:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit</span>
216:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
217:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002261">
                    
                    <a name="M002261"></a><b>entity_expansion_limit=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../Set.html">Set</a> the entity expansion limit. By default the
limit is set to 10000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002261_source')" id="l_M002261_source">show</a>
                        
                    </p>
                    <div id="M002261_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 210</span>
210:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit=</span>( <span class="ruby-identifier">val</span> )
211:       <span class="ruby-ivar">@@entity_expansion_limit</span> = <span class="ruby-identifier">val</span>
212:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002245">
                    
                    <a name="M002245"></a><b>new</b>( source = nil, context = {} )
                    
                </div>
                
                <div class="description">
                  <p>
Constructor @param source if supplied, must be a <a
href="Document.html">Document</a>, <a href="../String.html">String</a>, or
<a href="../IO.html">IO</a>. Documents have their context and <a
href="Element.html">Element</a> attributes cloned. Strings are expected to
be valid XML documents. IOs are expected to be sources of valid XML
documents. @param context if supplied, contains the context of the
document; this should be a <a href="../Hash.html">Hash</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002245_source')" id="l_M002245_source">show</a>
                        
                    </p>
                    <div id="M002245_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 34</span>
34:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">source</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">context</span> = {} )
35:       <span class="ruby-ivar">@entity_expansion_count</span> = <span class="ruby-value">0</span>
36:       <span class="ruby-keyword kw">super</span>()
37:       <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>
38:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span>
39:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
40:         <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">context</span>
41:         <span class="ruby-keyword kw">super</span> <span class="ruby-identifier">source</span>
42:       <span class="ruby-keyword kw">else</span>
43:         <span class="ruby-identifier">build</span>(  <span class="ruby-identifier">source</span> )
44:       <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002260">
                    
                    <a name="M002260"></a><b>parse_stream</b>( source, listener )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002260_source')" id="l_M002260_source">show</a>
                        
                    </p>
                    <div id="M002260_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 203</span>
203:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_stream</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> )
204:       <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">StreamParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> ).<span class="ruby-identifier">parse</span>
205:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M002251">
                    
                    <a name="M002251"></a><b>&lt;&lt;</b>( child )
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Document.html#M002250">add</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002250">
                    
                    <a name="M002250"></a><b>add</b>( child )
                    
                </div>
                
                <div class="description">
                  <p>
We override this, because XMLDecls and DocTypes must go at the start of the
document
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Document.html#M002251">&lt;&lt;</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002250_source')" id="l_M002250_source">show</a>
                        
                    </p>
                    <div id="M002250_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>( <span class="ruby-identifier">child</span> )
68:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
69:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
70:           <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">child</span>
71:         <span class="ruby-keyword kw">else</span>
72:           <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">child</span>
73:         <span class="ruby-keyword kw">end</span>
74:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
75:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
76:         <span class="ruby-comment cmt"># Find first Element or DocType node and insert the decl right</span>
77:         <span class="ruby-comment cmt"># before it.  If there is no such node, just insert the child at the</span>
78:         <span class="ruby-comment cmt"># end.  If there is a child and it is an DocType, then replace it.</span>
79:         <span class="ruby-identifier">insert_before_index</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
80:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Element</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">DocType</span>)
81:         }
82:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">insert_before_index</span> <span class="ruby-comment cmt"># Not null = not end of list</span>
83:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
84:             <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] = <span class="ruby-identifier">child</span>
85:           <span class="ruby-keyword kw">else</span>
86:             <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-value">0</span> ] = <span class="ruby-identifier">child</span>
87:           <span class="ruby-keyword kw">end</span>
88:         <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># Insert at end of list</span>
89:           <span class="ruby-ivar">@children</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>
90:         <span class="ruby-keyword kw">end</span>
91:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
92:       <span class="ruby-keyword kw">else</span>
93:         <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
94:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
95:         <span class="ruby-identifier">rv</span>
96:       <span class="ruby-keyword kw">end</span>
97:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002252">
                    
                    <a name="M002252"></a><b>add_element</b>(arg=nil, arg2=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002252_source')" id="l_M002252_source">show</a>
                        
                    </p>
                    <div id="M002252_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 100</span>
100:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">arg2</span>=<span class="ruby-keyword kw">nil</span>)
101:       <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
102:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
103:       <span class="ruby-identifier">rv</span>
104:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002247">
                    
                    <a name="M002247"></a><b>clone</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Should be obvious
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002247_source')" id="l_M002247_source">show</a>
                        
                    </p>
                    <div id="M002247_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 52</span>
52:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
53:       <span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
54:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002254">
                    
                    <a name="M002254"></a><b>doctype</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="DocType.html">DocType</a> child of the document, if
one exists, and nil otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002254_source')" id="l_M002254_source">show</a>
                        
                    </p>
                    <div id="M002254_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 116</span>
116:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doctype</span>
117:       <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span> }
118:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002257">
                    
                    <a name="M002257"></a><b>encoding</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> encoding of this document as
a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default encoding.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002257_source')" id="l_M002257_source">show</a>
                        
                    </p>
                    <div id="M002257_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 136</span>
136:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encoding</span>
137:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">encoding</span>
138:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002248">
                    
                    <a name="M002248"></a><b>expanded_name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
According to the XML spec, a root node has no expanded name
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Document.html#M002249">name</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002248_source')" id="l_M002248_source">show</a>
                        
                    </p>
                    <div id="M002248_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expanded_name</span>
58:       <span class="ruby-value str">''</span>
59:       <span class="ruby-comment cmt">#d = doc_type</span>
60:       <span class="ruby-comment cmt">#d ? d.name : &quot;UNDEFINED&quot;</span>
61:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002249">
                    
                    <a name="M002249"></a><b>name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Document.html#M002248">expanded_name</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002246">
                    
                    <a name="M002246"></a><b>node_type</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002246_source')" id="l_M002246_source">show</a>
                        
                    </p>
                    <div id="M002246_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 47</span>
47:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_type</span>
48:       <span class="ruby-identifier">:document</span>
49:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002263">
                    
                    <a name="M002263"></a><b>record_entity_expansion</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002263_source')" id="l_M002263_source">show</a>
                        
                    </p>
                    <div id="M002263_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 221</span>
221:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">record_entity_expansion</span>
222:       <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
223:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
224:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;number of entity expansions exceeded, processing aborted.&quot;</span>
225:       <span class="ruby-keyword kw">end</span>
226:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002253">
                    
                    <a name="M002253"></a><b>root</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the root <a href="Element.html">Element</a> of the document, or nil
if this document has no children.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002253_source')" id="l_M002253_source">show</a>
                        
                    </p>
                    <div id="M002253_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 108</span>
108:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>
109:       <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>]
110:       <span class="ruby-comment cmt">#self</span>
111:       <span class="ruby-comment cmt">#@children.find { |item| item.kind_of? Element }</span>
112:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002258">
                    
                    <a name="M002258"></a><b>stand_alone?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> standalone value of this
document as a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default setting.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002258_source')" id="l_M002258_source">show</a>
                        
                    </p>
                    <div id="M002258_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 142</span>
142:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stand_alone?</span>
143:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">stand_alone?</span>
144:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002256">
                    
                    <a name="M002256"></a><b>version</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> version of this document as
a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default version.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002256_source')" id="l_M002256_source">show</a>
                        
                    </p>
                    <div id="M002256_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">version</span>
131:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">version</span>
132:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002259">
                    
                    <a name="M002259"></a><b>write</b>( output=$stdout, indent=-1, transitive=false, ie_hack=false )
                    
                </div>
                
                <div class="description">
                  <p>
Write the XML tree out, optionally with indent. This writes out the entire
XML document, including XML declarations, doctype declarations, and
processing instructions (if any are given).
</p>
<p>
<a href="../A.html">A</a> controversial point is whether <a
href="Document.html">Document</a> should always write the XML declaration
(<?xml version=&#8217;1.0&#8217;?>) whether or not one is given by the user
(or source document). <a href="../REXML.html">REXML</a> does not write one
if one was not specified, because it adds unnecessary bandwidth to
applications such as XML-RPC.
</p>
<p>
See also the classes in the rexml/formatters package for the proper way to
change the default formatting of XML output
</p>
<p>
<em>Examples</em>
</p>
<pre>
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize

  output_string = &quot;&quot;
  tr = Transitive.new( output_string )
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize( tr )
</pre>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;<< string&#8217;; this is where the

</td></tr>
</table>
<pre>
  document will be written.
</pre>
<table>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount. For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1

</td></tr>
<tr><td valign="top">transitive:</td><td>If transitive is true and indent is >= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <b>value</b> of the document &#8212; that is, it leaves the value
and number of <a href="Text.html">Text</a> nodes in the document unchanged.

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper XML, we have to provide a hack to generate XML that IE&#8217;s
limited abilities can handle. This hack inserts a space before the /> on
empty tags. Defaults to false

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002259_source')" id="l_M002259_source">show</a>
                        
                    </p>
                    <div id="M002259_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 185</span>
185:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>( <span class="ruby-identifier">output</span>=<span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-value">-1</span>, <span class="ruby-identifier">transitive</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword kw">false</span> )
186:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;UTF-8&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">output</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Output</span>)
187:         <span class="ruby-identifier">output</span> = <span class="ruby-constant">Output</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">output</span>, <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> )
188:       <span class="ruby-keyword kw">end</span>
189:       <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>
190:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">transitive</span>
191:             <span class="ruby-identifier">require</span> <span class="ruby-value str">&quot;rexml/formatters/transitive&quot;</span>
192:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
193:           <span class="ruby-keyword kw">else</span>
194:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
195:           <span class="ruby-keyword kw">end</span>
196:         <span class="ruby-keyword kw">else</span>
197:           <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
198:         <span class="ruby-keyword kw">end</span>
199:       <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">output</span> )
200:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002255">
                    
                    <a name="M002255"></a><b>xml_decl</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> of this document; if no <a
href="XMLDecl.html">XMLDecl</a> has been set, the default declaration is
returned.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002255_source')" id="l_M002255_source">show</a>
                        
                    </p>
                    <div id="M002255_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 122</span>
122:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xml_decl</span>
123:       <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>]
124:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
125:       <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-constant">XMLDecl</span>.<span class="ruby-identifier">default</span>)[<span class="ruby-value">0</span>]
126:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M002264">
                    
                    <a name="M002264"></a><b>build</b>( source )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002264_source')" id="l_M002264_source">show</a>
                        
                    </p>
                    <div id="M002264_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 229</span>
229:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build</span>( <span class="ruby-identifier">source</span> )
230:       <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">TreeParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-keyword kw">self</span> ).<span class="ruby-identifier">parse</span>
231:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    