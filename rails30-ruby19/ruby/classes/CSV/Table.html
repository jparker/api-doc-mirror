<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>CSV::Table</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            CSV::Table 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/csv_rb.html">lib/csv.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="../A.html">A</a> <a href="Table.html">CSV::Table</a> is a
two-dimensional data structure for representing <a
href="../CSV.html">CSV</a> documents. Tables allow you to work with the
data by row or column, manipulate the data, and even convert the results
back to <a href="../CSV.html">CSV</a>, if needed.
</p>
<p>
All tables returned by <a href="../CSV.html">CSV</a> will be constructed
from this class, if header row processing is activated.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M003370"><<</a>,</li>
                
                <li><a href="#M003375">==</a>,</li>
                
                <li><a href="#M003367">[]</a>,</li>
                
                <li><a href="#M003368">[]=</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M003360">by_col</a>,</li>
                
                <li><a href="#M003361">by_col!</a>,</li>
                
                <li><a href="#M003362">by_col_or_row</a>,</li>
                
                <li><a href="#M003363">by_col_or_row!</a>,</li>
                
                <li><a href="#M003364">by_row</a>,</li>
                
                <li><a href="#M003365">by_row!</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M003372">delete</a>,</li>
                
                <li><a href="#M003373">delete_if</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M003374">each</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M003366">headers</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M003379">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003359">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003371">push</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M003376">to_a</a>,</li>
                
                <li><a href="#M003377">to_csv</a>,</li>
                
                <li><a href="#M003378">to_s</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M003369">values_at</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../Kernel.html">Kernel</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>mode</td>
            <td class='attr-desc'><p>
The current access mode for indexing and iteration.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>table</td>
            <td class='attr-desc'><p>
Internal data format used to compare equality.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M003359">
                    
                    <a name="M003359"></a><b>new</b>(array_of_rows)
                    
                </div>
                
                <div class="description">
                  <p>
Construct a new <a href="Table.html">CSV::Table</a> from
<tt>array_of_rows</tt>, which are expected to be <a
href="Row.html">CSV::Row</a> objects. All rows are assumed to have the same
headers.
</p>
<p>
<a href="../A.html">A</a> <a href="Table.html">CSV::Table</a> object
supports the following <a href="../Array.html">Array</a> methods through
delegation:
</p>
<ul>
<li>empty?()

</li>
<li>length()

</li>
<li>size()

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003359_source')" id="l_M003359_source">show</a>
                        
                    </p>
                    <div id="M003359_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 530</span>
530:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">array_of_rows</span>)
531:       <span class="ruby-ivar">@table</span> = <span class="ruby-identifier">array_of_rows</span>
532:       <span class="ruby-ivar">@mode</span>  = <span class="ruby-identifier">:col_or_row</span>
533:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M003370">
                    
                    <a name="M003370"></a><b>&lt;&lt;</b>(row_or_array)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a new row to the bottom end of this table. You can provide an <a
href="../Array.html">Array</a>, which will be converted to a <a
href="Row.html">CSV::Row</a> (inheriting the table&#8217;s headers()), or a
<a href="Row.html">CSV::Row</a>.
</p>
<p>
This method returns the table for chaining.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003370_source')" id="l_M003370_source">show</a>
                        
                    </p>
                    <div id="M003370_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 728</span>
728:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">row_or_array</span>)
729:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row_or_array</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment cmt"># append Array</span>
730:         <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">row_or_array</span>)
731:       <span class="ruby-keyword kw">else</span>                         <span class="ruby-comment cmt"># append Row</span>
732:         <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row_or_array</span>
733:       <span class="ruby-keyword kw">end</span>
734: 
735:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
736:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003375">
                    
                    <a name="M003375"></a><b>==</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if all rows of this table ==() <tt>other</tt>&#8217;s
rows.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003375_source')" id="l_M003375_source">show</a>
                        
                    </p>
                    <div id="M003375_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 807</span>
807:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
808:       <span class="ruby-ivar">@table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">table</span>
809:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003367">
                    
                    <a name="M003367"></a><b>[]</b>(index_or_header)
                    
                </div>
                
                <div class="description">
                  <p>
In the default mixed mode, this method returns rows for index access and
columns for header access. You can force the index association by first
calling <a href="Table.html#M003360">by_col</a>!() or <a
href="Table.html#M003364">by_row</a>!().
</p>
<p>
Columns are returned as an <a href="../Array.html">Array</a> of values.
Altering that <a href="../Array.html">Array</a> has no effect on the table.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003367_source')" id="l_M003367_source">show</a>
                        
                    </p>
                    <div id="M003367_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 644</span>
644:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">index_or_header</span>)
645:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
646:          (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
647:         <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>]
648:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by header</span>
649:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] }
650:       <span class="ruby-keyword kw">end</span>
651:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003368">
                    
                    <a name="M003368"></a><b>[]=</b>(index_or_header, value)
                    
                </div>
                
                <div class="description">
                  <p>
In the default mixed mode, this method assigns rows for index access and
columns for header access. You can force the index association by first
calling <a href="Table.html#M003360">by_col</a>!() or <a
href="Table.html#M003364">by_row</a>!().
</p>
<p>
Rows may be set to an <a href="../Array.html">Array</a> of values (which
will inherit the table&#8217;s headers()) or a <a
href="Row.html">CSV::Row</a>.
</p>
<p>
Columns may be set to a single value, which is copied to each row of the
column, or an <a href="../Array.html">Array</a> of values. Arrays of values
are assigned to rows top to bottom in row major order. Excess values are
ignored and if the <a href="../Array.html">Array</a> does not have a value
for each row the extra rows will receive a <tt>nil</tt>.
</p>
<p>
Assigning to an existing column or row clobbers the data. Assigning to new
columns creates them at the right end of the table.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003368_source')" id="l_M003368_source">show</a>
                        
                    </p>
                    <div id="M003368_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 669</span>
669:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">index_or_header</span>, <span class="ruby-identifier">value</span>)
670:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
671:          (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
672:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
673:           <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">value</span>)
674:         <span class="ruby-keyword kw">else</span>
675:           <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
676:         <span class="ruby-keyword kw">end</span>
677:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># set column</span>
678:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment cmt"># multiple values</span>
679:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
680:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
681:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
682:             <span class="ruby-keyword kw">else</span>
683:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>[<span class="ruby-identifier">i</span>]
684:             <span class="ruby-keyword kw">end</span>
685:           <span class="ruby-keyword kw">end</span>
686:         <span class="ruby-keyword kw">else</span>                  <span class="ruby-comment cmt"># repeated value</span>
687:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
688:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
689:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
690:             <span class="ruby-keyword kw">else</span>
691:               <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
692:             <span class="ruby-keyword kw">end</span>
693:           <span class="ruby-keyword kw">end</span>
694:         <span class="ruby-keyword kw">end</span>
695:       <span class="ruby-keyword kw">end</span>
696:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003360">
                    
                    <a name="M003360"></a><b>by_col</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a duplicate table object, in column mode. This is handy for
chaining in a single call without changing the table mode, but be aware
that this method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining. Don&#8217;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003360_source')" id="l_M003360_source">show</a>
                        
                    </p>
                    <div id="M003360_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 556</span>
556:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col</span>
557:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col!</span>
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003361">
                    
                    <a name="M003361"></a><b>by_col!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Switches the mode of this table to column mode. All calls to indexing and
iteration methods will work with columns until the mode is changed again.
</p>
<p>
This method returns the table and is safe to chain.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003361_source')" id="l_M003361_source">show</a>
                        
                    </p>
                    <div id="M003361_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 566</span>
566:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col!</span>
567:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">:col</span>
568: 
569:       <span class="ruby-keyword kw">self</span>
570:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003362">
                    
                    <a name="M003362"></a><b>by_col_or_row</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a duplicate table object, in mixed mode. This is handy for chaining
in a single call without changing the table mode, but be aware that this
method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining. Don&#8217;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003362_source')" id="l_M003362_source">show</a>
                        
                    </p>
                    <div id="M003362_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 581</span>
581:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col_or_row</span>
582:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col_or_row!</span>
583:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003363">
                    
                    <a name="M003363"></a><b>by_col_or_row!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Switches the mode of this table to mixed mode. All calls to indexing and
iteration methods will use the default intelligent indexing system until
the mode is changed again. In mixed mode an index is assumed to be a row
reference while anything else is assumed to be column access by headers.
</p>
<p>
This method returns the table and is safe to chain.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003363_source')" id="l_M003363_source">show</a>
                        
                    </p>
                    <div id="M003363_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 593</span>
593:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col_or_row!</span>
594:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">:col_or_row</span>
595: 
596:       <span class="ruby-keyword kw">self</span>
597:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003364">
                    
                    <a name="M003364"></a><b>by_row</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a duplicate table object, in row mode. This is handy for chaining
in a single call without changing the table mode, but be aware that this
method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining. Don&#8217;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003364_source')" id="l_M003364_source">show</a>
                        
                    </p>
                    <div id="M003364_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 608</span>
608:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_row</span>
609:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_row!</span>
610:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003365">
                    
                    <a name="M003365"></a><b>by_row!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Switches the mode of this table to row mode. All calls to indexing and
iteration methods will work with rows until the mode is changed again.
</p>
<p>
This method returns the table and is safe to chain.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003365_source')" id="l_M003365_source">show</a>
                        
                    </p>
                    <div id="M003365_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 618</span>
618:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_row!</span>
619:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">:row</span>
620: 
621:       <span class="ruby-keyword kw">self</span>
622:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003372">
                    
                    <a name="M003372"></a><b>delete</b>(index_or_header)
                    
                </div>
                
                <div class="description">
                  <p>
Removes and returns the indicated column or row. In the default mixed mode
indices refer to rows and everything else is assumed to be a column header.
Use <a href="Table.html#M003360">by_col</a>!() or <a
href="Table.html#M003364">by_row</a>!() to force the lookup.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003372_source')" id="l_M003372_source">show</a>
                        
                    </p>
                    <div id="M003372_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 756</span>
756:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>)
757:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
758:          (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
759:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index_or_header</span>)
760:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by header</span>
761:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>).<span class="ruby-identifier">last</span> }
762:       <span class="ruby-keyword kw">end</span>
763:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003373">
                    
                    <a name="M003373"></a><b>delete_if</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Removes any column or row for which the block returns <tt>true</tt>. In the
default mixed mode or row mode, iteration is the standard row major walking
of rows. In column mode, interation will <tt>yield</tt> two element tuples
containing the column name and an <a href="../Array.html">Array</a> of
values for that column.
</p>
<p>
This method returns the table for chaining.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003373_source')" id="l_M003373_source">show</a>
                        
                    </p>
                    <div id="M003373_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 773</span>
773:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_if</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
774:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span>  <span class="ruby-comment cmt"># by index</span>
775:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_if</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
776:       <span class="ruby-keyword kw">else</span>                                      <span class="ruby-comment cmt"># by header</span>
777:         <span class="ruby-identifier">to_delete</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
778:         <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">header</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
779:           <span class="ruby-identifier">to_delete</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">header</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>[[<span class="ruby-identifier">header</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">header</span>]]]
780:         <span class="ruby-keyword kw">end</span>
781:         <span class="ruby-identifier">to_delete</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">header</span>) }
782:       <span class="ruby-keyword kw">end</span>
783: 
784:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
785:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003374">
                    
                    <a name="M003374"></a><b>each</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
In the default mixed mode or row mode, iteration is the standard row major
walking of rows. In column mode, interation will <tt>yield</tt> two element
tuples containing the column name and an <a href="../Array.html">Array</a>
of values for that column.
</p>
<p>
This method returns the table for chaining.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003374_source')" id="l_M003374_source">show</a>
                        
                    </p>
                    <div id="M003374_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 796</span>
796:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
797:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col</span>
798:         <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-identifier">block</span>[[<span class="ruby-identifier">header</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">header</span>]]] }
799:       <span class="ruby-keyword kw">else</span>
800:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
801:       <span class="ruby-keyword kw">end</span>
802: 
803:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
804:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003366">
                    
                    <a name="M003366"></a><b>headers</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the headers for the first row of this table (assumed to match all
other rows). An empty <a href="../Array.html">Array</a> is returned for
empty tables.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003366_source')" id="l_M003366_source">show</a>
                        
                    </p>
                    <div id="M003366_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 628</span>
628:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headers</span>
629:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">empty?</span>
630:         <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
631:       <span class="ruby-keyword kw">else</span>
632:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">headers</span>
633:       <span class="ruby-keyword kw">end</span>
634:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003379">
                    
                    <a name="M003379"></a><b>inspect</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Shows the mode and size of this table in a US-ASCII <a
href="../String.html">String</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003379_source')" id="l_M003379_source">show</a>
                        
                    </p>
                    <div id="M003379_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 845</span>
845:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
846:       <span class="ruby-node">&quot;#&lt;#{self.class} mode:#{@mode} row_count:#{to_a.size}&gt;&quot;</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-value str">&quot;US-ASCII&quot;</span>)
847:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003371">
                    
                    <a name="M003371"></a><b>push</b>(*rows)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../A.html">A</a> shortcut for appending multiple rows. Equivalent
to:
</p>
<pre>
  rows.each { |row| self &lt;&lt; row }
</pre>
<p>
This method returns the table for chaining.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003371_source')" id="l_M003371_source">show</a>
                        
                    </p>
                    <div id="M003371_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 745</span>
745:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rows</span>)
746:       <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span> }
747: 
748:       <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
749:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003376">
                    
                    <a name="M003376"></a><b>to_a</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the table as an <a href="../Array.html">Array</a> of Arrays.
Headers will be the first row, then all of the field rows will follow.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003376_source')" id="l_M003376_source">show</a>
                        
                    </p>
                    <div id="M003376_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 815</span>
815:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
816:       <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">inject</span>([<span class="ruby-identifier">headers</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">array</span>, <span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
817:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
818:           <span class="ruby-identifier">array</span>
819:         <span class="ruby-keyword kw">else</span>
820:           <span class="ruby-identifier">array</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>]
821:         <span class="ruby-keyword kw">end</span>
822:       <span class="ruby-keyword kw">end</span>
823:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003377">
                    
                    <a name="M003377"></a><b>to_csv</b>(options = Hash.new)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the table as a complete <a href="../CSV.html">CSV</a> <a
href="../String.html">String</a>. Headers will be listed first, then all of
the field rows.
</p>
<p>
This method assumes you want the <a
href="Table.html#M003366">Table.headers()</a>, unless you explicitly pass
<tt>:write_headers =&gt; false</tt>.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Table.html#M003378">to_s</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003377_source')" id="l_M003377_source">show</a>
                        
                    </p>
                    <div id="M003377_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 832</span>
832:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>)
833:       <span class="ruby-identifier">wh</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:write_headers</span>, <span class="ruby-keyword kw">true</span>)
834:       <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">wh</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span>)] <span class="ruby-operator">:</span> [ ]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rows</span>, <span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
835:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
836:           <span class="ruby-identifier">rows</span>
837:         <span class="ruby-keyword kw">else</span>
838:           <span class="ruby-identifier">rows</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span>)]
839:         <span class="ruby-keyword kw">end</span>
840:       <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>
841:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003378">
                    
                    <a name="M003378"></a><b>to_s</b>(options = Hash.new)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Table.html#M003377">to_csv</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003369">
                    
                    <a name="M003369"></a><b>values_at</b>(*indices_or_headers)
                    
                </div>
                
                <div class="description">
                  <p>
The mixed mode default is to treat a list of indices as row access,
returning the rows indicated. Anything else is considered columnar access.
For columnar access, the return set has an <a
href="../Array.html">Array</a> for each row with the values indicated by
the headers in each <a href="../Array.html">Array</a>. You can force column
or row mode using <a href="Table.html#M003360">by_col</a>!() or <a
href="Table.html#M003364">by_row</a>!().
</p>
<p>
You cannot mix column and row access.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003369_source')" id="l_M003369_source">show</a>
                        
                    </p>
                    <div id="M003369_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/csv.rb, line 707</span>
707:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>)
708:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by indices</span>
709:          ( <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">indices_or_headers</span>.<span class="ruby-identifier">all?</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
710:                                       <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)         <span class="ruby-keyword kw">or</span>
711:                                       ( <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Range</span>)         <span class="ruby-keyword kw">and</span>
712:                                         <span class="ruby-identifier">index</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) <span class="ruby-keyword kw">and</span>
713:                                         <span class="ruby-identifier">index</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) )
714:                                     <span class="ruby-keyword kw">end</span> )
715:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>)
716:       <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by headers</span>
717:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>) }
718:       <span class="ruby-keyword kw">end</span>
719:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    