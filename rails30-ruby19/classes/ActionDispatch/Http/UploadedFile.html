<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionDispatch::Http::UploadedFile</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ActionDispatch::Http::UploadedFile 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionpack/lib/action_dispatch/http/upload_rb.html">actionpack/lib/action_dispatch/http/upload.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001878">extended</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M001879">original_filename</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M001878">
                    
                    <a name="M001878"></a><b>extended</b>(object)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001878_source')" id="l_M001878_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/ccf9577aee86ce1f766c5e8854e0c285dc38f8ac/actionpack/lib/action_dispatch/http/upload.rb#L6" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001878_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/upload.rb, line 6</span>
 6:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">extended</span>(<span class="ruby-identifier">object</span>)
 7:         <span class="ruby-identifier">object</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
 8:           <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:original_path</span>, <span class="ruby-identifier">:content_type</span>
 9:           <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:local_path</span>, <span class="ruby-identifier">:path</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method_defined?</span>(<span class="ruby-identifier">:path</span>)
10:         <span class="ruby-keyword kw">end</span>
11:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001879">
                    
                    <a name="M001879"></a><b>original_filename</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Take the basename of the upload&#8217;s original filename. This handles the
full Windows paths given by Internet Explorer (and perhaps other broken
user agents) without affecting those which give the lone filename. The
Windows regexp is adapted from Perl&#8217;s File::Basename.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001879_source')" id="l_M001879_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/ccf9577aee86ce1f766c5e8854e0c285dc38f8ac/actionpack/lib/action_dispatch/http/upload.rb#L18" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001879_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/upload.rb, line 18</span>
18:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">original_filename</span>
19:         <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@original_filename</span>
20:           <span class="ruby-ivar">@original_filename</span> =
21:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">original_path</span>.<span class="ruby-identifier">blank?</span>
22:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">original_path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(?:.*[:\\\/])?(.*)/</span><span class="ruby-identifier">m</span>
23:                 <span class="ruby-identifier">$1</span>
24:               <span class="ruby-keyword kw">else</span>
25:                 <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-identifier">original_path</span>
26:               <span class="ruby-keyword kw">end</span>
27:             <span class="ruby-keyword kw">end</span>
28:         <span class="ruby-keyword kw">end</span>
29:         <span class="ruby-ivar">@original_filename</span>
30:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    