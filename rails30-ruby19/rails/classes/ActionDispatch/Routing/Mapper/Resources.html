<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionDispatch::Routing::Mapper::Resources</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ActionDispatch::Routing::Mapper::Resources 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../files/actionpack/lib/action_dispatch/routing/mapper_rb.html">actionpack/lib/action_dispatch/routing/mapper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M002290">action_options?</a>,</li>
                
                <li><a href="#M002307">action_path</a>,</li>
                
                <li><a href="#M002289">apply_common_behavior_for</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M002304">canonical_action?</a>,</li>
                
                <li><a href="#M002279">collection</a>,</li>
                
                <li><a href="#M002299">collection_scope</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M002303">id_constraint</a>,</li>
                
                <li><a href="#M002302">id_constraint?</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M002286">match</a>,</li>
                
                <li><a href="#M002280">member</a>,</li>
                
                <li><a href="#M002300">member_scope</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M002309">name_for_action</a>,</li>
                
                <li><a href="#M002283">namespace</a>,</li>
                
                <li><a href="#M002282">nested</a>,</li>
                
                <li><a href="#M002301">nested_options</a>,</li>
                
                <li><a href="#M002281">new</a>,</li>
                
                <li><a href="#M002298">new_scope</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M002306">path_for_action</a>,</li>
                
                <li><a href="#M002308">prefix_name_for_action</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M002277">resource</a>,</li>
                
                <li><a href="#M002294">resource_method_scope?</a>,</li>
                
                <li><a href="#M002297">resource_scope</a>,</li>
                
                <li><a href="#M002293">resource_scope?</a>,</li>
                
                <li><a href="#M002278">resources</a>,</li>
                
                <li><a href="#M002276">resources_path_names</a>,</li>
                
                <li><a href="#M002287">root</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M002292">scope_action_options</a>,</li>
                
                <li><a href="#M002291">scope_action_options?</a>,</li>
                
                <li><a href="#M002284">shallow</a>,</li>
                
                <li><a href="#M002285">shallow?</a>,</li>
                
                <li><a href="#M002305">shallow_scoping?</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M002295">with_exclusive_scope</a>,</li>
                
                <li><a href="#M002296">with_scope_level</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Resources/Resource.html">ActionDispatch::Routing::Mapper::Resources::Resource</a></li>
        
        <li><span class="type">CLASS</span> <a href="Resources/SingletonResource.html">ActionDispatch::Routing::Mapper::Resources::SingletonResource</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VALID_ON_OPTIONS</td>
            <td>=</td>
            <td class="attr-value">[:new, :collection, :member]</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
<a href="Resources.html#CANONICAL_ACTIONS">CANONICAL_ACTIONS</a> holds all
actions that does not need a prefix or a path appended since they fit
properly in their scope level.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RESOURCE_OPTIONS</td>
            <td>=</td>
            <td class="attr-value">[:as, :controller, :path, :only, :except]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CANONICAL_ACTIONS</td>
            <td>=</td>
            <td class="attr-value">%w(index create new show update destroy)</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M002279">
                    
                    <a name="M002279"></a><b>collection</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002279_source')" id="l_M002279_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L611" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002279_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 611</span>
611:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collection</span>
612:           <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:resources</span>
613:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;can't use collection outside resources scope&quot;</span>
614:           <span class="ruby-keyword kw">end</span>
615: 
616:           <span class="ruby-identifier">collection_scope</span> <span class="ruby-keyword kw">do</span>
617:             <span class="ruby-keyword kw">yield</span>
618:           <span class="ruby-keyword kw">end</span>
619:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002286">
                    
                    <a name="M002286"></a><b>match</b>(*args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002286_source')" id="l_M002286_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L681" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002286_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 681</span>
681:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">match</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
682:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>.<span class="ruby-identifier">dup</span>
683:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:anchor</span>] = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">:anchor</span>)
684: 
685:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
686:             <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">match</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>) }
687:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
688:           <span class="ruby-keyword kw">end</span>
689: 
690:           <span class="ruby-identifier">on</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:on</span>)
691:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">VALID_ON_OPTIONS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">on</span>)
692:             <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">options</span>)
693:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">on</span>){ <span class="ruby-identifier">match</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
694:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">on</span>
695:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Unknown scope #{on.inspect} given to :on&quot;</span>
696:           <span class="ruby-keyword kw">end</span>
697: 
698:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:resources</span>
699:             <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">options</span>)
700:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">nested</span> { <span class="ruby-identifier">match</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
701:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:resource</span>
702:             <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">options</span>)
703:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">member</span> { <span class="ruby-identifier">match</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
704:           <span class="ruby-keyword kw">end</span>
705: 
706:           <span class="ruby-identifier">action</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
707:           <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path_for_action</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:path</span>))
708: 
709:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[\w\/]+$/</span>
710:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:action</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">action</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;/&quot;</span>)
711:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:as</span>] = <span class="ruby-identifier">name_for_action</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:as</span>])
712:           <span class="ruby-keyword kw">else</span>
713:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:as</span>] = <span class="ruby-identifier">name_for_action</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:as</span>])
714:           <span class="ruby-keyword kw">end</span>
715: 
716:           <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>)
717:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002280">
                    
                    <a name="M002280"></a><b>member</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002280_source')" id="l_M002280_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L621" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002280_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 621</span>
621:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">member</span>
622:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">resource_scope?</span>
623:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;can't use member outside resource(s) scope&quot;</span>
624:           <span class="ruby-keyword kw">end</span>
625: 
626:           <span class="ruby-identifier">member_scope</span> <span class="ruby-keyword kw">do</span>
627:             <span class="ruby-keyword kw">yield</span>
628:           <span class="ruby-keyword kw">end</span>
629:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002283">
                    
                    <a name="M002283"></a><b>namespace</b>(path, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002283_source')" id="l_M002283_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L663" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002283_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 663</span>
663:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespace</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {})
664:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">resource_scope?</span>
665:             <span class="ruby-identifier">nested</span> { <span class="ruby-keyword kw">super</span> }
666:           <span class="ruby-keyword kw">else</span>
667:             <span class="ruby-keyword kw">super</span>
668:           <span class="ruby-keyword kw">end</span>
669:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002282">
                    
                    <a name="M002282"></a><b>nested</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002282_source')" id="l_M002282_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L641" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002282_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 641</span>
641:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nested</span>
642:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">resource_scope?</span>
643:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;can't use nested outside resource(s) scope&quot;</span>
644:           <span class="ruby-keyword kw">end</span>
645: 
646:           <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">:nested</span>) <span class="ruby-keyword kw">do</span>
647:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">shallow?</span>
648:               <span class="ruby-identifier">with_exclusive_scope</span> <span class="ruby-keyword kw">do</span>
649:                 <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:shallow_path</span>].<span class="ruby-identifier">blank?</span>
650:                   <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">nested_scope</span>, <span class="ruby-identifier">nested_options</span>) { <span class="ruby-keyword kw">yield</span> }
651:                 <span class="ruby-keyword kw">else</span>
652:                   <span class="ruby-identifier">scope</span>(<span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:shallow_path</span>], <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:shallow_prefix</span>]) <span class="ruby-keyword kw">do</span>
653:                     <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">nested_scope</span>, <span class="ruby-identifier">nested_options</span>) { <span class="ruby-keyword kw">yield</span> }
654:                   <span class="ruby-keyword kw">end</span>
655:                 <span class="ruby-keyword kw">end</span>
656:               <span class="ruby-keyword kw">end</span>
657:             <span class="ruby-keyword kw">else</span>
658:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">nested_scope</span>, <span class="ruby-identifier">nested_options</span>) { <span class="ruby-keyword kw">yield</span> }
659:             <span class="ruby-keyword kw">end</span>
660:           <span class="ruby-keyword kw">end</span>
661:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002281">
                    
                    <a name="M002281"></a><b>new</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002281_source')" id="l_M002281_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L631" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002281_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 631</span>
631:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new</span>
632:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">resource_scope?</span>
633:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;can't use new outside resource(s) scope&quot;</span>
634:           <span class="ruby-keyword kw">end</span>
635: 
636:           <span class="ruby-identifier">new_scope</span> <span class="ruby-keyword kw">do</span>
637:             <span class="ruby-keyword kw">yield</span>
638:           <span class="ruby-keyword kw">end</span>
639:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002277">
                    
                    <a name="M002277"></a><b>resource</b>(*resources, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002277_source')" id="l_M002277_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L552" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002277_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 552</span>
552:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">resources</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
553:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">extract_options!</span>
554: 
555:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">apply_common_behavior_for</span>(<span class="ruby-identifier">:resource</span>, <span class="ruby-identifier">resources</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
556:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
557:           <span class="ruby-keyword kw">end</span>
558: 
559:           <span class="ruby-identifier">resource_scope</span>(<span class="ruby-constant">SingletonResource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">resources</span>.<span class="ruby-identifier">pop</span>, <span class="ruby-identifier">options</span>)) <span class="ruby-keyword kw">do</span>
560:             <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
561: 
562:             <span class="ruby-identifier">collection_scope</span> <span class="ruby-keyword kw">do</span>
563:               <span class="ruby-identifier">post</span> <span class="ruby-identifier">:create</span>
564:             <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:create</span>)
565: 
566:             <span class="ruby-identifier">new_scope</span> <span class="ruby-keyword kw">do</span>
567:               <span class="ruby-identifier">get</span> <span class="ruby-identifier">:new</span>
568:             <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:new</span>)
569: 
570:             <span class="ruby-identifier">member_scope</span>  <span class="ruby-keyword kw">do</span>
571:               <span class="ruby-identifier">get</span>    <span class="ruby-identifier">:edit</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:edit</span>)
572:               <span class="ruby-identifier">get</span>    <span class="ruby-identifier">:show</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:show</span>)
573:               <span class="ruby-identifier">put</span>    <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:update</span>)
574:               <span class="ruby-identifier">delete</span> <span class="ruby-identifier">:destroy</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:destroy</span>)
575:             <span class="ruby-keyword kw">end</span>
576:           <span class="ruby-keyword kw">end</span>
577: 
578:           <span class="ruby-keyword kw">self</span>
579:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002278">
                    
                    <a name="M002278"></a><b>resources</b>(*resources, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002278_source')" id="l_M002278_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L581" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002278_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 581</span>
581:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resources</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">resources</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
582:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">extract_options!</span>
583: 
584:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">apply_common_behavior_for</span>(<span class="ruby-identifier">:resources</span>, <span class="ruby-identifier">resources</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
585:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
586:           <span class="ruby-keyword kw">end</span>
587: 
588:           <span class="ruby-identifier">resource_scope</span>(<span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">resources</span>.<span class="ruby-identifier">pop</span>, <span class="ruby-identifier">options</span>)) <span class="ruby-keyword kw">do</span>
589:             <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
590: 
591:             <span class="ruby-identifier">collection_scope</span> <span class="ruby-keyword kw">do</span>
592:               <span class="ruby-identifier">get</span>  <span class="ruby-identifier">:index</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:index</span>)
593:               <span class="ruby-identifier">post</span> <span class="ruby-identifier">:create</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:create</span>)
594:             <span class="ruby-keyword kw">end</span>
595: 
596:             <span class="ruby-identifier">new_scope</span> <span class="ruby-keyword kw">do</span>
597:               <span class="ruby-identifier">get</span> <span class="ruby-identifier">:new</span>
598:             <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:new</span>)
599: 
600:             <span class="ruby-identifier">member_scope</span>  <span class="ruby-keyword kw">do</span>
601:               <span class="ruby-identifier">get</span>    <span class="ruby-identifier">:edit</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:edit</span>)
602:               <span class="ruby-identifier">get</span>    <span class="ruby-identifier">:show</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:show</span>)
603:               <span class="ruby-identifier">put</span>    <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:update</span>)
604:               <span class="ruby-identifier">delete</span> <span class="ruby-identifier">:destroy</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">actions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:destroy</span>)
605:             <span class="ruby-keyword kw">end</span>
606:           <span class="ruby-keyword kw">end</span>
607: 
608:           <span class="ruby-keyword kw">self</span>
609:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002276">
                    
                    <a name="M002276"></a><b>resources_path_names</b>(options)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002276_source')" id="l_M002276_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L548" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002276_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 548</span>
548:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resources_path_names</span>(<span class="ruby-identifier">options</span>)
549:           <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:path_names</span>].<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
550:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002287">
                    
                    <a name="M002287"></a><b>root</b>(options={})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002287_source')" id="l_M002287_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L719" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002287_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 719</span>
719:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>(<span class="ruby-identifier">options</span>={})
720:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:resources</span>
721:             <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">:root</span>) <span class="ruby-keyword kw">do</span>
722:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword kw">do</span>
723:                 <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">options</span>)
724:               <span class="ruby-keyword kw">end</span>
725:             <span class="ruby-keyword kw">end</span>
726:           <span class="ruby-keyword kw">else</span>
727:             <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">options</span>)
728:           <span class="ruby-keyword kw">end</span>
729:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002284">
                    
                    <a name="M002284"></a><b>shallow</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002284_source')" id="l_M002284_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L671" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002284_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 671</span>
671:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shallow</span>
672:           <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
673:             <span class="ruby-keyword kw">yield</span>
674:           <span class="ruby-keyword kw">end</span>
675:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002285">
                    
                    <a name="M002285"></a><b>shallow?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002285_source')" id="l_M002285_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L677" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002285_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 677</span>
677:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shallow?</span>
678:           <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">Resource</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:shallow</span>]
679:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M002290">
                    
                    <a name="M002290"></a><b>action_options?</b>(options)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002290_source')" id="l_M002290_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L769" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002290_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 769</span>
769:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">action_options?</span>(<span class="ruby-identifier">options</span>)
770:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:only</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:except</span>]
771:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002307">
                    
                    <a name="M002307"></a><b>action_path</b>(name, path = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002307_source')" id="l_M002307_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L877" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002307_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 877</span>
877:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">action_path</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>)
878:             <span class="ruby-identifier">path</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
879:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002289">
                    
                    <a name="M002289"></a><b>apply_common_behavior_for</b>(method, resources, options, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002289_source')" id="l_M002289_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L737" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002289_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 737</span>
737:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">apply_common_behavior_for</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">resources</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
738:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
739:               <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">r</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }
740:               <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
741:             <span class="ruby-keyword kw">end</span>
742: 
743:             <span class="ruby-identifier">options</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
744:               (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:constraints</span>] <span class="ruby-operator">||=</span> {})[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">k</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Regexp</span>)
745:             <span class="ruby-keyword kw">end</span>
746: 
747:             <span class="ruby-identifier">scope_options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-constant">RESOURCE_OPTIONS</span>)
748:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">scope_options</span>.<span class="ruby-identifier">empty?</span>
749:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">scope_options</span>) <span class="ruby-keyword kw">do</span>
750:                 <span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">pop</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
751:               <span class="ruby-keyword kw">end</span>
752:               <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
753:             <span class="ruby-keyword kw">end</span>
754: 
755:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">action_options?</span>(<span class="ruby-identifier">options</span>)
756:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">scope_action_options</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scope_action_options?</span>
757:             <span class="ruby-keyword kw">end</span>
758: 
759:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">resource_scope?</span>
760:               <span class="ruby-identifier">nested</span> <span class="ruby-keyword kw">do</span>
761:                 <span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">pop</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
762:               <span class="ruby-keyword kw">end</span>
763:               <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
764:             <span class="ruby-keyword kw">end</span>
765: 
766:             <span class="ruby-keyword kw">false</span>
767:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002304">
                    
                    <a name="M002304"></a><b>canonical_action?</b>(action, flag)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002304_source')" id="l_M002304_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L858" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002304_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 858</span>
858:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">canonical_action?</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">flag</span>)
859:             <span class="ruby-identifier">flag</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">resource_method_scope?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">CANONICAL_ACTIONS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>)
860:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002299">
                    
                    <a name="M002299"></a><b>collection_scope</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002299_source')" id="l_M002299_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L827" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002299_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 827</span>
827:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collection_scope</span>
828:             <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">:collection</span>) <span class="ruby-keyword kw">do</span>
829:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">collection_scope</span>) <span class="ruby-keyword kw">do</span>
830:                 <span class="ruby-keyword kw">yield</span>
831:               <span class="ruby-keyword kw">end</span>
832:             <span class="ruby-keyword kw">end</span>
833:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002303">
                    
                    <a name="M002303"></a><b>id_constraint</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002303_source')" id="l_M002303_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L854" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002303_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 854</span>
854:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id_constraint</span>
855:             <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:id</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:constraints</span>][<span class="ruby-identifier">:id</span>]
856:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002302">
                    
                    <a name="M002302"></a><b>id_constraint?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002302_source')" id="l_M002302_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L850" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002302_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 850</span>
850:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id_constraint?</span>
851:             <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:id</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Regexp</span>) <span class="ruby-operator">||</span> (<span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:constraints</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:constraints</span>][<span class="ruby-identifier">:id</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Regexp</span>))
852:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002300">
                    
                    <a name="M002300"></a><b>member_scope</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002300_source')" id="l_M002300_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L835" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002300_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 835</span>
835:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">member_scope</span>
836:             <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">:member</span>) <span class="ruby-keyword kw">do</span>
837:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">member_scope</span>) <span class="ruby-keyword kw">do</span>
838:                 <span class="ruby-keyword kw">yield</span>
839:               <span class="ruby-keyword kw">end</span>
840:             <span class="ruby-keyword kw">end</span>
841:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002309">
                    
                    <a name="M002309"></a><b>name_for_action</b>(action, as=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002309_source')" id="l_M002309_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L891" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002309_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 891</span>
891:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_for_action</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">as</span>=<span class="ruby-keyword kw">nil</span>)
892:             <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">prefix_name_for_action</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">as</span>)
893:             <span class="ruby-identifier">prefix</span> = <span class="ruby-constant">Mapper</span>.<span class="ruby-identifier">normalize_name</span>(<span class="ruby-identifier">prefix</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>
894:             <span class="ruby-identifier">name_prefix</span> = <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:as</span>]
895: 
896:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_resource</span>
897:               <span class="ruby-identifier">collection_name</span> = <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">collection_name</span>
898:               <span class="ruby-identifier">member_name</span> = <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">member_name</span>
899:             <span class="ruby-keyword kw">end</span>
900: 
901:             <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">case</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>]
902:             <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:nested</span>
903:               [<span class="ruby-identifier">member_name</span>, <span class="ruby-identifier">prefix</span>]
904:             <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:collection</span>
905:               [<span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">collection_name</span>]
906:             <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:new</span>
907:               [<span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">member_name</span>]
908:             <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:member</span>
909:               [<span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">shallow_scoping?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:shallow_prefix</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">member_name</span>]
910:             <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:root</span>
911:               [<span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">collection_name</span>, <span class="ruby-identifier">prefix</span>]
912:             <span class="ruby-keyword kw">else</span>
913:               [<span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">member_name</span>, <span class="ruby-identifier">prefix</span>]
914:             <span class="ruby-keyword kw">end</span>
915: 
916:             <span class="ruby-identifier">name</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:present?</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;_&quot;</span>).<span class="ruby-identifier">presence</span>
917:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002301">
                    
                    <a name="M002301"></a><b>nested_options</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002301_source')" id="l_M002301_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L843" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002301_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 843</span>
843:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nested_options</span>
844:             {}.<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
845:               <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:as</span>] = <span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">member_name</span>
846:               <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:constraints</span>] = { <span class="ruby-node">&quot;#{parent_resource.singular}_id&quot;</span>.<span class="ruby-identifier">to_sym</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id_constraint</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">id_constraint?</span>
847:             <span class="ruby-keyword kw">end</span>
848:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002298">
                    
                    <a name="M002298"></a><b>new_scope</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002298_source')" id="l_M002298_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L819" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002298_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 819</span>
819:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_scope</span>
820:             <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">:new</span>) <span class="ruby-keyword kw">do</span>
821:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">new_scope</span>(<span class="ruby-identifier">action_path</span>(<span class="ruby-identifier">:new</span>))) <span class="ruby-keyword kw">do</span>
822:                 <span class="ruby-keyword kw">yield</span>
823:               <span class="ruby-keyword kw">end</span>
824:             <span class="ruby-keyword kw">end</span>
825:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002306">
                    
                    <a name="M002306"></a><b>path_for_action</b>(action, path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002306_source')" id="l_M002306_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L866" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002306_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 866</span>
866:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path_for_action</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">path</span>)
867:             <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">shallow_scoping?</span> <span class="ruby-value">?
868: </span>              <span class="ruby-node">&quot;#{@scope[:shallow_path]}/#{parent_resource.path}/:id&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:path</span>]
869: 
870:             <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">canonical_action?</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">path</span>.<span class="ruby-identifier">blank?</span>)
871:               <span class="ruby-identifier">prefix</span>.<span class="ruby-identifier">to_s</span>
872:             <span class="ruby-keyword kw">else</span>
873:               <span class="ruby-node">&quot;#{prefix}/#{action_path(action, path)}&quot;</span>
874:             <span class="ruby-keyword kw">end</span>
875:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002308">
                    
                    <a name="M002308"></a><b>prefix_name_for_action</b>(action, as)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002308_source')" id="l_M002308_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L881" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002308_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 881</span>
881:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefix_name_for_action</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">as</span>)
882:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">as</span>.<span class="ruby-identifier">present?</span>
883:               <span class="ruby-identifier">as</span>.<span class="ruby-identifier">to_s</span>
884:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">as</span>
885:               <span class="ruby-keyword kw">nil</span>
886:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">canonical_action?</span>(<span class="ruby-identifier">action</span>, <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>])
887:               <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>
888:             <span class="ruby-keyword kw">end</span>
889:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002294">
                    
                    <a name="M002294"></a><b>resource_method_scope?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002294_source')" id="l_M002294_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L785" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002294_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 785</span>
785:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_method_scope?</span>
786:             [<span class="ruby-identifier">:collection</span>, <span class="ruby-identifier">:member</span>, <span class="ruby-identifier">:new</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>])
787:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002297">
                    
                    <a name="M002297"></a><b>resource_scope</b>(resource)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002297_source')" id="l_M002297_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L811" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002297_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 811</span>
811:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_scope</span>(<span class="ruby-identifier">resource</span>)
812:             <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">resource</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SingletonResource</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">:resource</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:resources</span>, <span class="ruby-identifier">resource</span>) <span class="ruby-keyword kw">do</span>
813:               <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">parent_resource</span>.<span class="ruby-identifier">resource_scope</span>) <span class="ruby-keyword kw">do</span>
814:                 <span class="ruby-keyword kw">yield</span>
815:               <span class="ruby-keyword kw">end</span>
816:             <span class="ruby-keyword kw">end</span>
817:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002293">
                    
                    <a name="M002293"></a><b>resource_scope?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002293_source')" id="l_M002293_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L781" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002293_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 781</span>
781:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_scope?</span>
782:             [<span class="ruby-identifier">:resource</span>, <span class="ruby-identifier">:resources</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>])
783:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002292">
                    
                    <a name="M002292"></a><b>scope_action_options</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002292_source')" id="l_M002292_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L777" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002292_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 777</span>
777:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scope_action_options</span>
778:             <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">:only</span>, <span class="ruby-identifier">:except</span>)
779:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002291">
                    
                    <a name="M002291"></a><b>scope_action_options?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002291_source')" id="l_M002291_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L773" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002291_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 773</span>
773:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scope_action_options?</span>
774:             <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:only</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:except</span>])
775:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002305">
                    
                    <a name="M002305"></a><b>shallow_scoping?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002305_source')" id="l_M002305_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L862" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002305_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 862</span>
862:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shallow_scoping?</span>
863:             <span class="ruby-identifier">shallow?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:member</span>
864:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002295">
                    
                    <a name="M002295"></a><b>with_exclusive_scope</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002295_source')" id="l_M002295_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L789" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002295_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 789</span>
789:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_exclusive_scope</span>
790:             <span class="ruby-keyword kw">begin</span>
791:               <span class="ruby-identifier">old_name_prefix</span>, <span class="ruby-identifier">old_path</span> = <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:as</span>], <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:path</span>]
792:               <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:as</span>], <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:path</span>] = <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>
793: 
794:               <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">:exclusive</span>) <span class="ruby-keyword kw">do</span>
795:                 <span class="ruby-keyword kw">yield</span>
796:               <span class="ruby-keyword kw">end</span>
797:             <span class="ruby-keyword kw">ensure</span>
798:               <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:as</span>], <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:path</span>] = <span class="ruby-identifier">old_name_prefix</span>, <span class="ruby-identifier">old_path</span>
799:             <span class="ruby-keyword kw">end</span>
800:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002296">
                    
                    <a name="M002296"></a><b>with_scope_level</b>(kind, resource = parent_resource)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002296_source')" id="l_M002296_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/37467bf0fca73bedb7db6c84e74950c40aec9247/actionpack/lib/action_dispatch/routing/mapper.rb#L802" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002296_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/routing/mapper.rb, line 802</span>
802:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_scope_level</span>(<span class="ruby-identifier">kind</span>, <span class="ruby-identifier">resource</span> = <span class="ruby-identifier">parent_resource</span>)
803:             <span class="ruby-identifier">old</span>, <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] = <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>], <span class="ruby-identifier">kind</span>
804:             <span class="ruby-identifier">old_resource</span>, <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level_resource</span>] = <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level_resource</span>], <span class="ruby-identifier">resource</span>
805:             <span class="ruby-keyword kw">yield</span>
806:           <span class="ruby-keyword kw">ensure</span>
807:             <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level</span>] = <span class="ruby-identifier">old</span>
808:             <span class="ruby-ivar">@scope</span>[<span class="ruby-identifier">:scope_level_resource</span>] = <span class="ruby-identifier">old_resource</span>
809:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    