<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>NEWS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            NEWS
        </h1>
        <ul class="files">
            <li>NEWS</li>
            <li>Last modified: 2009-08-14 10:44:25 +0000</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <h1><a href="NEWS.html">NEWS</a></h1>
<p>
This document is a list of user visible feature changes made between
releases except for bug fixes.
</p>
<p>
Note that each entry is kept so brief that no reason behind or reference
information is supplied with. For a full list of changes with all
sufficient information, see the ChangeLog file.
</p>
<ul>
<li><a href="../classes/REXML.html">REXML</a>

<ul>
<li><a
href="../classes/REXML/Document.html#M001872">REXML::Document.entity_expansion_limit=</a>

<p>
New method to set the entity expansion limit. By default the limit is set
to 10000. See the following URL for details.
</p>
<p>
<a
href="http://www.ruby-lang.org/en/news/2008/08/23/dos-vulnerability-in-rexml">www.ruby-lang.org/en/news/2008/08/23/dos-vulnerability-in-rexml</a>/
</p>
</li>
</ul>
</li>
</ul>
<h2>Changes since the 1.8.6 release</h2>
<h3>Configuration changes</h3>
<ul>
<li>vendor_ruby directory

<p>
A new library directory named `vendor_ruby&#8217; is introduced in addition
to `site_ruby&#8217;. The idea is to separate libraries installed by the
package system (`vendor&#8217;) from manually (`site&#8217;) installed
libraries preventing the former from getting overwritten by the latter,
while preserving the user option to override vendor libraries with site
libraries. (`site_ruby&#8217; takes precedence over `vendor_ruby&#8217;)
</p>
<p>
If you are a package maintainer, make each library package configure the
library passing the `&#8212;vendor&#8217; option to `extconf.rb&#8217; so
that the library files will get installed under `vendor_ruby&#8217;.
</p>
<p>
You can change the directory locations using configure options such as
`&#8212;with-sitedir=DIR&#8217; and `&#8212;with-vendordir=DIR&#8217;.
</p>
</li>
</ul>
<h3>Global constants</h3>
<ul>
<li>new constants

<ul>
<li>RUBY_COPYRIGHT

</li>
<li>RUBY_DESCRIPTION

</li>
</ul>
</li>
</ul>
<h3>Library updates (outstanding ones only)</h3>
<ul>
<li>new library

<ul>
<li>securerandom

</li>
</ul>
</li>
<li>builtin classes

<ul>
<li><a href="../classes/Array.html#M000080">Array#flatten</a>

</li>
<li><a href="../classes/Array.html#M000081">Array#flatten!</a>

<p>
Takes an optional argument that determines the level of recursion to
flatten.
</p>
</li>
<li><a href="../classes/Array.html#M000019">Array#eql?</a>

</li>
<li><a href="../classes/Array.html#M000020">Array#hash</a>

</li>
<li>Array#==

</li>
<li>Array#<=>

<p>
Handle recursive data properly.
</p>
</li>
<li><a href="../classes/Array.html#M000040">Array#index</a>

</li>
<li><a href="../classes/Array.html#M000041">Array#rindex</a>

<p>
Take a block instead of an argument.
</p>
</li>
<li><a href="../classes/Array.html#M000050">Array#collect!</a>

</li>
<li><a href="../classes/Array.html#M000052">Array#map!</a>

</li>
<li><a href="../classes/Array.html#M000034">Array#each</a>

</li>
<li><a href="../classes/Array.html#M000035">Array#each_index</a>

</li>
<li><a href="../classes/Array.html#M000036">Array#reverse_each</a>

</li>
<li><a href="../classes/Array.html#M000058">Array#reject</a>

</li>
<li><a href="../classes/Array.html#M000059">Array#reject!</a>

</li>
<li><a href="../classes/Array.html#M000057">Array#delete_if</a>

<p>
Return an enumerator if no block is given.
</p>
<p>
Note that map and collect still return an array unlike Ruby 1.9 to keep
compatibility.
</p>
</li>
<li><a href="../classes/Array.html#M000030">Array#pop</a>

</li>
<li><a href="../classes/Array.html#M000031">Array#shift</a>

<p>
Take an optional argument specifying the number of elements to remove.
</p>
</li>
<li><a href="../classes/Array.html#M000086">Array#choice</a>

</li>
<li><a href="../classes/Array.html#M000089">Array#combination</a>

</li>
<li><a href="../classes/Array.html#M000087">Array#cycle</a>

</li>
<li><a href="../classes/Array.html#M000093">Array#drop</a>

</li>
<li><a href="../classes/Array.html#M000094">Array#drop_while</a>

</li>
<li><a href="../classes/Array.html#M000088">Array#permutation</a>

</li>
<li><a href="../classes/Array.html#M000090">Array#product</a>

</li>
<li><a href="../classes/Array.html#M000085">Array#shuffle</a>

</li>
<li><a href="../classes/Array.html#M000084">Array#shuffle!</a>

</li>
<li><a href="../classes/Array.html#M000091">Array#take</a>,

</li>
<li><a href="../classes/Array.html#M000092">Array#take_while</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/Binding.html#M001118">Binding#eval</a>

<p>
New method.
</p>
</li>
<li><a href="../classes/Dir.html#M000658">Dir#each</a>

</li>
<li><a href="../classes/Dir.html#M000652">Dir#foreach</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/Enumerable/Enumerator.html">Enumerable::Enumerator</a>

<p>
New class for various enumeration defined by the enumerator library.
</p>
</li>
<li><a href="../classes/Enumerable.html#M000114">Enumerable#each_slice</a>

</li>
<li><a href="../classes/Enumerable.html#M000116">Enumerable#each_cons</a>

</li>
<li><a href="../classes/Object.html#M000112">Object#to_enum</a>

</li>
<li><a href="../classes/Object.html#M000113">Object#enum_for</a>

<p>
New methods for various enumeration defined by the enumerator library.
</p>
</li>
<li><a href="../classes/Enumerable.html#M000616">Enumerable#count</a>

</li>
<li><a href="../classes/Enumerable.html#M000650">Enumerable#cycle</a>

</li>
<li><a href="../classes/Enumerable.html#M000648">Enumerable#drop</a>

</li>
<li><a href="../classes/Enumerable.html#M000649">Enumerable#drop_while</a>

</li>
<li><a href="../classes/Enumerable.html#M000619">Enumerable#find_index</a>

</li>
<li><a href="../classes/Enumerable.html#M000629">Enumerable#first</a>

</li>
<li><a href="../classes/Enumerable.html#M000628">Enumerable#group_by</a>

</li>
<li><a href="../classes/Enumerable.html#M000638">Enumerable#max_by</a>

</li>
<li><a href="../classes/Enumerable.html#M000637">Enumerable#min_by</a>

</li>
<li><a href="../classes/Enumerable.html#M000636">Enumerable#minmax</a>

</li>
<li><a href="../classes/Enumerable.html#M000639">Enumerable#minmax_by</a>

</li>
<li><a href="../classes/Enumerable.html#M000633">Enumerable#none?</a>

</li>
<li><a href="../classes/Enumerable.html#M000632">Enumerable#one?</a>

</li>
<li><a href="../classes/Enumerable.html#M000646">Enumerable#take</a>

</li>
<li><a href="../classes/Enumerable.html#M000647">Enumerable#take_while</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/Enumerable.html#M000617">Enumerable#find</a>

</li>
<li><a href="../classes/Enumerable.html#M000620">Enumerable#find_all</a>

</li>
<li><a href="../classes/Enumerable.html#M000627">Enumerable#partition</a>

</li>
<li><a href="../classes/Enumerable.html#M000622">Enumerable#reject</a>

</li>
<li><a href="../classes/Enumerable.html#M000621">Enumerable#select</a>

</li>
<li><a href="../classes/Enumerable.html#M000614">Enumerable#sort_by</a>

<p>
Return an enumerator if no block is given.
</p>
<p>
Note that map and collect still return an array unlike Ruby 1.9 to keep
compatibility.
</p>
</li>
<li><a href="../classes/Enumerable.html#M000625">Enumerable#inject</a>

<p>
Accepts a binary operator instead of a block.
</p>
</li>
<li><a href="../classes/Enumerable.html#M000626">Enumerable#reduce</a>

<p>
New alias to inject.
</p>
</li>
<li><a href="../classes/Hash.html#M000688">Hash#eql?</a>

</li>
<li><a href="../classes/Hash.html#M000687">Hash#hash</a>

</li>
<li>Hash#==

<p>
Handle recursive data properly.
</p>
</li>
<li><a href="../classes/Hash.html#M000711">Hash#delete_if</a>

</li>
<li><a href="../classes/Hash.html#M000701">Hash#each</a>

</li>
<li><a href="../classes/Hash.html#M000703">Hash#each_key</a>

</li>
<li><a href="../classes/Hash.html#M000704">Hash#each_pair</a>

</li>
<li><a href="../classes/Hash.html#M000702">Hash#each_value</a>

</li>
<li><a href="../classes/Hash.html#M000714">Hash#reject!</a>

</li>
<li><a href="../classes/Hash.html#M000712">Hash#select</a>

</li>
<li>ENV.delete_if

</li>
<li>ENV.each

</li>
<li>ENV.each_key

</li>
<li>ENV.each_pair

</li>
<li>ENV.each_value

</li>
<li>ENV.reject!

</li>
<li>ENV.select

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/GC.html#M000596">GC.stress</a>

</li>
<li><a href="../classes/GC.html#M000597">GC.stress=</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/Integer.html#M000372">Integer#ord</a>

</li>
<li><a href="../classes/Integer.html#M000363">Integer#odd?</a>

</li>
<li><a href="../classes/Integer.html#M000364">Integer#even?</a>

</li>
<li><a href="../classes/Integer.html#M000370">Integer#pred</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/Integer.html#M000366">Integer#downto</a>

</li>
<li><a href="../classes/Integer.html#M000367">Integer#times</a>

</li>
<li><a href="../classes/Integer.html#M000365">Integer#upto</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/IO.html#M000526">IO#each</a>

</li>
<li><a href="../classes/IO.html#M000527">IO#each_line</a>

</li>
<li><a href="../classes/IO.html#M000528">IO#each_byte</a>

</li>
<li><a href="../classes/IO.html#M000514">IO.foreach</a>

</li>
<li>ARGF.each

</li>
<li>ARGF.each_line

</li>
<li>ARGF.each_byte

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/IO.html#M000531">IO#bytes</a>

</li>
<li><a href="../classes/IO.html#M000532">IO#chars</a>

</li>
<li><a href="../classes/IO.html#M000529">IO#each_char</a>

</li>
<li><a href="../classes/IO.html#M000553">IO#getbyte</a>

</li>
<li><a href="../classes/IO.html#M000530">IO#lines</a>

</li>
<li><a href="../classes/IO.html#M000555">IO#readbyte</a>

</li>
<li>ARGF.bytes

</li>
<li>ARGF.chars

</li>
<li>ARGF.each_char

</li>
<li>ARGF.getbyte

</li>
<li>ARGF.lines

</li>
<li>ARGF.readbyte

<p>
New methods.
</p>
</li>
<li><a href="../classes/Method.html#M001103">Method#name</a>

</li>
<li><a href="../classes/Method.html#M001104">Method#owner</a>

</li>
<li><a href="../classes/Method.html#M001102">Method#receiver</a>

</li>
<li><a href="../classes/UnboundMethod.html#M001112">UnboundMethod#name</a>

</li>
<li><a href="../classes/UnboundMethod.html#M001113">UnboundMethod#owner</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/Module.html#M001066">Module#class_exec</a>

</li>
<li><a href="../classes/Module.html#M001064">Module#module_exec</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/Numeric.html#M000361">Numeric#step</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/Object.html#M001049">Object#instance_exec</a>

</li>
<li><a href="../classes/Object.html#M000947">Object#tap</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/ObjectSpace.html#M000599">ObjectSpace.each_object</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/Process.html#M000125">Process.exec</a> implemented.

</li>
<li><a href="../classes/Range.html#M000101">Range#each</a>

</li>
<li><a href="../classes/Range.html#M000102">Range#step</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/Regexp.html#M000475">Regexp.union</a> accepts an array
of patterns.

</li>
<li><a href="../classes/String.html#M000251">String#bytesize</a>

<p>
New method, returning the size in bytes. (alias length and size)
</p>
</li>
<li><a href="../classes/String.html#M000323">String#chars</a>

</li>
<li><a href="../classes/String.html#M000320">String#each_char</a>

</li>
<li><a href="../classes/String.html#M000327">String#partition</a>

</li>
<li><a href="../classes/String.html#M000328">String#rpartition</a>

</li>
<li><a href="../classes/String.html#M000288">String#start_with?</a>

</li>
<li><a href="../classes/String.html#M000289">String#end_with?</a>

<p>
New methods. These are $KCODE aware unlike index, rindex and include?.
</p>
</li>
<li><a href="../classes/String.html#M000319">String#each_byte</a>

</li>
<li><a href="../classes/String.html#M000318">String#each</a>

</li>
<li><a href="../classes/String.html#M000317">String#each_line</a>

</li>
<li><a href="../classes/String.html#M000295">String#gsub(pattern)</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/String.html#M000259">String#upto</a>

<p>
An optional second argument is added to specify if the last value should be
included.
</p>
</li>
<li><a href="../classes/StopIteration.html">StopIteration</a>

<p>
New exception class that causes <a
href="../classes/Kernel.html#M001169">Kernel#loop</a> to stop iteration
when raised.
</p>
</li>
<li><a href="../classes/Struct.html#M001038">Struct#each</a>

</li>
<li><a href="../classes/Struct.html#M001039">Struct#each_pair</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
<li><a href="../classes/Symbol.html#M000967">Symbol#to_proc</a>

<p>
New method.
</p>
</li>
<li><em>method</em>

<p>
New global function that returns the name of the current method as a <a
href="../classes/Symbol.html">Symbol</a>.
</p>
</li>
</ul>
</li>
<li>enumerator

<ul>
<li>Enumerator is now a built-in module. The next and rewind methods are
implemented using the &#8220;generator&#8221; library. Use with care and be
aware of the performance loss.

</li>
</ul>
</li>
<li>ipaddr

<ul>
<li>New methods

<ul>
<li>IPAddr#<=>

</li>
<li><a href="../classes/IPAddr.html#M001593">IPAddr#succ</a>

<p>
<a href="../classes/IPAddr.html">IPAddr</a> objects are now comparable and
enumerable having these methods. This also means that it is possible to
have a <a href="../classes/Range.html">Range</a> object between two <a
href="../classes/IPAddr.html">IPAddr</a> objects.
</p>
</li>
<li><a href="../classes/IPAddr.html#M001639">IPAddr#to_range</a>

<p>
A new method to create a <a href="../classes/Range.html">Range</a> object
for the (network) address.
</p>
</li>
</ul>
</li>
<li>Type coercion support

<ul>
<li>IPAddr#&amp;

</li>
<li>IPAddr#|

</li>
<li>IPAddr#==

</li>
<li><a href="../classes/IPAddr.html#M001577">IPAddr#include?</a>

<p>
These methods now accept a string or an integer instead of an <a
href="../classes/IPAddr.html">IPAddr</a> object as the argument.
</p>
</li>
</ul>
</li>
</ul>
</li>
<li>net/smtp

<ul>
<li>Support SSL/TLS.

</li>
</ul>
</li>
<li>openssl

<ul>
<li>New classes

<ul>
<li><a href="../classes/OpenSSL/PKey/EC.html">OpenSSL::PKey::EC</a>

</li>
<li><a
href="../classes/OpenSSL/PKey/EC/Group.html">OpenSSL::PKey::EC::Group</a>

</li>
<li><a
href="../classes/OpenSSL/PKey/EC/Point.html">OpenSSL::PKey::EC::Point</a>

</li>
<li><a href="../classes/OpenSSL/PKCS5.html">OpenSSL::PKey::PKCS5</a>

</li>
<li><a href="../classes/OpenSSL/SSL/Session.html">OpenSSL::SSL::Session</a>

</li>
</ul>
</li>
<li>Documentation!

</li>
<li>Various new methods (see documentation).

</li>
<li>Remove redundant module namespace in Cipher, <a
href="../classes/Digest.html">Digest</a>, PKCS7, PKCS12. Compatibility
classes are provided which will be removed in Ruby 1.9.

</li>
</ul>
</li>
<li>shellwords

<ul>
<li>Add methods for escaping shell-unsafe characters:

<ul>
<li><a href="../classes/Shellwords.html#M005840">Shellwords.join</a>

</li>
<li><a href="../classes/Shellwords.html#M005838">Shellwords.escape</a>

</li>
<li><a href="../classes/Array.html#M005870">Array#shelljoin</a>

</li>
<li><a href="../classes/String.html#M005869">String#shellescape</a>

</li>
</ul>
</li>
<li>Add shorthand methods:

<ul>
<li><a href="../classes/Shellwords.html#M005836">Shellwords.split</a> (alias
shellwords)

</li>
<li><a href="../classes/String.html#M005841">String#shellsplit</a>

</li>
</ul>
</li>
</ul>
</li>
<li>stringio

<ul>
<li><a href="../classes/StringIO.html#M007335">StringIO#getbyte</a>

</li>
<li><a href="../classes/StringIO.html#M007338">StringIO#readbyte</a>

<p>
New methods. (aliases for compatibility with 1.9)
</p>
</li>
<li><a href="../classes/StringIO.html#M007332">StringIO#each_char</a>

</li>
<li><a href="../classes/StringIO.html#M007333">StringIO#chars</a>

<p>
New methods.
</p>
</li>
<li><a href="../classes/StringIO.html#M007327">StringIO#each</a>

</li>
<li><a href="../classes/StringIO.html#M007328">StringIO#each_line</a>

</li>
<li><a href="../classes/StringIO.html#M007330">StringIO#each_byte</a>

<p>
Return an enumerator if no block is given.
</p>
</li>
</ul>
</li>
<li>tempfile

<ul>
<li><a href="../classes/Tempfile.html#M005757">Tempfile.open</a> and <a
href="../classes/Tempfile.html#M005755">Tempfile.new</a> now accept a
suffix for the temporary file to be created. To specify a suffix, pass an
array of [basename, suffix] as the first argument.

<pre>
  Tempfile.open(['image', 'jpg']) { |tempfile| ... }
</pre>
</li>
</ul>
</li>
<li>tmpdir

<ul>
<li>New method:

<ul>
<li><a href="../classes/Dir.html#M001820">Dir.mktmpdir</a>

</li>
</ul>
</li>
</ul>
</li>
<li>uri

<ul>
<li>added LDAPS scheme.

</li>
<li>Change for RFC3986:

<ul>
<li>FTP

<ul>
<li>URI(&#8216;<a
href="ftp://example.com/foo').path">example.com/foo').path</a> #=>
&#8216;foo&#8217;

</li>
<li>URI(&#8216;<a
href="ftp://example.com/%2Ffoo').path">example.com/%2Ffoo').path</a> #=>
&#8217;/foo&#8217;

</li>
<li><a href="../classes/URI/FTP.html#M004566">URI::FTP.build</a>([nil,
&#8216;example.com&#8217;, nil, &#8217;/foo&#8217;, &#8216;i&#8217;).to_s
#=> &#8216;<a
href="ftp://example.com/%2Ffoo;type=i">example.com/%2Ffoo;type=i</a>&#8216;

</li>
</ul>
</li>
<li><a href="../classes/URI.html">URI</a> merge

<ul>
<li>URI(&#8216;<a
href="http://a/b/c/d;p?q').merge('?y">a/b/c/d;p?q').merge('?y</a>&#8217;)
== URI(&#8216;<a href="http://a/b/c/d;p?y">a/b/c/d;p?y</a>&#8217;)

</li>
<li>URI(&#8216;<a
href="http://a/b/c/d;p?q').merge('/./g">a/b/c/d;p?q').merge('/./g</a>&#8217;)
== URI(&#8216;<a href="http://a/g">a/g</a>&#8217;)

</li>
<li>URI(&#8216;<a
href="http://a/b/c/d;p?q').merge('/../g">a/b/c/d;p?q').merge('/../g</a>&#8217;)
== URI(&#8216;<a href="http://a/g">a/g</a>&#8217;)

</li>
<li>URI(&#8216;<a
href="http://a/b/c/d;p?q').merge('../../../g">a/b/c/d;p?q').merge('../../../g</a>&#8217;)
== URI(&#8216;<a href="http://a/g">a/g</a>&#8217;)

</li>
<li>URI(&#8216;<a
href="http://a/b/c/d;p?q').merge('../../../../g">a/b/c/d;p?q').merge('../../../../g</a>&#8217;)
== URI(&#8216;<a href="http://a/g">a/g</a>&#8217;)

</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>rss

<ul>
<li>0.1.6 -> 0.2.4

</li>
<li>Fix image module <a href="../classes/URI.html">URI</a>

</li>
<li>Atom support

</li>
<li>ITunes module support

</li>
<li>Slash module support

</li>
<li>content:encoded with RSS 2.0 support

</li>
</ul>
</li>
</ul>
<h3>Interpreter Implementation</h3>
<ul>
<li>passing a block to a <a href="../classes/Proc.html">Proc</a> [experimental]

<p>
This implementation in current shape is known to be buggy/broken,
especially with nested block invocation. Take this as an experimental
feature.
</p>
</li>
<li>stack trace

<p>
On non-<a href="../classes/SystemStackError.html">SystemStackError</a>
exception, full stack trace is shown.
</p>
</li>
</ul>
<h3>Compatibility issues (excluding feature bug fixes)</h3>
<ul>
<li><a href="../classes/String.html#M000326">String#slice!</a> had some
unintentional bugs and they have been fixed because either they disagreed
with documentation or their respective behavior of slice. Unfortunately,
this causes some incompatibilities in the following (somewhat rare) cases.

<ul>
<li>slice! no longer expands the array when an out-of-boundary value is given.

<pre>
  # Ruby 1.8.6
  a = [1,2]
  a.slice!(4,0)   #=&gt; nil
  a               #=&gt; [1,2,nil,nil]

  # Ruby 1.8.7
  a = [1,2]
  a.slice!(4,0)   #=&gt; nil
  a               #=&gt; [1,2]
</pre>
</li>
<li>slice! no longer raises an exception but returns nil when a negative length
or out-of-boundary negative position is given.

<pre>
  # Ruby 1.8.6
  a = [1,2]
  a.slice!(1,-1)  #=&gt; (raises IndexError)
  a.slice!(-5,1)  #=&gt; (raises IndexError)

  # Ruby 1.8.7
  a = [1,2]
  a.slice!(1,-1)  #=&gt; nil
  a.slice!(-5,1)  #=&gt; nil
</pre>
</li>
</ul>
</li>
<li><a href="../classes/String.html#M000263">String#to_i</a>, <a
href="../classes/String.html#M000277">String#hex</a> and <a
href="../classes/String.html#M000278">String#oct</a> no longer accept a
sequence of underscores (`__&#8217;) as part of a number.

<pre>
  # Ruby 1.8.6
  '1__0'.to_i     #=&gt; 10
  '1__0'.to_i(2)  #=&gt; 2  # 0b10
  '1__0'.oct      #=&gt; 8  # 010
  '1__0'.hex      #=&gt; 16 # 0x10

  # Ruby 1.8.7
  '1__0'.to_i     #=&gt; 1
  '1__0'.to_i(2)  #=&gt; 1
  '1__0'.oct      #=&gt; 1
  '1__0'.hex      #=&gt; 1
</pre>
<p>
The old behavior was inconsistent with Ruby syntax and considered as a bug.
</p>
</li>
<li>date

<ul>
<li><a href="../classes/Date.html#M003298">Date.parse</a>

<p>
&#8217;##.##.##&#8217; (where each &#8217;#&#8217; is a digit) is now taken
as &#8216;YY.MM.DD&#8217; instead of &#8216;MM.DD.YY&#8217;. While the
change may confuse you, you can always use <a
href="../classes/Date.html#M003297">Date.strptime()</a> when you know what
you are dealing with.
</p>
</li>
</ul>
</li>
<li>stringio

<ul>
<li><a href="../classes/StringIO.html#M007330">StringIO#each_byte</a>

<p>
The return value changed from nil to self. This is what the document says
and the same as each_line() does.
</p>
</li>
</ul>
</li>
<li>tempfile

<ul>
<li>The file name format has changed. No dots are included by default in
temporary file names any more. See above for how to specify a suffix.

</li>
</ul>
</li>
<li>uri

<ul>
<li>See above for details.

</li>
</ul>
</li>
</ul>
<h2>Changes since the 1.8.5 release</h2>
<h3>New platforms/build tools support</h3>
<ul>
<li>IA64 HP-UX

</li>
<li>Visual C++ 8 SP1

</li>
<li>autoconf 2.6x

</li>
</ul>
<h3>Global constants</h3>
<ul>
<li>RUBY_PATCHLEVEL

<p>
New constant since 1.8.5-p1.
</p>
</li>
</ul>
<h3>Library updates (outstanding ones only)</h3>
<ul>
<li>builtin classes

<ul>
<li>New method: Kernel#instance_variable_defined?

</li>
<li>New method: <a
href="../classes/Module.html#M000992">Module#class_variable_defined?</a>

</li>
<li>New feature: Dir::glob() can now take an array of glob patterns.

</li>
</ul>
</li>
<li>date

<ul>
<li>Updated based on date2 4.0.3.

</li>
</ul>
</li>
<li>digest

<ul>
<li>New internal APIs for C and Ruby.

</li>
<li>Support for autoloading.

<pre>
  require 'digest'

  # autoloads digest/md5
  md = Digest::MD5.digest(&quot;string&quot;)
</pre>
</li>
<li>New digest class methods: file

</li>
<li>New digest instance methods: clone, reset, new, inspect, digest_length
(alias size or length), block_length()

</li>
<li>New library: digest/bubblebabble

</li>
<li>New function: Digest(name)

</li>
</ul>
</li>
<li>fileutils

<ul>
<li>New option for <a
href="../classes/FileUtils.html#M001683">FileUtils.cp_r()</a>:
:remove_destination

</li>
</ul>
</li>
<li>nkf

<ul>
<li>Updated based on nkf as of 2007-01-28.

</li>
</ul>
</li>
<li>thread

<ul>
<li>Replaced with much faster mutex implementation in C. The former
implementation, which is slow but considered to be stable, is available
with a configure option `&#8212;disable-fastthread&#8217;.

</li>
</ul>
</li>
<li>tk

<ul>
<li>Updated Tile extension support based on Tile 0.7.8.

</li>
<li>Support &#8212;without-X11 configure option for non-X11 versions of Tcl/Tk
(e.g. Tcl/Tk Aqua).

</li>
<li>New sample script: irbtkw.rbw &#8212; IRB on Ruby/Tk. It has no trouble
about STDIN blocking on Windows.

</li>
</ul>
</li>
<li>webrick

<ul>
<li>New method: WEBrick::Cookie.parse_set_cookies()

</li>
</ul>
</li>
</ul>
<h3>Compatibility issues (excluding feature bug fixes)</h3>
<ul>
<li>builtin classes

<ul>
<li><a href="../classes/String.html#M000285">String#intern</a> now raises <a
href="../classes/SecurityError.html">SecurityError</a> when $SAFE level is
greater than zero.

</li>
</ul>
</li>
<li>date

<ul>
<li><a href="../classes/Time.html#M003371">Time#to_date</a> and <a
href="../classes/Time.html#M003372">Time#to_datetime</a> are added as
private methods. They cause name conflict error in ActiveSupport 1.4.1 and
prior, which comes with Rails 1.2.2 and prior. Updating ActiveSupport
and/or Rails to the latest versions fixes the problem.

</li>
</ul>
</li>
<li>digest

<ul>
<li>The constructor does no longer take an initial string to feed. The
following examples show how to migrate:

<pre>
  # Before
  md = Digest::MD5.new(&quot;string&quot;)
  # After (works with any version)
  md = Digest::MD5.new.update(&quot;string&quot;)

  # Before
  hd = Digest::MD5.new(&quot;string&quot;).hexdigest
  # After (works with any version)
  hd = Digest::MD5.hexdigest(&quot;string&quot;)
</pre>
</li>
</ul>
</li>
<li>fileutils

<ul>
<li>A minor implementation change breaks Rake <=0.7.1. Updating Rake to 0.7.2
or higher fixes the problem.

</li>
</ul>
</li>
<li>tk

<ul>
<li>Tk::X_Scrollable (Y_Scrollable) is renamed to Tk::XScrollable
(YScrollable). Tk::X_Scrollable (Y_Scrollable) is still available, but it
is an alias name.

</li>
</ul>
</li>
</ul>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>