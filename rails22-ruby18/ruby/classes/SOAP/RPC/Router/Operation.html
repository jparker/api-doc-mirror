<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>SOAP::RPC::Router::Operation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            SOAP::RPC::Router::Operation 
            
                <span class="parent">&lt; 
                    
                    <a href="../../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../files/lib/soap/rpc/router_rb.html">lib/soap/rpc/router.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004098">call</a>,</li>
                
                <li><a href="#M004112">check_style</a>,</li>
                
                <li><a href="#M004113">check_use</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M004095">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004099">receiver</a>,</li>
                
                <li><a href="#M004096">request_default_encodingstyle</a>,</li>
                
                <li><a href="#M004104">request_doc_enc</a>,</li>
                
                <li><a href="#M004105">request_doc_lit</a>,</li>
                
                <li><a href="#M004101">request_document</a>,</li>
                
                <li><a href="#M004100">request_rpc</a>,</li>
                
                <li><a href="#M004102">request_rpc_enc</a>,</li>
                
                <li><a href="#M004103">request_rpc_lit</a>,</li>
                
                <li><a href="#M004097">response_default_encodingstyle</a>,</li>
                
                <li><a href="#M004107">response_doc</a>,</li>
                
                <li><a href="#M004110">response_doc_enc</a>,</li>
                
                <li><a href="#M004111">response_doc_lit</a>,</li>
                
                <li><a href="#M004106">response_rpc</a>,</li>
                
                <li><a href="#M004108">response_rpc_enc</a>,</li>
                
                <li><a href="#M004109">response_rpc_lit</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>name</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>soapaction</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>request_style</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>response_style</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>request_use</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>response_use</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M004095">
                    
                    <a name="M004095"></a><b>new</b>(soapaction, name, param_def, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004095_source')" id="l_M004095_source">show</a>
                        
                    </p>
                    <div id="M004095_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 342</span>
342:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">soapaction</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">param_def</span>, <span class="ruby-identifier">opt</span>)
343:       <span class="ruby-ivar">@soapaction</span> = <span class="ruby-identifier">soapaction</span>
344:       <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">name</span>
345:       <span class="ruby-ivar">@request_style</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:request_style</span>]
346:       <span class="ruby-ivar">@response_style</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:response_style</span>]
347:       <span class="ruby-ivar">@request_use</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:request_use</span>]
348:       <span class="ruby-ivar">@response_use</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:response_use</span>]
349:       <span class="ruby-identifier">check_style</span>(<span class="ruby-ivar">@request_style</span>)
350:       <span class="ruby-identifier">check_style</span>(<span class="ruby-ivar">@response_style</span>)
351:       <span class="ruby-identifier">check_use</span>(<span class="ruby-ivar">@request_use</span>)
352:       <span class="ruby-identifier">check_use</span>(<span class="ruby-ivar">@response_use</span>)
353:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@response_style</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:rpc</span>
354:         <span class="ruby-identifier">request_qname</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:request_qname</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">raise</span>
355:         <span class="ruby-ivar">@rpc_method_factory</span> =
356:           <span class="ruby-constant">RPC</span><span class="ruby-operator">::</span><span class="ruby-constant">SOAPMethodRequest</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">request_qname</span>, <span class="ruby-identifier">param_def</span>, <span class="ruby-ivar">@soapaction</span>)
357:         <span class="ruby-ivar">@rpc_response_qname</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:response_qname</span>]
358:       <span class="ruby-keyword kw">else</span>
359:         <span class="ruby-ivar">@doc_request_qnames</span> = []
360:         <span class="ruby-ivar">@doc_request_qualified</span> = []
361:         <span class="ruby-ivar">@doc_response_qnames</span> = []
362:         <span class="ruby-ivar">@doc_response_qualified</span> = []
363:         <span class="ruby-identifier">param_def</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">inout</span>, <span class="ruby-identifier">paramname</span>, <span class="ruby-identifier">typeinfo</span>, <span class="ruby-identifier">eleinfo</span><span class="ruby-operator">|</span>
364:           <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">nsdef</span>, <span class="ruby-identifier">namedef</span> = <span class="ruby-identifier">typeinfo</span>
365:           <span class="ruby-identifier">qualified</span> = <span class="ruby-identifier">eleinfo</span>
366:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">inout</span>
367:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">SOAPMethod</span><span class="ruby-operator">::</span><span class="ruby-constant">IN</span>
368:             <span class="ruby-ivar">@doc_request_qnames</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">nsdef</span>, <span class="ruby-identifier">namedef</span>)
369:             <span class="ruby-ivar">@doc_request_qualified</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">qualified</span>
370:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">SOAPMethod</span><span class="ruby-operator">::</span><span class="ruby-constant">OUT</span>
371:             <span class="ruby-ivar">@doc_response_qnames</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">nsdef</span>, <span class="ruby-identifier">namedef</span>)
372:             <span class="ruby-ivar">@doc_response_qualified</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">qualified</span>
373:           <span class="ruby-keyword kw">else</span>
374:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(
375:               <span class="ruby-node">&quot;illegal inout definition for document style: #{inout}&quot;</span>)
376:           <span class="ruby-keyword kw">end</span>
377:         <span class="ruby-keyword kw">end</span>
378:       <span class="ruby-keyword kw">end</span>
379:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004098">
                    
                    <a name="M004098"></a><b>call</b>(body, mapping_registry, literal_mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004098_source')" id="l_M004098_source">show</a>
                        
                    </p>
                    <div id="M004098_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 389</span>
389:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">call</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
390:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_style</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:rpc</span>
391:         <span class="ruby-identifier">values</span> = <span class="ruby-identifier">request_rpc</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>,
392:           <span class="ruby-identifier">opt</span>)
393:       <span class="ruby-keyword kw">else</span>
394:         <span class="ruby-identifier">values</span> = <span class="ruby-identifier">request_document</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>,
395:           <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
396:       <span class="ruby-keyword kw">end</span>
397:       <span class="ruby-identifier">result</span> = <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">method</span>(<span class="ruby-ivar">@name</span>.<span class="ruby-identifier">intern</span>).<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)
398:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPFault</span>)
399:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@response_style</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:rpc</span>
400:         <span class="ruby-identifier">response_rpc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
401:       <span class="ruby-keyword kw">else</span>
402:         <span class="ruby-identifier">response_doc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
403:       <span class="ruby-keyword kw">end</span>
404:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004096">
                    
                    <a name="M004096"></a><b>request_default_encodingstyle</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004096_source')" id="l_M004096_source">show</a>
                        
                    </p>
                    <div id="M004096_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 381</span>
381:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_default_encodingstyle</span>
382:       (<span class="ruby-ivar">@request_use</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:encoded</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">EncodingNamespace</span> <span class="ruby-operator">:</span> <span class="ruby-constant">LiteralNamespace</span>
383:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004097">
                    
                    <a name="M004097"></a><b>response_default_encodingstyle</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004097_source')" id="l_M004097_source">show</a>
                        
                    </p>
                    <div id="M004097_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 385</span>
385:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_default_encodingstyle</span>
386:       (<span class="ruby-ivar">@response_use</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:encoded</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">EncodingNamespace</span> <span class="ruby-operator">:</span> <span class="ruby-constant">LiteralNamespace</span>
387:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M004112">
                    
                    <a name="M004112"></a><b>check_style</b>(style)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004112_source')" id="l_M004112_source">show</a>
                        
                    </p>
                    <div id="M004112_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 549</span>
549:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_style</span>(<span class="ruby-identifier">style</span>)
550:       <span class="ruby-keyword kw">unless</span> [<span class="ruby-identifier">:rpc</span>, <span class="ruby-identifier">:document</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">style</span>)
551:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;unknown style: #{style}&quot;</span>)
552:       <span class="ruby-keyword kw">end</span>
553:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004113">
                    
                    <a name="M004113"></a><b>check_use</b>(use)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004113_source')" id="l_M004113_source">show</a>
                        
                    </p>
                    <div id="M004113_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 555</span>
555:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_use</span>(<span class="ruby-identifier">use</span>)
556:       <span class="ruby-keyword kw">unless</span> [<span class="ruby-identifier">:encoded</span>, <span class="ruby-identifier">:literal</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">use</span>)
557:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;unknown use: #{use}&quot;</span>)
558:       <span class="ruby-keyword kw">end</span>
559:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004099">
                    
                    <a name="M004099"></a><b>receiver</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004099_source')" id="l_M004099_source">show</a>
                        
                    </p>
                    <div id="M004099_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 408</span>
408:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">receiver</span>
409:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'must be defined in derived class'</span>)
410:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004104">
                    
                    <a name="M004104"></a><b>request_doc_enc</b>(body, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004104_source')" id="l_M004104_source">show</a>
                        
                    </p>
                    <div id="M004104_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 446</span>
446:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_doc_enc</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
447:       <span class="ruby-identifier">body</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
448:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
449:       }
450:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004105">
                    
                    <a name="M004105"></a><b>request_doc_lit</b>(body, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004105_source')" id="l_M004105_source">show</a>
                        
                    </p>
                    <div id="M004105_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 452</span>
452:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_doc_lit</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
453:       <span class="ruby-identifier">body</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
454:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
455:       }
456:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004101">
                    
                    <a name="M004101"></a><b>request_document</b>(body, mapping_registry, literal_mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004101_source')" id="l_M004101_source">show</a>
                        
                    </p>
                    <div id="M004101_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 424</span>
424:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_document</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
425:       <span class="ruby-comment cmt"># ToDo: compare names with @doc_request_qnames</span>
426:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_use</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:encoded</span>
427:         <span class="ruby-identifier">request_doc_enc</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
428:       <span class="ruby-keyword kw">else</span>
429:         <span class="ruby-identifier">request_doc_lit</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
430:       <span class="ruby-keyword kw">end</span>
431:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004100">
                    
                    <a name="M004100"></a><b>request_rpc</b>(body, mapping_registry, literal_mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004100_source')" id="l_M004100_source">show</a>
                        
                    </p>
                    <div id="M004100_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 412</span>
412:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_rpc</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
413:       <span class="ruby-identifier">request</span> = <span class="ruby-identifier">body</span>.<span class="ruby-identifier">request</span>
414:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPStruct</span>)
415:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">RPCRoutingError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;not an RPC style&quot;</span>)
416:       <span class="ruby-keyword kw">end</span>
417:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_use</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:encoded</span>
418:         <span class="ruby-identifier">request_rpc_enc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
419:       <span class="ruby-keyword kw">else</span>
420:         <span class="ruby-identifier">request_rpc_lit</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
421:       <span class="ruby-keyword kw">end</span>
422:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004102">
                    
                    <a name="M004102"></a><b>request_rpc_enc</b>(request, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004102_source')" id="l_M004102_source">show</a>
                        
                    </p>
                    <div id="M004102_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 433</span>
433:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_rpc_enc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
434:       <span class="ruby-identifier">param</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
435:       <span class="ruby-identifier">request</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
436:         <span class="ruby-identifier">param</span>[<span class="ruby-identifier">key</span>]
437:       }
438:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004103">
                    
                    <a name="M004103"></a><b>request_rpc_lit</b>(request, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004103_source')" id="l_M004103_source">show</a>
                        
                    </p>
                    <div id="M004103_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 440</span>
440:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_rpc_lit</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
441:       <span class="ruby-identifier">request</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
442:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
443:       }
444:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004107">
                    
                    <a name="M004107"></a><b>response_doc</b>(result, mapping_registry, literal_mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004107_source')" id="l_M004107_source">show</a>
                        
                    </p>
                    <div id="M004107_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 466</span>
466:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_doc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
467:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@doc_response_qnames</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
468:         <span class="ruby-identifier">result</span> = [<span class="ruby-identifier">result</span>]
469:       <span class="ruby-keyword kw">end</span>
470:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@doc_response_qnames</span>.<span class="ruby-identifier">size</span>
471:         <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;required #{@doc_response_qnames.size} responses &quot;</span> <span class="ruby-operator">+</span>
472:           <span class="ruby-node">&quot;but #{result.size} given&quot;</span>
473:       <span class="ruby-keyword kw">end</span>
474:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@response_use</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:encoded</span>
475:         <span class="ruby-identifier">response_doc_enc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
476:       <span class="ruby-keyword kw">else</span>
477:         <span class="ruby-identifier">response_doc_lit</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
478:       <span class="ruby-keyword kw">end</span>
479:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004110">
                    
                    <a name="M004110"></a><b>response_doc_enc</b>(result, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004110_source')" id="l_M004110_source">show</a>
                        
                    </p>
                    <div id="M004110_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 529</span>
529:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_doc_enc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
530:       (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">result</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
531:         <span class="ruby-identifier">ele</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>[<span class="ruby-identifier">idx</span>], <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
532:         <span class="ruby-identifier">ele</span>.<span class="ruby-identifier">elename</span> = <span class="ruby-ivar">@doc_response_qnames</span>[<span class="ruby-identifier">idx</span>]
533:         <span class="ruby-identifier">ele</span>
534:       }
535:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004111">
                    
                    <a name="M004111"></a><b>response_doc_lit</b>(result, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004111_source')" id="l_M004111_source">show</a>
                        
                    </p>
                    <div id="M004111_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 537</span>
537:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_doc_lit</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
538:       (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">result</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
539:         <span class="ruby-identifier">ele</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>[<span class="ruby-identifier">idx</span>], <span class="ruby-identifier">mapping_registry</span>,
540:           <span class="ruby-ivar">@doc_response_qnames</span>[<span class="ruby-identifier">idx</span>])
541:         <span class="ruby-identifier">ele</span>.<span class="ruby-identifier">encodingstyle</span> = <span class="ruby-constant">LiteralNamespace</span>
542:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ele</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:qualified</span>)
543:           <span class="ruby-identifier">ele</span>.<span class="ruby-identifier">qualified</span> = <span class="ruby-ivar">@doc_response_qualified</span>[<span class="ruby-identifier">idx</span>]
544:         <span class="ruby-keyword kw">end</span>
545:         <span class="ruby-identifier">ele</span>
546:       }
547:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004106">
                    
                    <a name="M004106"></a><b>response_rpc</b>(result, mapping_registry, literal_mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004106_source')" id="l_M004106_source">show</a>
                        
                    </p>
                    <div id="M004106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 458</span>
458:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_rpc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
459:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@response_use</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:encoded</span>
460:         <span class="ruby-identifier">response_rpc_enc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
461:       <span class="ruby-keyword kw">else</span>
462:         <span class="ruby-identifier">response_rpc_lit</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">literal_mapping_registry</span>, <span class="ruby-identifier">opt</span>)
463:       <span class="ruby-keyword kw">end</span>
464:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004108">
                    
                    <a name="M004108"></a><b>response_rpc_enc</b>(result, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004108_source')" id="l_M004108_source">show</a>
                        
                    </p>
                    <div id="M004108_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 481</span>
481:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_rpc_enc</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
482:       <span class="ruby-identifier">soap_response</span> =
483:         <span class="ruby-ivar">@rpc_method_factory</span>.<span class="ruby-identifier">create_method_response</span>(<span class="ruby-ivar">@rpc_response_qname</span>)
484:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">have_outparam?</span>
485:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
486:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">RPCRoutingError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;out parameter was not returned&quot;</span>)
487:         <span class="ruby-keyword kw">end</span>
488:         <span class="ruby-identifier">outparams</span> = {}
489:         <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
490:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">output_params</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">outparam</span><span class="ruby-operator">|</span>
491:           <span class="ruby-identifier">outparams</span>[<span class="ruby-identifier">outparam</span>] = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">mapping_registry</span>,
492:             <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
493:           <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
494:         <span class="ruby-keyword kw">end</span>
495:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">set_outparam</span>(<span class="ruby-identifier">outparams</span>)
496:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">retval</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">mapping_registry</span>,
497:           <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opt</span>)
498:       <span class="ruby-keyword kw">else</span>
499:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">retval</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-keyword kw">nil</span>,
500:           <span class="ruby-identifier">opt</span>)
501:       <span class="ruby-keyword kw">end</span>
502:       <span class="ruby-identifier">soap_response</span>
503:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004109">
                    
                    <a name="M004109"></a><b>response_rpc_lit</b>(result, mapping_registry, opt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004109_source')" id="l_M004109_source">show</a>
                        
                    </p>
                    <div id="M004109_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/rpc/router.rb, line 505</span>
505:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_rpc_lit</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>, <span class="ruby-identifier">opt</span>)
506:       <span class="ruby-identifier">soap_response</span> =
507:         <span class="ruby-ivar">@rpc_method_factory</span>.<span class="ruby-identifier">create_method_response</span>(<span class="ruby-ivar">@rpc_response_qname</span>)
508:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">have_outparam?</span>
509:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
510:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">RPCRoutingError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;out parameter was not returned&quot;</span>)
511:         <span class="ruby-keyword kw">end</span>
512:         <span class="ruby-identifier">outparams</span> = {}
513:         <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
514:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">output_params</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">outparam</span><span class="ruby-operator">|</span>
515:           <span class="ruby-identifier">outparams</span>[<span class="ruby-identifier">outparam</span>] = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">mapping_registry</span>,
516:             <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">outparam</span>), <span class="ruby-identifier">opt</span>)
517:           <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
518:         <span class="ruby-keyword kw">end</span>
519:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">set_outparam</span>(<span class="ruby-identifier">outparams</span>)
520:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">retval</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">mapping_registry</span>,
521:           <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">elename</span>), <span class="ruby-identifier">opt</span>)
522:       <span class="ruby-keyword kw">else</span>
523:         <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">retval</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">mapping_registry</span>,
524:           <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">soap_response</span>.<span class="ruby-identifier">elename</span>), <span class="ruby-identifier">opt</span>)
525:       <span class="ruby-keyword kw">end</span>
526:       <span class="ruby-identifier">soap_response</span>
527:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    