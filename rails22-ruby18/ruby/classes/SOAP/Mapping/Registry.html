<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>SOAP::Mapping::Registry</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            SOAP::Mapping::Registry 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/soap/mapping/registry_rb.html">lib/soap/mapping/registry.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M003743">_obj2soap</a>,</li>
                
                <li><a href="#M003744">_soap2obj</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M003737">add</a>,</li>
                
                <li><a href="#M003747">addextend2obj</a>,</li>
                
                <li><a href="#M003746">addextend2obj</a>,</li>
                
                <li><a href="#M003748">addextend2soap</a>,</li>
                
                <li><a href="#M003745">addiv2obj</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M003742">find_mapped_obj_class</a>,</li>
                
                <li><a href="#M003741">find_mapped_soap_class</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003736">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M003739">obj2soap</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M003738">set</a>,</li>
                
                <li><a href="#M003740">soap2obj</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Registry/Map.html">SOAP::Mapping::Registry::Map</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">StringFactory</td>
            <td>=</td>
            <td class="attr-value">StringFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BasetypeFactory</td>
            <td>=</td>
            <td class="attr-value">BasetypeFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DateTimeFactory</td>
            <td>=</td>
            <td class="attr-value">DateTimeFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ArrayFactory</td>
            <td>=</td>
            <td class="attr-value">ArrayFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">Base64Factory</td>
            <td>=</td>
            <td class="attr-value">Base64Factory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">URIFactory</td>
            <td>=</td>
            <td class="attr-value">URIFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TypedArrayFactory</td>
            <td>=</td>
            <td class="attr-value">TypedArrayFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TypedStructFactory</td>
            <td>=</td>
            <td class="attr-value">TypedStructFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">HashFactory</td>
            <td>=</td>
            <td class="attr-value">HashFactory_.new</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SOAPBaseMap</td>
            <td>=</td>
            <td class="attr-value">[     [::NilClass,     ::SOAP::SOAPNil,        BasetypeFactory],     [::TrueClass,    ::SOAP::SOAPBoolean,    BasetypeFactory],     [::FalseClass,   ::SOAP::SOAPBoolean,    BasetypeFactory],     [::String,       ::SOAP::SOAPString,     StringFactory],     [::DateTime,     ::SOAP::SOAPDateTime,   DateTimeFactory],     [::Date,         ::SOAP::SOAPDate,       DateTimeFactory],     [::Time,         ::SOAP::SOAPDateTime,   DateTimeFactory],     [::Time,         ::SOAP::SOAPTime,       DateTimeFactory],     [::Float,        ::SOAP::SOAPDouble,     BasetypeFactory,       {:derived_class =&gt; true}],     [::Float,        ::SOAP::SOAPFloat,      BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPInt,        BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPLong,       BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPInteger,    BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPShort,      BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPByte,       BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPNonPositiveInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPNegativeInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPNonNegativeInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPPositiveInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedLong, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedInt, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedShort, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedByte, BasetypeFactory,       {:derived_class =&gt; true}],     [::URI::Generic, ::SOAP::SOAPAnyURI,     URIFactory,       {:derived_class =&gt; true}],     [::String,       ::SOAP::SOAPBase64,     Base64Factory],     [::String,       ::SOAP::SOAPHexBinary,  Base64Factory],     [::String,       ::SOAP::SOAPDecimal,    BasetypeFactory],     [::String,       ::SOAP::SOAPDuration,   BasetypeFactory],     [::String,       ::SOAP::SOAPGYearMonth, BasetypeFactory],     [::String,       ::SOAP::SOAPGYear,      BasetypeFactory],     [::String,       ::SOAP::SOAPGMonthDay,  BasetypeFactory],     [::String,       ::SOAP::SOAPGDay,       BasetypeFactory],     [::String,       ::SOAP::SOAPGMonth,     BasetypeFactory],     [::String,       ::SOAP::SOAPQName,      BasetypeFactory],      [::Hash,         ::SOAP::SOAPArray,      HashFactory],     [::Hash,         ::SOAP::SOAPStruct,     HashFactory],      [::Array,        ::SOAP::SOAPArray,      ArrayFactory,       {:derived_class =&gt; true}],      [::SOAP::Mapping::SOAPException,                      ::SOAP::SOAPStruct,     TypedStructFactory,       {:type =&gt; XSD::QName.new(RubyCustomTypeNamespace, &quot;SOAPException&quot;)}],  ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RubyOriginalMap</td>
            <td>=</td>
            <td class="attr-value">[     [::NilClass,     ::SOAP::SOAPNil,        BasetypeFactory],     [::TrueClass,    ::SOAP::SOAPBoolean,    BasetypeFactory],     [::FalseClass,   ::SOAP::SOAPBoolean,    BasetypeFactory],     [::String,       ::SOAP::SOAPString,     StringFactory],     [::DateTime,     ::SOAP::SOAPDateTime,   DateTimeFactory],     [::Date,         ::SOAP::SOAPDate,       DateTimeFactory],     [::Time,         ::SOAP::SOAPDateTime,   DateTimeFactory],     [::Time,         ::SOAP::SOAPTime,       DateTimeFactory],     [::Float,        ::SOAP::SOAPDouble,     BasetypeFactory,       {:derived_class =&gt; true}],     [::Float,        ::SOAP::SOAPFloat,      BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPInt,        BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPLong,       BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPInteger,    BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPShort,      BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPByte,       BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPNonPositiveInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPNegativeInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPNonNegativeInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPPositiveInteger, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedLong, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedInt, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedShort, BasetypeFactory,       {:derived_class =&gt; true}],     [::Integer,      ::SOAP::SOAPUnsignedByte, BasetypeFactory,       {:derived_class =&gt; true}],     [::URI::Generic, ::SOAP::SOAPAnyURI,     URIFactory,       {:derived_class =&gt; true}],     [::String,       ::SOAP::SOAPBase64,     Base64Factory],     [::String,       ::SOAP::SOAPHexBinary,  Base64Factory],     [::String,       ::SOAP::SOAPDecimal,    BasetypeFactory],     [::String,       ::SOAP::SOAPDuration,   BasetypeFactory],     [::String,       ::SOAP::SOAPGYearMonth, BasetypeFactory],     [::String,       ::SOAP::SOAPGYear,      BasetypeFactory],     [::String,       ::SOAP::SOAPGMonthDay,  BasetypeFactory],     [::String,       ::SOAP::SOAPGDay,       BasetypeFactory],     [::String,       ::SOAP::SOAPGMonth,     BasetypeFactory],     [::String,       ::SOAP::SOAPQName,      BasetypeFactory],      [::Hash,         ::SOAP::SOAPArray,      HashFactory],     [::Hash,         ::SOAP::SOAPStruct,     HashFactory],      # Does not allow Array's subclass here.     [::Array,        ::SOAP::SOAPArray,      ArrayFactory],      [::SOAP::Mapping::SOAPException,                      ::SOAP::SOAPStruct,     TypedStructFactory,       {:type =&gt; XSD::QName.new(RubyCustomTypeNamespace, &quot;SOAPException&quot;)}],   ]</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>default_factory</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>excn_handler_obj2soap</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>excn_handler_soap2obj</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M003736">
                    
                    <a name="M003736"></a><b>new</b>(config = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003736_source')" id="l_M003736_source">show</a>
                        
                    </p>
                    <div id="M003736_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 393</span>
393:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">config</span> = {})
394:     <span class="ruby-ivar">@config</span> = <span class="ruby-identifier">config</span>
395:     <span class="ruby-ivar">@map</span> = <span class="ruby-constant">Map</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
396:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:allow_original_mapping</span>]
397:       <span class="ruby-ivar">@allow_original_mapping</span> = <span class="ruby-keyword kw">true</span>
398:       <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">init</span>(<span class="ruby-constant">RubyOriginalMap</span>)
399:     <span class="ruby-keyword kw">else</span>
400:       <span class="ruby-ivar">@allow_original_mapping</span> = <span class="ruby-keyword kw">false</span>
401:       <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">init</span>(<span class="ruby-constant">SOAPBaseMap</span>)
402:     <span class="ruby-keyword kw">end</span>
403:     <span class="ruby-ivar">@allow_untyped_struct</span> = <span class="ruby-ivar">@config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">:allow_untyped_struct</span>) <span class="ruby-operator">?</span>
404:       <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:allow_untyped_struct</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword kw">true</span>
405:     <span class="ruby-ivar">@rubytype_factory</span> = <span class="ruby-constant">RubytypeFactory</span>.<span class="ruby-identifier">new</span>(
406:       <span class="ruby-identifier">:allow_untyped_struct</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@allow_untyped_struct</span>,
407:       <span class="ruby-identifier">:allow_original_mapping</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@allow_original_mapping</span>
408:     )
409:     <span class="ruby-ivar">@default_factory</span> = <span class="ruby-ivar">@rubytype_factory</span>
410:     <span class="ruby-ivar">@excn_handler_obj2soap</span> = <span class="ruby-keyword kw">nil</span>
411:     <span class="ruby-ivar">@excn_handler_soap2obj</span> = <span class="ruby-keyword kw">nil</span>
412:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M003737">
                    
                    <a name="M003737"></a><b>add</b>(obj_class, soap_class, factory, info = nil)
                    
                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Registry.html#M003738">set</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003737_source')" id="l_M003737_source">show</a>
                        
                    </p>
                    <div id="M003737_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 414</span>
414:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">obj_class</span>, <span class="ruby-identifier">soap_class</span>, <span class="ruby-identifier">factory</span>, <span class="ruby-identifier">info</span> = <span class="ruby-keyword kw">nil</span>)
415:     <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">obj_class</span>, <span class="ruby-identifier">soap_class</span>, <span class="ruby-identifier">factory</span>, <span class="ruby-identifier">info</span>)
416:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003742">
                    
                    <a name="M003742"></a><b>find_mapped_obj_class</b>(soap_class)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003742_source')" id="l_M003742_source">show</a>
                        
                    </p>
                    <div id="M003742_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 441</span>
441:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_mapped_obj_class</span>(<span class="ruby-identifier">soap_class</span>)
442:     <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">find_mapped_obj_class</span>(<span class="ruby-identifier">soap_class</span>)
443:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003741">
                    
                    <a name="M003741"></a><b>find_mapped_soap_class</b>(obj_class)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003741_source')" id="l_M003741_source">show</a>
                        
                    </p>
                    <div id="M003741_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 437</span>
437:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_mapped_soap_class</span>(<span class="ruby-identifier">obj_class</span>)
438:     <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">find_mapped_soap_class</span>(<span class="ruby-identifier">obj_class</span>)
439:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003739">
                    
                    <a name="M003739"></a><b>obj2soap</b>(obj, type_qname = nil)
                    
                </div>
                
                <div class="description">
                  <p>
general <a href="Registry.html">Registry</a> ignores type_qname
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003739_source')" id="l_M003739_source">show</a>
                        
                    </p>
                    <div id="M003739_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 420</span>
420:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">type_qname</span> = <span class="ruby-keyword kw">nil</span>)
421:     <span class="ruby-identifier">soap</span> = <span class="ruby-identifier">_obj2soap</span>(<span class="ruby-identifier">obj</span>)
422:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@allow_original_mapping</span>
423:       <span class="ruby-identifier">addextend2soap</span>(<span class="ruby-identifier">soap</span>, <span class="ruby-identifier">obj</span>)
424:     <span class="ruby-keyword kw">end</span>
425:     <span class="ruby-identifier">soap</span>
426:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003738">
                    
                    <a name="M003738"></a><b>set</b>(obj_class, soap_class, factory, info = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Registry.html#M003737">add</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003740">
                    
                    <a name="M003740"></a><b>soap2obj</b>(node, klass = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003740_source')" id="l_M003740_source">show</a>
                        
                    </p>
                    <div id="M003740_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 428</span>
428:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">klass</span> = <span class="ruby-keyword kw">nil</span>)
429:     <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">_soap2obj</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">klass</span>)
430:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@allow_original_mapping</span>
431:       <span class="ruby-identifier">addextend2obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">extraattr</span>[<span class="ruby-constant">RubyExtendName</span>])
432:       <span class="ruby-identifier">addiv2obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">extraattr</span>[<span class="ruby-constant">RubyIVarName</span>])
433:     <span class="ruby-keyword kw">end</span>
434:     <span class="ruby-identifier">obj</span>
435:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M003743">
                    
                    <a name="M003743"></a><b>_obj2soap</b>(obj)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003743_source')" id="l_M003743_source">show</a>
                        
                    </p>
                    <div id="M003743_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 447</span>
447:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_obj2soap</span>(<span class="ruby-identifier">obj</span>)
448:     <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">nil</span>
449:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPStruct</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPArray</span>)
450:       <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">replace</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ele</span><span class="ruby-operator">|</span>
451:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">_obj2soap</span>(<span class="ruby-identifier">ele</span>, <span class="ruby-keyword kw">self</span>)
452:       <span class="ruby-keyword kw">end</span>
453:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span>
454:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPBasetype</span>)
455:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span>
456:     <span class="ruby-keyword kw">end</span>
457:     <span class="ruby-keyword kw">begin</span> 
458:       <span class="ruby-identifier">ret</span> = <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">obj</span>) <span class="ruby-operator">||</span>
459:         <span class="ruby-ivar">@default_factory</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">self</span>)
460:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ret</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ret</span>
461:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">MappingError</span>
462:     <span class="ruby-keyword kw">end</span>
463:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@excn_handler_obj2soap</span>
464:       <span class="ruby-identifier">ret</span> = <span class="ruby-ivar">@excn_handler_obj2soap</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">obj</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">yield_obj</span><span class="ruby-operator">|</span>
465:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">_obj2soap</span>(<span class="ruby-identifier">yield_obj</span>, <span class="ruby-keyword kw">self</span>)
466:       }
467:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ret</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ret</span>
468:     <span class="ruby-keyword kw">end</span>
469:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">MappingError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Cannot map #{ obj.class.name } to SOAP/OM.&quot;</span>)
470:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003744">
                    
                    <a name="M003744"></a><b>_soap2obj</b>(node, klass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Might return nil as a mapping result.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003744_source')" id="l_M003744_source">show</a>
                        
                    </p>
                    <div id="M003744_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 473</span>
473:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_soap2obj</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">klass</span> = <span class="ruby-keyword kw">nil</span>)
474:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">extraattr</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-constant">RubyTypeName</span>)
475:       <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">obj</span> = <span class="ruby-ivar">@rubytype_factory</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">node</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">self</span>)
476:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">conv</span>
477:     <span class="ruby-keyword kw">else</span>
478:       <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">obj</span> = <span class="ruby-ivar">@map</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">klass</span>)
479:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">conv</span>
480:       <span class="ruby-identifier">conv</span>, <span class="ruby-identifier">obj</span> = <span class="ruby-ivar">@default_factory</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">node</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">self</span>)
481:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">conv</span>
482:     <span class="ruby-keyword kw">end</span>
483:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@excn_handler_soap2obj</span>
484:       <span class="ruby-keyword kw">begin</span>
485:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@excn_handler_soap2obj</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">node</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">yield_node</span><span class="ruby-operator">|</span>
486:             <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">_soap2obj</span>(<span class="ruby-identifier">yield_node</span>, <span class="ruby-keyword kw">self</span>)
487:           }
488:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span>
489:       <span class="ruby-keyword kw">end</span>
490:     <span class="ruby-keyword kw">end</span>
491:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">MappingError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Cannot map #{ node.type.name } to Ruby object.&quot;</span>)
492:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003747">
                    
                    <a name="M003747"></a><b>addextend2obj</b>(obj, attr)
                    
                </div>
                
                <div class="description">
                  <p>
(class < false; self; end).ancestors includes &#8220;TrueClass&#8221; under
1.6...
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003747_source')" id="l_M003747_source">show</a>
                        
                    </p>
                    <div id="M003747_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 512</span>
512:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">addextend2obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">attr</span>)
513:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attr</span>
514:       <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/ /</span>).<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mstr</span><span class="ruby-operator">|</span>
515:         <span class="ruby-identifier">m</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">module_from_name</span>(<span class="ruby-identifier">mstr</span>)
516:         <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-identifier">m</span>)
517:       <span class="ruby-keyword kw">end</span>
518:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003746">
                    
                    <a name="M003746"></a><b>addextend2obj</b>(obj, attr)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003746_source')" id="l_M003746_source">show</a>
                        
                    </p>
                    <div id="M003746_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 504</span>
504:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">addextend2obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">attr</span>)
505:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attr</span>
506:       <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/ /</span>).<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mstr</span><span class="ruby-operator">|</span>
507:         <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">module_from_name</span>(<span class="ruby-identifier">mstr</span>))
508:       <span class="ruby-keyword kw">end</span>
509:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003748">
                    
                    <a name="M003748"></a><b>addextend2soap</b>(node, obj)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003748_source')" id="l_M003748_source">show</a>
                        
                    </p>
                    <div id="M003748_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 521</span>
521:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">addextend2soap</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">obj</span>)
522:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Fixnum</span>)
523:     <span class="ruby-identifier">list</span> = (<span class="ruby-keyword kw">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span>; <span class="ruby-keyword kw">self</span>; <span class="ruby-keyword kw">end</span>).<span class="ruby-identifier">ancestors</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">ancestors</span>
524:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">empty?</span>
525:       <span class="ruby-identifier">node</span>.<span class="ruby-identifier">extraattr</span>[<span class="ruby-constant">RubyExtendName</span>] = <span class="ruby-identifier">list</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
526:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">empty?</span>
527:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;singleton can't be dumped #{ obj }&quot;</span>)
528:         <span class="ruby-keyword kw">end</span>
529:         <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>
530:       }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
531:     <span class="ruby-keyword kw">end</span>
532:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003745">
                    
                    <a name="M003745"></a><b>addiv2obj</b>(obj, attr)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003745_source')" id="l_M003745_source">show</a>
                        
                    </p>
                    <div id="M003745_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/mapping/registry.rb, line 494</span>
494:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">addiv2obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">attr</span>)
495:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attr</span>
496:     <span class="ruby-identifier">vars</span> = {}
497:     <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">__getobj__</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
498:       <span class="ruby-identifier">vars</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">_soap2obj</span>(<span class="ruby-identifier">value</span>, <span class="ruby-keyword kw">self</span>)
499:     <span class="ruby-keyword kw">end</span>
500:     <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">set_attributes</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">vars</span>)
501:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    