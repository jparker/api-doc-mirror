<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Test::Unit::UI::Console::TestRunner</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Test::Unit::UI::Console::TestRunner 
            
                <span class="parent">&lt; 
                    
                    <a href="../../../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../../files/lib/test/unit/ui/console/testrunner_rb.html">lib/test/unit/ui/console/testrunner.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Runs a <a href="../../TestSuite.html">Test::Unit::TestSuite</a> on the
console.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M005570">add_fault</a>,</li>
                
                <li><a href="#M005568">attach_to_mediator</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M005567">create_mediator</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M005572">finished</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M005564">new</a>,</li>
                
                <li><a href="#M005575">nl</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M005576">output</a>,</li>
                
                <li><a href="#M005583">output?</a>,</li>
                
                <li><a href="#M005577">output_single</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M005566">setup_mediator</a>,</li>
                
                <li><a href="#M005565">start</a>,</li>
                
                <li><a href="#M005569">start_mediator</a>,</li>
                
                <li><a href="#M005571">started</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M005574">test_finished</a>,</li>
                
                <li><a href="#M005573">test_started</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M005564">
                    
                    <a name="M005564"></a><b>new</b>(suite, output_level=NORMAL, io=STDOUT)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="TestRunner.html">TestRunner</a> for running the
passed suite. If quiet_mode is true, the output while running is limited to
progress dots, errors and failures, and the final result. io specifies
where runner output should go to; defaults to STDOUT.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005564_source')" id="l_M005564_source">show</a>
                        
                    </p>
                    <div id="M005564_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 25</span>
25:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">suite</span>, <span class="ruby-identifier">output_level</span>=<span class="ruby-constant">NORMAL</span>, <span class="ruby-identifier">io</span>=<span class="ruby-constant">STDOUT</span>)
26:             <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">suite</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:suite</span>))
27:               <span class="ruby-ivar">@suite</span> = <span class="ruby-identifier">suite</span>.<span class="ruby-identifier">suite</span>
28:             <span class="ruby-keyword kw">else</span>
29:               <span class="ruby-ivar">@suite</span> = <span class="ruby-identifier">suite</span>
30:             <span class="ruby-keyword kw">end</span>
31:             <span class="ruby-ivar">@output_level</span> = <span class="ruby-identifier">output_level</span>
32:             <span class="ruby-ivar">@io</span> = <span class="ruby-identifier">io</span>
33:             <span class="ruby-ivar">@already_outputted</span> = <span class="ruby-keyword kw">false</span>
34:             <span class="ruby-ivar">@faults</span> = []
35:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M005565">
                    
                    <a name="M005565"></a><b>start</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Begins the test run.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005565_source')" id="l_M005565_source">show</a>
                        
                    </p>
                    <div id="M005565_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 38</span>
38:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start</span>
39:             <span class="ruby-identifier">setup_mediator</span>
40:             <span class="ruby-identifier">attach_to_mediator</span>
41:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">start_mediator</span>
42:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M005570">
                    
                    <a name="M005570"></a><b>add_fault</b>(fault)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005570_source')" id="l_M005570_source">show</a>
                        
                    </p>
                    <div id="M005570_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 70</span>
70:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_fault</span>(<span class="ruby-identifier">fault</span>)
71:             <span class="ruby-ivar">@faults</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">fault</span>
72:             <span class="ruby-identifier">output_single</span>(<span class="ruby-identifier">fault</span>.<span class="ruby-identifier">single_character_display</span>, <span class="ruby-constant">PROGRESS_ONLY</span>)
73:             <span class="ruby-ivar">@already_outputted</span> = <span class="ruby-keyword kw">true</span>
74:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005568">
                    
                    <a name="M005568"></a><b>attach_to_mediator</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005568_source')" id="l_M005568_source">show</a>
                        
                    </p>
                    <div id="M005568_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 58</span>
58:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attach_to_mediator</span>
59:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestResult</span><span class="ruby-operator">::</span><span class="ruby-constant">FAULT</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:add_fault</span>))
60:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestRunnerMediator</span><span class="ruby-operator">::</span><span class="ruby-constant">STARTED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:started</span>))
61:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestRunnerMediator</span><span class="ruby-operator">::</span><span class="ruby-constant">FINISHED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:finished</span>))
62:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">STARTED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:test_started</span>))
63:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">FINISHED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:test_finished</span>))
64:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005567">
                    
                    <a name="M005567"></a><b>create_mediator</b>(suite)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005567_source')" id="l_M005567_source">show</a>
                        
                    </p>
                    <div id="M005567_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 54</span>
54:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_mediator</span>(<span class="ruby-identifier">suite</span>)
55:             <span class="ruby-keyword kw">return</span> <span class="ruby-constant">TestRunnerMediator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">suite</span>)
56:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005572">
                    
                    <a name="M005572"></a><b>finished</b>(elapsed_time)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005572_source')" id="l_M005572_source">show</a>
                        
                    </p>
                    <div id="M005572_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 81</span>
81:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finished</span>(<span class="ruby-identifier">elapsed_time</span>)
82:             <span class="ruby-identifier">nl</span>
83:             <span class="ruby-identifier">output</span>(<span class="ruby-node">&quot;Finished in #{elapsed_time} seconds.&quot;</span>)
84:             <span class="ruby-ivar">@faults</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fault</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
85:               <span class="ruby-identifier">nl</span>
86:               <span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;%3d) %s&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fault</span>.<span class="ruby-identifier">long_display</span>])
87:             <span class="ruby-keyword kw">end</span>
88:             <span class="ruby-identifier">nl</span>
89:             <span class="ruby-identifier">output</span>(<span class="ruby-ivar">@result</span>)
90:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005575">
                    
                    <a name="M005575"></a><b>nl</b>(level=NORMAL)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005575_source')" id="l_M005575_source">show</a>
                        
                    </p>
                    <div id="M005575_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 102</span>
102:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nl</span>(<span class="ruby-identifier">level</span>=<span class="ruby-constant">NORMAL</span>)
103:             <span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">level</span>)
104:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005576">
                    
                    <a name="M005576"></a><b>output</b>(something, level=NORMAL)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005576_source')" id="l_M005576_source">show</a>
                        
                    </p>
                    <div id="M005576_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 106</span>
106:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output</span>(<span class="ruby-identifier">something</span>, <span class="ruby-identifier">level</span>=<span class="ruby-constant">NORMAL</span>)
107:             <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">something</span>) <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">output?</span>(<span class="ruby-identifier">level</span>))
108:             <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">flush</span>
109:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005583">
                    
                    <a name="M005583"></a><b>output?</b>(level)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005583_source')" id="l_M005583_source">show</a>
                        
                    </p>
                    <div id="M005583_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 116</span>
116:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output?</span>(<span class="ruby-identifier">level</span>)
117:             <span class="ruby-identifier">level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-ivar">@output_level</span>
118:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005577">
                    
                    <a name="M005577"></a><b>output_single</b>(something, level=NORMAL)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005577_source')" id="l_M005577_source">show</a>
                        
                    </p>
                    <div id="M005577_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 111</span>
111:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_single</span>(<span class="ruby-identifier">something</span>, <span class="ruby-identifier">level</span>=<span class="ruby-constant">NORMAL</span>)
112:             <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">something</span>) <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">output?</span>(<span class="ruby-identifier">level</span>))
113:             <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">flush</span>
114:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005566">
                    
                    <a name="M005566"></a><b>setup_mediator</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005566_source')" id="l_M005566_source">show</a>
                        
                    </p>
                    <div id="M005566_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 45</span>
45:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_mediator</span>
46:             <span class="ruby-ivar">@mediator</span> = <span class="ruby-identifier">create_mediator</span>(<span class="ruby-ivar">@suite</span>)
47:             <span class="ruby-identifier">suite_name</span> = <span class="ruby-ivar">@suite</span>.<span class="ruby-identifier">to_s</span>
48:             <span class="ruby-keyword kw">if</span> ( <span class="ruby-ivar">@suite</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Module</span>) )
49:               <span class="ruby-identifier">suite_name</span> = <span class="ruby-ivar">@suite</span>.<span class="ruby-identifier">name</span>
50:             <span class="ruby-keyword kw">end</span>
51:             <span class="ruby-identifier">output</span>(<span class="ruby-node">&quot;Loaded suite #{suite_name}&quot;</span>)
52:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005569">
                    
                    <a name="M005569"></a><b>start_mediator</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005569_source')" id="l_M005569_source">show</a>
                        
                    </p>
                    <div id="M005569_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 66</span>
66:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_mediator</span>
67:             <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">run_suite</span>
68:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005571">
                    
                    <a name="M005571"></a><b>started</b>(result)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005571_source')" id="l_M005571_source">show</a>
                        
                    </p>
                    <div id="M005571_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 76</span>
76:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">started</span>(<span class="ruby-identifier">result</span>)
77:             <span class="ruby-ivar">@result</span> = <span class="ruby-identifier">result</span>
78:             <span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;Started&quot;</span>)
79:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005574">
                    
                    <a name="M005574"></a><b>test_finished</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005574_source')" id="l_M005574_source">show</a>
                        
                    </p>
                    <div id="M005574_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 96</span>
 96:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_finished</span>(<span class="ruby-identifier">name</span>)
 97:             <span class="ruby-identifier">output_single</span>(<span class="ruby-value str">&quot;.&quot;</span>, <span class="ruby-constant">PROGRESS_ONLY</span>) <span class="ruby-keyword kw">unless</span> (<span class="ruby-ivar">@already_outputted</span>)
 98:             <span class="ruby-identifier">nl</span>(<span class="ruby-constant">VERBOSE</span>)
 99:             <span class="ruby-ivar">@already_outputted</span> = <span class="ruby-keyword kw">false</span>
100:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005573">
                    
                    <a name="M005573"></a><b>test_started</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005573_source')" id="l_M005573_source">show</a>
                        
                    </p>
                    <div id="M005573_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/console/testrunner.rb, line 92</span>
92:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_started</span>(<span class="ruby-identifier">name</span>)
93:             <span class="ruby-identifier">output_single</span>(<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;: &quot;</span>, <span class="ruby-constant">VERBOSE</span>)
94:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    