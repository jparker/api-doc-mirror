<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Complex</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Complex 
            
                <span class="parent">&lt; 
                    
                    <a href="Numeric.html">Numeric</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/complex_rb.html">lib/complex.rb</a></li>
            
            <li><a href="../files/lib/mathn_rb.html">lib/mathn.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The complex number class. See complex.rb for an overview.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M003619">%</a>,</li>
                
                <li><a href="#M003615">*</a>,</li>
                
                <li><a href="#M003618">**</a>,</li>
                
                <li><a href="#M003613">+</a>,</li>
                
                <li><a href="#M003614">-</a>,</li>
                
                <li><a href="#M003616">/</a>,</li>
                
                <li><a href="#M003627"><=></a>,</li>
                
                <li><a href="#M003628">==</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M003620">abs</a>,</li>
                
                <li><a href="#M003621">abs2</a>,</li>
                
                <li><a href="#M003623">angle</a>,</li>
                
                <li><a href="#M003622">arg</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M003629">coerce</a>,</li>
                
                <li><a href="#M003626">conj</a>,</li>
                
                <li><a href="#M003625">conjugate</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M003630">denominator</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M003633">hash</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M003634">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003612">new</a>,</li>
                
                <li><a href="#M003611">new!</a>,</li>
                
                <li><a href="#M003631">numerator</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003624">polar</a>,</li>
                
                <li><a href="#M003610">polar</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M003617">quo</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M003632">to_s</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">I</td>
            <td>=</td>
            <td class="attr-value">Complex(0,1)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
<tt>I</tt> is the imaginary number. It exists at point (0,1) on the complex
plane.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">Unify</td>
            <td>=</td>
            <td class="attr-value">true</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>real</td>
            <td class='attr-desc'><p>
The real part of a complex number.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>image</td>
            <td class='attr-desc'><p>
The imaginary part of a complex number.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M003612">
                    
                    <a name="M003612"></a><b>new</b>(a, b)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003612_source')" id="l_M003612_source">show</a>
                        
                    </p>
                    <div id="M003612_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)
129:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;non numeric 1st arg `#{a.inspect}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">a</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Numeric</span>
130:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;`#{a.inspect}' for 1st arg&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Complex</span>
131:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;non numeric 2nd arg `#{b.inspect}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">b</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Numeric</span>
132:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;`#{b.inspect}' for 2nd arg&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Complex</span>
133:     <span class="ruby-ivar">@real</span> = <span class="ruby-identifier">a</span>
134:     <span class="ruby-ivar">@image</span> = <span class="ruby-identifier">b</span>
135:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003611">
                    
                    <a name="M003611"></a><b>new!</b>(a, b=0)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a <tt>Complex</tt> number <tt>a</tt>+<tt>b</tt><em>i</em>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003611_source')" id="l_M003611_source">show</a>
                        
                    </p>
                    <div id="M003611_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 124</span>
124:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">new!</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>=<span class="ruby-value">0</span>)
125:     <span class="ruby-identifier">new</span>(<span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span>)
126:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003610">
                    
                    <a name="M003610"></a><b>polar</b>(r, theta)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a <tt>Complex</tt> number in terms of <tt>r</tt> (radius) and
<tt>theta</tt> (angle).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003610_source')" id="l_M003610_source">show</a>
                        
                    </p>
                    <div id="M003610_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">polar</span>(<span class="ruby-identifier">r</span>, <span class="ruby-identifier">theta</span>)
118:     <span class="ruby-constant">Complex</span>(<span class="ruby-identifier">r</span><span class="ruby-operator">*</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">cos</span>(<span class="ruby-identifier">theta</span>), <span class="ruby-identifier">r</span><span class="ruby-operator">*</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">sin</span>(<span class="ruby-identifier">theta</span>))
119:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M003619">
                    
                    <a name="M003619"></a><b>%</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Remainder after division by a real or complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003619_source')" id="l_M003619_source">show</a>
                        
                    </p>
                    <div id="M003619_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">%</span> (<span class="ruby-identifier">other</span>)
252:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
253:       <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span>, <span class="ruby-ivar">@image</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span>)
254:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
255:       <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">other</span>, <span class="ruby-ivar">@image</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">other</span>)
256:     <span class="ruby-keyword kw">else</span>
257:       <span class="ruby-identifier">x</span> , <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
258:       <span class="ruby-identifier">x</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">y</span>
259:     <span class="ruby-keyword kw">end</span>
260:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003615">
                    
                    <a name="M003615"></a><b>*</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Multiplication with real or complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003615_source')" id="l_M003615_source">show</a>
                        
                    </p>
                    <div id="M003615_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 172</span>
172:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">other</span>)
173:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
174:       <span class="ruby-identifier">re</span> = <span class="ruby-ivar">@real</span><span class="ruby-operator">*</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@image</span><span class="ruby-operator">*</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span>
175:       <span class="ruby-identifier">im</span> = <span class="ruby-ivar">@real</span><span class="ruby-operator">*</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@image</span><span class="ruby-operator">*</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span>
176:       <span class="ruby-constant">Complex</span>(<span class="ruby-identifier">re</span>, <span class="ruby-identifier">im</span>)
177:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
178:       <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">other</span>, <span class="ruby-ivar">@image</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">other</span>)
179:     <span class="ruby-keyword kw">else</span>
180:       <span class="ruby-identifier">x</span> , <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
181:       <span class="ruby-identifier">x</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">y</span>
182:     <span class="ruby-keyword kw">end</span>
183:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003618">
                    
                    <a name="M003618"></a><b>**</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Raise this complex number to the given (real or complex) power.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003618_source')" id="l_M003618_source">show</a>
                        
                    </p>
                    <div id="M003618_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 206</span>
206:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">**</span> (<span class="ruby-identifier">other</span>)
207:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
208:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Complex</span>(<span class="ruby-value">1</span>)
209:     <span class="ruby-keyword kw">end</span>
210:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
211:       <span class="ruby-identifier">r</span>, <span class="ruby-identifier">theta</span> = <span class="ruby-identifier">polar</span>
212:       <span class="ruby-identifier">ore</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span>
213:       <span class="ruby-identifier">oim</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span>
214:       <span class="ruby-identifier">nr</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">exp!</span>(<span class="ruby-identifier">ore</span><span class="ruby-operator">*</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log!</span>(<span class="ruby-identifier">r</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">oim</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">theta</span>)
215:       <span class="ruby-identifier">ntheta</span> = <span class="ruby-identifier">theta</span><span class="ruby-operator">*</span><span class="ruby-identifier">ore</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">oim</span><span class="ruby-operator">*</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log!</span>(<span class="ruby-identifier">r</span>)
216:       <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">polar</span>(<span class="ruby-identifier">nr</span>, <span class="ruby-identifier">ntheta</span>)
217:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Integer</span>)
218:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
219:         <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>
220:         <span class="ruby-identifier">z</span> = <span class="ruby-identifier">x</span>
221:         <span class="ruby-identifier">n</span> = <span class="ruby-identifier">other</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
222:         <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
223:           <span class="ruby-keyword kw">while</span> (<span class="ruby-identifier">div</span>, <span class="ruby-identifier">mod</span> = <span class="ruby-identifier">n</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">2</span>)
224:                  <span class="ruby-identifier">mod</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>)
225:             <span class="ruby-identifier">x</span> = <span class="ruby-constant">Complex</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">real</span><span class="ruby-operator">*</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">real</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">image</span><span class="ruby-operator">*</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">image</span>, <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">real</span><span class="ruby-operator">*</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">image</span>)
226:             <span class="ruby-identifier">n</span> = <span class="ruby-identifier">div</span>
227:           <span class="ruby-keyword kw">end</span>
228:           <span class="ruby-identifier">z</span> <span class="ruby-operator">*=</span> <span class="ruby-identifier">x</span>
229:           <span class="ruby-identifier">n</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
230:         <span class="ruby-keyword kw">end</span>
231:         <span class="ruby-identifier">z</span>
232:       <span class="ruby-keyword kw">else</span>
233:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Rational</span>
234:           (<span class="ruby-constant">Rational</span>(<span class="ruby-value">1</span>) <span class="ruby-operator">/</span> <span class="ruby-keyword kw">self</span>) <span class="ruby-operator">**</span> <span class="ruby-operator">-</span><span class="ruby-identifier">other</span>
235:         <span class="ruby-keyword kw">else</span>
236:           <span class="ruby-keyword kw">self</span> <span class="ruby-operator">**</span> <span class="ruby-constant">Float</span>(<span class="ruby-identifier">other</span>)
237:         <span class="ruby-keyword kw">end</span>
238:       <span class="ruby-keyword kw">end</span>
239:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
240:       <span class="ruby-identifier">r</span>, <span class="ruby-identifier">theta</span> = <span class="ruby-identifier">polar</span>
241:       <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">polar</span>(<span class="ruby-identifier">r</span><span class="ruby-operator">**</span><span class="ruby-identifier">other</span>, <span class="ruby-identifier">theta</span><span class="ruby-operator">*</span><span class="ruby-identifier">other</span>)
242:     <span class="ruby-keyword kw">else</span>
243:       <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
244:       <span class="ruby-identifier">x</span><span class="ruby-operator">**</span><span class="ruby-identifier">y</span>
245:     <span class="ruby-keyword kw">end</span>
246:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003613">
                    
                    <a name="M003613"></a><b>+</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Addition with real or complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003613_source')" id="l_M003613_source">show</a>
                        
                    </p>
                    <div id="M003613_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">other</span>)
141:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
142:       <span class="ruby-identifier">re</span> = <span class="ruby-ivar">@real</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span>
143:       <span class="ruby-identifier">im</span> = <span class="ruby-ivar">@image</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span>
144:       <span class="ruby-constant">Complex</span>(<span class="ruby-identifier">re</span>, <span class="ruby-identifier">im</span>)
145:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
146:       <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>, <span class="ruby-ivar">@image</span>)
147:     <span class="ruby-keyword kw">else</span>
148:       <span class="ruby-identifier">x</span> , <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
149:       <span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span>
150:     <span class="ruby-keyword kw">end</span>
151:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003614">
                    
                    <a name="M003614"></a><b>-</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Subtraction with real or complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003614_source')" id="l_M003614_source">show</a>
                        
                    </p>
                    <div id="M003614_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 156</span>
156:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">other</span>)
157:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
158:       <span class="ruby-identifier">re</span> = <span class="ruby-ivar">@real</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span>
159:       <span class="ruby-identifier">im</span> = <span class="ruby-ivar">@image</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span>
160:       <span class="ruby-constant">Complex</span>(<span class="ruby-identifier">re</span>, <span class="ruby-identifier">im</span>)
161:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
162:       <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">other</span>, <span class="ruby-ivar">@image</span>)
163:     <span class="ruby-keyword kw">else</span>
164:       <span class="ruby-identifier">x</span> , <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
165:       <span class="ruby-identifier">x</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>
166:     <span class="ruby-keyword kw">end</span>
167:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003616">
                    
                    <a name="M003616"></a><b>/</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Division by real or complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003616_source')" id="l_M003616_source">show</a>
                        
                    </p>
                    <div id="M003616_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">/</span> (<span class="ruby-identifier">other</span>)
189:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
190:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">*</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">conjugate</span><span class="ruby-operator">/</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">abs2</span>
191:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
192:       <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span><span class="ruby-operator">/</span><span class="ruby-identifier">other</span>, <span class="ruby-ivar">@image</span><span class="ruby-operator">/</span><span class="ruby-identifier">other</span>)
193:     <span class="ruby-keyword kw">else</span>
194:       <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
195:       <span class="ruby-identifier">x</span><span class="ruby-operator">/</span><span class="ruby-identifier">y</span>
196:     <span class="ruby-keyword kw">end</span>
197:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003627">
                    
                    <a name="M003627"></a><b>&lt;=&gt;</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Compares the absolute values of the two numbers.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003627_source')" id="l_M003627_source">show</a>
                        
                    </p>
                    <div id="M003627_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 318</span>
318:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span> (<span class="ruby-identifier">other</span>)
319:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">abs</span>
320:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003628">
                    
                    <a name="M003628"></a><b>==</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Test for numerical equality (<tt>a == a + 0<em>i</em></tt>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003628_source')" id="l_M003628_source">show</a>
                        
                    </p>
                    <div id="M003628_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 325</span>
325:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">other</span>)
326:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Complex</span>)
327:       <span class="ruby-ivar">@real</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">real</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@image</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">image</span>
328:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
329:       <span class="ruby-ivar">@real</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@image</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
330:     <span class="ruby-keyword kw">else</span>
331:       <span class="ruby-identifier">other</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>
332:     <span class="ruby-keyword kw">end</span>
333:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003620">
                    
                    <a name="M003620"></a><b>abs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Absolute value (aka modulus): distance from the zero point on the complex
plane.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003620_source')" id="l_M003620_source">show</a>
                        
                    </p>
                    <div id="M003620_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 281</span>
281:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">abs</span>
282:     <span class="ruby-constant">Math</span>.<span class="ruby-identifier">hypot</span>(<span class="ruby-ivar">@real</span>, <span class="ruby-ivar">@image</span>)
283:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003621">
                    
                    <a name="M003621"></a><b>abs2</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Square of the absolute value.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003621_source')" id="l_M003621_source">show</a>
                        
                    </p>
                    <div id="M003621_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 288</span>
288:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">abs2</span>
289:     <span class="ruby-ivar">@real</span><span class="ruby-operator">*</span><span class="ruby-ivar">@real</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@image</span><span class="ruby-operator">*</span><span class="ruby-ivar">@image</span>
290:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003623">
                    
                    <a name="M003623"></a><b>angle</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Complex.html#M003622">arg</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003622">
                    
                    <a name="M003622"></a><b>arg</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Argument (angle from (1,0) on the complex plane).
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Complex.html#M003623">angle</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003622_source')" id="l_M003622_source">show</a>
                        
                    </p>
                    <div id="M003622_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 295</span>
295:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arg</span>
296:     <span class="ruby-constant">Math</span>.<span class="ruby-identifier">atan2!</span>(<span class="ruby-ivar">@image</span>, <span class="ruby-ivar">@real</span>)
297:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003629">
                    
                    <a name="M003629"></a><b>coerce</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Attempts to coerce <tt>other</tt> to a <a href="Complex.html">Complex</a>
number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003629_source')" id="l_M003629_source">show</a>
                        
                    </p>
                    <div id="M003629_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 338</span>
338:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">other</span>)
339:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">generic?</span>(<span class="ruby-identifier">other</span>)
340:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Complex</span>.<span class="ruby-identifier">new!</span>(<span class="ruby-identifier">other</span>), <span class="ruby-keyword kw">self</span>
341:     <span class="ruby-keyword kw">else</span>
342:       <span class="ruby-keyword kw">super</span>
343:     <span class="ruby-keyword kw">end</span>
344:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003626">
                    
                    <a name="M003626"></a><b>conj</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Complex.html#M003625">conjugate</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003625">
                    
                    <a name="M003625"></a><b>conjugate</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Complex.html">Complex</a> conjugate (<tt>z + z.conjugate = 2 *
z.real</tt>).
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Complex.html#M003626">conj</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003625_source')" id="l_M003625_source">show</a>
                        
                    </p>
                    <div id="M003625_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 310</span>
310:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">conjugate</span>
311:     <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span>, <span class="ruby-operator">-</span><span class="ruby-ivar">@image</span>)
312:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003630">
                    
                    <a name="M003630"></a><b>denominator</b>()
                    
                </div>
                
                <div class="description">
                  <p>
FIXME
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003630_source')" id="l_M003630_source">show</a>
                        
                    </p>
                    <div id="M003630_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 349</span>
349:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">denominator</span>
350:     <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">denominator</span>.<span class="ruby-identifier">lcm</span>(<span class="ruby-ivar">@image</span>.<span class="ruby-identifier">denominator</span>)
351:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003633">
                    
                    <a name="M003633"></a><b>hash</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash code for the complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003633_source')" id="l_M003633_source">show</a>
                        
                    </p>
                    <div id="M003633_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 392</span>
392:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
393:     <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">hash</span> <span class="ruby-operator">^</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">hash</span>
394:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003634">
                    
                    <a name="M003634"></a><b>inspect</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns &#8220;<tt>Complex(<em>real</em>, <em>image</em>)</tt>&#8220;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003634_source')" id="l_M003634_source">show</a>
                        
                    </p>
                    <div id="M003634_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 399</span>
399:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
400:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;Complex(%s, %s)&quot;</span>, <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">inspect</span>, <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">inspect</span>)
401:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003631">
                    
                    <a name="M003631"></a><b>numerator</b>()
                    
                </div>
                
                <div class="description">
                  <p>
FIXME
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003631_source')" id="l_M003631_source">show</a>
                        
                    </p>
                    <div id="M003631_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 356</span>
356:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">numerator</span>
357:     <span class="ruby-identifier">cd</span> = <span class="ruby-identifier">denominator</span>
358:     <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span>.<span class="ruby-identifier">numerator</span><span class="ruby-operator">*</span>(<span class="ruby-identifier">cd</span><span class="ruby-operator">/</span><span class="ruby-ivar">@real</span>.<span class="ruby-identifier">denominator</span>),
359:             <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">numerator</span><span class="ruby-operator">*</span>(<span class="ruby-identifier">cd</span><span class="ruby-operator">/</span><span class="ruby-ivar">@image</span>.<span class="ruby-identifier">denominator</span>))
360:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003624">
                    
                    <a name="M003624"></a><b>polar</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the absolute value <em>and</em> the argument.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003624_source')" id="l_M003624_source">show</a>
                        
                    </p>
                    <div id="M003624_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 303</span>
303:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">polar</span>
304:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">abs</span>, <span class="ruby-identifier">arg</span>
305:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003617">
                    
                    <a name="M003617"></a><b>quo</b>(other)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003617_source')" id="l_M003617_source">show</a>
                        
                    </p>
                    <div id="M003617_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 199</span>
199:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quo</span>(<span class="ruby-identifier">other</span>)
200:     <span class="ruby-constant">Complex</span>(<span class="ruby-ivar">@real</span>.<span class="ruby-identifier">quo</span>(<span class="ruby-value">1</span>), <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">quo</span>(<span class="ruby-value">1</span>)) <span class="ruby-operator">/</span> <span class="ruby-identifier">other</span>
201:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003632">
                    
                    <a name="M003632"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Standard string representation of the complex number.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003632_source')" id="l_M003632_source">show</a>
                        
                    </p>
                    <div id="M003632_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/complex.rb, line 365</span>
365:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
366:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@real</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
367:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">Rational</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Rational</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">denominator</span> <span class="ruby-operator">!=</span> <span class="ruby-value">1</span>
368:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@image</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span>
369:           <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;+(&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@image</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;)i&quot;</span>
370:         <span class="ruby-keyword kw">else</span>
371:           <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;-(&quot;</span><span class="ruby-operator">+</span>(<span class="ruby-operator">-</span><span class="ruby-ivar">@image</span>).<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;)i&quot;</span>
372:         <span class="ruby-keyword kw">end</span>
373:       <span class="ruby-keyword kw">else</span>
374:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@image</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span>
375:           <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;+&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@image</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;i&quot;</span>
376:         <span class="ruby-keyword kw">else</span>
377:           <span class="ruby-ivar">@real</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;-&quot;</span><span class="ruby-operator">+</span>(<span class="ruby-operator">-</span><span class="ruby-ivar">@image</span>).<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;i&quot;</span>
378:         <span class="ruby-keyword kw">end</span>
379:       <span class="ruby-keyword kw">end</span>
380:     <span class="ruby-keyword kw">else</span>
381:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">Rational</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Rational</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">denominator</span> <span class="ruby-operator">!=</span> <span class="ruby-value">1</span>
382:         <span class="ruby-value str">&quot;(&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@image</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;)i&quot;</span>
383:       <span class="ruby-keyword kw">else</span>
384:         <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;i&quot;</span>
385:       <span class="ruby-keyword kw">end</span>
386:     <span class="ruby-keyword kw">end</span>
387:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    