<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Regexp</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Regexp 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/re_c.html">re.c</a></li>
            
            <li><a href="../files/lib/eregex_rb.html">lib/eregex.rb</a></li>
            
            <li><a href="../files/lib/yaml/rubytypes_rb.html">lib/yaml/rubytypes.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
A <tt>Regexp</tt> holds a regular expression, used to match a pattern
against strings. Regexps are created using the <tt>/.../</tt> and
<tt>%r{...}</tt> literals, and by the <tt>Regexp::new</tt> constructor.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M001241">&</a>,</li>
                
                <li><a href="#M000481">==</a>,</li>
                
                <li><a href="#M000483">===</a>,</li>
                
                <li><a href="#M000482">=~</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000489">casefold?</a>,</li>
                
                <li><a href="#M000472">compile</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000480">eql?</a>,</li>
                
                <li><a href="#M000474">escape</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000479">hash</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000487">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>K</dt>
        <dd>
            <ul>
                
                <li><a href="#M000491">kcode</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000476">last_match</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000485">match</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000477">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000490">options</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M000473">quote</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000488">source</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000486">to_s</a>,</li>
                
                <li><a href="#M006080">to_yaml</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000475">union</a></li>
                
            </ul>
        </dd>
    
        <dt>Y</dt>
        <dd>
            <ul>
                
                <li><a href="#M006079">yaml_new</a></li>
                
            </ul>
        </dd>
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M001240">|</a>,</li>
                
                <li><a href="#M000484">~</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">IGNORECASE</td>
            <td>=</td>
            <td class="attr-value">INT2FIX(RE_OPTION_IGNORECASE)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">EXTENDED</td>
            <td>=</td>
            <td class="attr-value">INT2FIX(RE_OPTION_EXTENDED)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">MULTILINE</td>
            <td>=</td>
            <td class="attr-value">INT2FIX(RE_OPTION_MULTILINE)</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000472">
                    
                    <a name="M000472"></a><b>compile</b>(...)
                    
                </div>
                
                <div class="description">
                  <p>
Synonym for <tt><a href="Regexp.html#M000477">Regexp.new</a></tt>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000474">
                    
                    <a name="M000474"></a><b>Regexp.escape(str)   => a_str
Regexp.quote(str)    => a_str
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Escapes any characters that would have special meaning in a regular
expression. Returns a new escaped string, or self if no characters are
escaped. For any string, <tt><a
href="Regexp.html#M000474">Regexp.escape</a>(<em>str</em>)=~<em>str</em></tt>
will be true.
</p>
<pre>
   Regexp.escape('\\*?{}.')   #=&gt; \\\\\*\?\{\}\.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000474_source')" id="l_M000474_source">show</a>
                        
                    </p>
                    <div id="M000474_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_s_quote(argc, argv)
    int argc;
    VALUE *argv;
{
    VALUE str, kcode;
    int kcode_saved = reg_kcode;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;kcode);
    if (!NIL_P(kcode)) {
        rb_set_kcode(StringValuePtr(kcode));
        curr_kcode = reg_kcode;
        reg_kcode = kcode_saved;
    }
    StringValue(str);
    str = rb_reg_quote(str);
    rb_kcode_reset_option();
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000476">
                    
                    <a name="M000476"></a><b>Regexp.last_match           => matchdata
Regexp.last_match(fixnum)   => str
</b>
                    
                </div>
                
                <div class="description">
                  <p>
The first form returns the <tt>MatchData</tt> object generated by the last
successful pattern match. Equivalent to reading the global variable
<tt>$~</tt>. The second form returns the nth field in this
<tt>MatchData</tt> object.
</p>
<pre>
   /c(.)t/ =~ 'cat'       #=&gt; 0
   Regexp.last_match      #=&gt; #&lt;MatchData:0x401b3d30&gt;
   Regexp.last_match(0)   #=&gt; &quot;cat&quot;
   Regexp.last_match(1)   #=&gt; &quot;a&quot;
   Regexp.last_match(2)   #=&gt; nil
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000476_source')" id="l_M000476_source">show</a>
                        
                    </p>
                    <div id="M000476_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_s_last_match(argc, argv)
    int argc;
    VALUE *argv;
{
    VALUE nth;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;nth) == 1) {
        return rb_reg_nth_match(NUM2INT(nth), rb_backref_get());
    }
    return match_getter();
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000477">
                    
                    <a name="M000477"></a><b>Regexp.new(string [, options [, lang]])       => regexp
Regexp.new(regexp)                            => regexp
Regexp.compile(string [, options [, lang]])   => regexp
Regexp.compile(regexp)                        => regexp
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Constructs a new regular expression from <em>pattern</em>, which can be
either a <tt>String</tt> or a <tt>Regexp</tt> (in which case that
regexp&#8217;s options are propagated, and new options may not be specified
(a change as of Ruby 1.8). If <em>options</em> is a <tt>Fixnum</tt>, it
should be one or more of the constants <tt>Regexp::EXTENDED</tt>,
<tt>Regexp::IGNORECASE</tt>, and <tt>Regexp::MULTILINE</tt>, <em>or</em>-ed
together. Otherwise, if <em>options</em> is not <tt>nil</tt>, the regexp
will be case insensitive. The <em>lang</em> parameter enables multibyte
support for the regexp: `n&#8217;, `N&#8217; = none, `e&#8217;, `E&#8217; =
EUC, `s&#8217;, `S&#8217; = SJIS, `u&#8217;, `U&#8217; = UTF-8.
</p>
<pre>
   r1 = Regexp.new('^a-z+:\\s+\w+')           #=&gt; /^a-z+:\s+\w+/
   r2 = Regexp.new('cat', true)               #=&gt; /cat/i
   r3 = Regexp.new('dog', Regexp::EXTENDED)   #=&gt; /dog/x
   r4 = Regexp.new(r2)                        #=&gt; /cat/i
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000477_source')" id="l_M000477_source">show</a>
                        
                    </p>
                    <div id="M000477_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_initialize_m(argc, argv, self)
    int argc;
    VALUE *argv;
    VALUE self;
{
    const char *s;
    long len;
    int flags = 0;

    if (argc == 0 || argc &gt; 3) {
        rb_raise(rb_eArgError, &quot;wrong number of arguments&quot;);
    }
    if (TYPE(argv[0]) == T_REGEXP) {
        if (argc &gt; 1) {
            rb_warn(&quot;flags%s ignored&quot;, (argc == 3) ? &quot; and encoding&quot;: &quot;&quot;);
        }
        rb_reg_check(argv[0]);
        flags = RREGEXP(argv[0])-&gt;ptr-&gt;options &amp; 0xf;
        if (FL_TEST(argv[0], KCODE_FIXED)) {
            switch (RBASIC(argv[0])-&gt;flags &amp; KCODE_MASK) {
              case KCODE_NONE:
                flags |= 16;
                break;
              case KCODE_EUC:
                flags |= 32;
                break;
              case KCODE_SJIS:
                flags |= 48;
                break;
              case KCODE_UTF8:
                flags |= 64;
                break;
              default:
                break;
            }
        }
        s = RREGEXP(argv[0])-&gt;str;
        len = RREGEXP(argv[0])-&gt;len;
    }
    else {
        if (argc &gt;= 2) {
            if (FIXNUM_P(argv[1])) flags = FIX2INT(argv[1]);
            else if (RTEST(argv[1])) flags = RE_OPTION_IGNORECASE;
        }
        if (argc == 3 &amp;&amp; !NIL_P(argv[2])) {
            char *kcode = StringValuePtr(argv[2]);

            flags &amp;= ~0x70;
            switch (kcode[0]) {
              case 'n': case 'N':
                flags |= 16;
                break;
              case 'e': case 'E':
                flags |= 32;
                break;
              case 's': case 'S':
                flags |= 48;
                break;
              case 'u': case 'U':
                flags |= 64;
                break;
              default:
                break;
            }
        }
        s = StringValuePtr(argv[0]);
        len = RSTRING(argv[0])-&gt;len;
    }
    rb_reg_initialize(self, s, len, flags);
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000473">
                    
                    <a name="M000473"></a><b>Regexp.escape(str)   => a_str
Regexp.quote(str)    => a_str
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Escapes any characters that would have special meaning in a regular
expression. Returns a new escaped string, or self if no characters are
escaped. For any string, <tt><a
href="Regexp.html#M000474">Regexp.escape</a>(<em>str</em>)=~<em>str</em></tt>
will be true.
</p>
<pre>
   Regexp.escape('\\*?{}.')   #=&gt; \\\\\*\?\{\}\.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000473_source')" id="l_M000473_source">show</a>
                        
                    </p>
                    <div id="M000473_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_s_quote(argc, argv)
    int argc;
    VALUE *argv;
{
    VALUE str, kcode;
    int kcode_saved = reg_kcode;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;kcode);
    if (!NIL_P(kcode)) {
        rb_set_kcode(StringValuePtr(kcode));
        curr_kcode = reg_kcode;
        reg_kcode = kcode_saved;
    }
    StringValue(str);
    str = rb_reg_quote(str);
    rb_kcode_reset_option();
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000475">
                    
                    <a name="M000475"></a><b>Regexp.union(pat1, pat2, ...)            => new_regexp
Regexp.union(pats_ary)                   => new_regexp
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return a <tt>Regexp</tt> object that is the union of the given
<em>pattern</em>s, i.e., will match any of its parts. The <em>pattern</em>s
can be <a href="Regexp.html">Regexp</a> objects, in which case their
options will be preserved, or Strings. If no patterns are given, returns
<tt>/(?!)/</tt>.
</p>
<pre>
   Regexp.union                         #=&gt; /(?!)/
   Regexp.union(&quot;penzance&quot;)             #=&gt; /penzance/
   Regexp.union(&quot;a+b*c&quot;)                #=&gt; /a\+b\*c/
   Regexp.union(&quot;skiing&quot;, &quot;sledding&quot;)   #=&gt; /skiing|sledding/
   Regexp.union([&quot;skiing&quot;, &quot;sledding&quot;]) #=&gt; /skiing|sledding/
   Regexp.union(/dogs/, /cats/i)        #=&gt; /(?-mix:dogs)|(?i-mx:cats)/
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000475_source')" id="l_M000475_source">show</a>
                        
                    </p>
                    <div id="M000475_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_s_union_m(VALUE self, VALUE args)
{
    VALUE v;
    if (RARRAY_LEN(args) == 1 &amp;&amp;
        !NIL_P(v = rb_check_array_type(rb_ary_entry(args, 0)))) {
        return rb_reg_s_union(self, v);
    }
    return rb_reg_s_union(self, args);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006079">
                    
                    <a name="M006079"></a><b>yaml_new</b>( klass, tag, val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006079_source')" id="l_M006079_source">show</a>
                        
                    </p>
                    <div id="M006079_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/rubytypes.rb, line 255</span>
255:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">yaml_new</span>( <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-identifier">val</span> )
256:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\/(.*)\/([mix]*)$/</span>
257:             <span class="ruby-identifier">val</span> = { <span class="ruby-value str">'regexp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$1</span>, <span class="ruby-value str">'mods'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$2</span> }
258:         <span class="ruby-keyword kw">end</span>
259:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
260:             <span class="ruby-identifier">mods</span> = <span class="ruby-keyword kw">nil</span>
261:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">val</span>[<span class="ruby-value str">'mods'</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">empty?</span>
262:                 <span class="ruby-identifier">mods</span> = <span class="ruby-value">0x00</span>
263:                 <span class="ruby-identifier">mods</span> <span class="ruby-operator">|=</span> <span class="ruby-constant">Regexp</span><span class="ruby-operator">::</span><span class="ruby-constant">EXTENDED</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>[<span class="ruby-value str">'mods'</span>].<span class="ruby-identifier">include?</span>( <span class="ruby-value str">'x'</span> )
264:                 <span class="ruby-identifier">mods</span> <span class="ruby-operator">|=</span> <span class="ruby-constant">Regexp</span><span class="ruby-operator">::</span><span class="ruby-constant">IGNORECASE</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>[<span class="ruby-value str">'mods'</span>].<span class="ruby-identifier">include?</span>( <span class="ruby-value str">'i'</span> )
265:                 <span class="ruby-identifier">mods</span> <span class="ruby-operator">|=</span> <span class="ruby-constant">Regexp</span><span class="ruby-operator">::</span><span class="ruby-constant">MULTILINE</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>[<span class="ruby-value str">'mods'</span>].<span class="ruby-identifier">include?</span>( <span class="ruby-value str">'m'</span> )
266:             <span class="ruby-keyword kw">end</span>
267:             <span class="ruby-identifier">val</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value str">'mods'</span> )
268:             <span class="ruby-identifier">r</span> = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">object_maker</span>( <span class="ruby-identifier">klass</span>, {} )
269:             <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">:initialize</span>).
270:                   <span class="ruby-identifier">bind</span>(<span class="ruby-identifier">r</span>).
271:                   <span class="ruby-identifier">call</span>( <span class="ruby-identifier">val</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-value str">'regexp'</span> ), <span class="ruby-identifier">mods</span> )
272:             <span class="ruby-identifier">val</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">instance_variable_set</span>( <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> ) }
273:             <span class="ruby-identifier">r</span>
274:         <span class="ruby-keyword kw">else</span>
275:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeError</span>, <span class="ruby-value str">&quot;Invalid Regular expression: &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">inspect</span>
276:         <span class="ruby-keyword kw">end</span>
277:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001241">
                    
                    <a name="M001241"></a><b>&amp;</b>(other)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001241_source')" id="l_M001241_source">show</a>
                        
                    </p>
                    <div id="M001241_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/eregex.rb, line 29</span>
29:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&amp;</span>(<span class="ruby-identifier">other</span>)
30:     <span class="ruby-constant">RegAnd</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">other</span>)
31:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000481">
                    
                    <a name="M000481"></a><b>rxp == other_rxp      => true or false
rxp.eql?(other_rxp)   => true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Equality&#8212;Two regexps are equal if their patterns are identical, they
have the same character set code, and their <tt>casefold?</tt> values are
the same.
</p>
<pre>
   /abc/  == /abc/x   #=&gt; false
   /abc/  == /abc/i   #=&gt; false
   /abc/u == /abc/n   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000481_source')" id="l_M000481_source">show</a>
                        
                    </p>
                    <div id="M000481_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_equal(re1, re2)
    VALUE re1, re2;
{
    if (re1 == re2) return Qtrue;
    if (TYPE(re2) != T_REGEXP) return Qfalse;
    rb_reg_check(re1); rb_reg_check(re2);
    if (RREGEXP(re1)-&gt;len != RREGEXP(re2)-&gt;len) return Qfalse;
    if (memcmp(RREGEXP(re1)-&gt;str, RREGEXP(re2)-&gt;str, RREGEXP(re1)-&gt;len) == 0 &amp;&amp;
        rb_reg_cur_kcode(re1) == rb_reg_cur_kcode(re2) &amp;&amp;
        RREGEXP(re1)-&gt;ptr-&gt;options == RREGEXP(re2)-&gt;ptr-&gt;options) {
        return Qtrue;
    }
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000483">
                    
                    <a name="M000483"></a><b>rxp === str   => true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Case Equality&#8212;Synonym for <tt>Regexp#=~</tt> used in case statements.
</p>
<pre>
   a = &quot;HELLO&quot;
   case a
   when /^[a-z]*$/; print &quot;Lower case\n&quot;
   when /^[A-Z]*$/; print &quot;Upper case\n&quot;
   else;            print &quot;Mixed case\n&quot;
   end
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   Upper case
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000483_source')" id="l_M000483_source">show</a>
                        
                    </p>
                    <div id="M000483_source" class="dyn-source">
                        <pre>VALUE
rb_reg_eqq(re, str)
    VALUE re, str;
{
    long start;

    if (TYPE(str) != T_STRING) {
        str = rb_check_string_type(str);
        if (NIL_P(str)) {
            rb_backref_set(Qnil);
            return Qfalse;
        }
    }
    StringValue(str);
    start = rb_reg_search(re, str, 0, 0);
    if (start &lt; 0) {
        return Qfalse;
    }
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000482">
                    
                    <a name="M000482"></a><b>rxp.match(str)   => matchdata or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <tt>MatchData</tt> object describing the match, or <tt>nil</tt>
if there was no match. This is equivalent to retrieving the value of the
special variable <tt>$~</tt> following a normal match.
</p>
<pre>
   /(.)(.)(.)/.match(&quot;abc&quot;)[2]   #=&gt; &quot;b&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000482_source')" id="l_M000482_source">show</a>
                        
                    </p>
                    <div id="M000482_source" class="dyn-source">
                        <pre>VALUE
rb_reg_match(re, str)
    VALUE re, str;
{
    long start;

    if (NIL_P(str)) {
        rb_backref_set(Qnil);
        return Qnil;
    }
    StringValue(str);
    start = rb_reg_search(re, str, 0, 0);
    if (start &lt; 0) {
        return Qnil;
    }
    return LONG2FIX(start);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000489">
                    
                    <a name="M000489"></a><b>rxp.casefold?   => true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of the case-insensitive flag.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000489_source')" id="l_M000489_source">show</a>
                        
                    </p>
                    <div id="M000489_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_casefold_p(re)
    VALUE re;
{
    rb_reg_check(re);
    if (RREGEXP(re)-&gt;ptr-&gt;options &amp; RE_OPTION_IGNORECASE) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000480">
                    
                    <a name="M000480"></a><b>rxp == other_rxp      => true or false
rxp.eql?(other_rxp)   => true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Equality&#8212;Two regexps are equal if their patterns are identical, they
have the same character set code, and their <tt>casefold?</tt> values are
the same.
</p>
<pre>
   /abc/  == /abc/x   #=&gt; false
   /abc/  == /abc/i   #=&gt; false
   /abc/u == /abc/n   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000480_source')" id="l_M000480_source">show</a>
                        
                    </p>
                    <div id="M000480_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_equal(re1, re2)
    VALUE re1, re2;
{
    if (re1 == re2) return Qtrue;
    if (TYPE(re2) != T_REGEXP) return Qfalse;
    rb_reg_check(re1); rb_reg_check(re2);
    if (RREGEXP(re1)-&gt;len != RREGEXP(re2)-&gt;len) return Qfalse;
    if (memcmp(RREGEXP(re1)-&gt;str, RREGEXP(re2)-&gt;str, RREGEXP(re1)-&gt;len) == 0 &amp;&amp;
        rb_reg_cur_kcode(re1) == rb_reg_cur_kcode(re2) &amp;&amp;
        RREGEXP(re1)-&gt;ptr-&gt;options == RREGEXP(re2)-&gt;ptr-&gt;options) {
        return Qtrue;
    }
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000479">
                    
                    <a name="M000479"></a><b>rxp.hash   => fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Produce a hash based on the text and options of this regular expression.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000479_source')" id="l_M000479_source">show</a>
                        
                    </p>
                    <div id="M000479_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_hash(re)
    VALUE re;
{
    int hashval, len;
    char *p;

    rb_reg_check(re);
    hashval = RREGEXP(re)-&gt;ptr-&gt;options;
    len = RREGEXP(re)-&gt;len;
    p  = RREGEXP(re)-&gt;str;
    while (len--) {
        hashval = hashval * 33 + *p++;
    }
    hashval = hashval + (hashval&gt;&gt;5);
    
    return INT2FIX(hashval);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000487">
                    
                    <a name="M000487"></a><b>rxp.inspect   => string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Produce a nicely formatted string-version of <em>rxp</em>. Perhaps
surprisingly, <tt><a href="Regexp.html#M000487">inspect</a></tt> actually
produces the more natural version of the string than <tt><a
href="Regexp.html#M000486">to_s</a></tt>.
</p>
<pre>
    /ab+c/ix.to_s         #=&gt; /ab+c/ix
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000487_source')" id="l_M000487_source">show</a>
                        
                    </p>
                    <div id="M000487_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_inspect(re)
    VALUE re;
{
    rb_reg_check(re);
    return rb_reg_desc(RREGEXP(re)-&gt;str, RREGEXP(re)-&gt;len, re);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000491">
                    
                    <a name="M000491"></a><b>rxp.kcode   => str
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the character set code for the regexp.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000491_source')" id="l_M000491_source">show</a>
                        
                    </p>
                    <div id="M000491_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_kcode_m(re)
    VALUE re;
{
    const char *kcode;

    if (FL_TEST(re, KCODE_FIXED)) {
        switch (RBASIC(re)-&gt;flags &amp; KCODE_MASK) {
          case KCODE_NONE:
            kcode = &quot;none&quot;; break;
          case KCODE_EUC:
            kcode = &quot;euc&quot;; break;
          case KCODE_SJIS:
            kcode = &quot;sjis&quot;; break;
          case KCODE_UTF8:
            kcode = &quot;utf8&quot;; break;
          default:
            rb_bug(&quot;unknown kcode - should not happen&quot;);
            break;
        }
        return rb_str_new2(kcode);
    }
    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000485">
                    
                    <a name="M000485"></a><b>rxp.match(str)   => matchdata or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <tt>MatchData</tt> object describing the match, or <tt>nil</tt>
if there was no match. This is equivalent to retrieving the value of the
special variable <tt>$~</tt> following a normal match.
</p>
<pre>
   /(.)(.)(.)/.match(&quot;abc&quot;)[2]   #=&gt; &quot;b&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000485_source')" id="l_M000485_source">show</a>
                        
                    </p>
                    <div id="M000485_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_match_m(re, str)
    VALUE re, str;
{
    VALUE result = rb_reg_match(re, str);

    if (NIL_P(result)) return Qnil;
    result = rb_backref_get();
    rb_match_busy(result);
    return result;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000490">
                    
                    <a name="M000490"></a><b>rxp.options   => fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the set of bits corresponding to the options used when creating
this <a href="Regexp.html">Regexp</a> (see <tt>Regexp::new</tt> for
details. Note that additional bits may be set in the returned options:
these are used internally by the regular expression code. These extra bits
are ignored if the options are passed to <tt>Regexp::new</tt>.
</p>
<pre>
   Regexp::IGNORECASE                  #=&gt; 1
   Regexp::EXTENDED                    #=&gt; 2
   Regexp::MULTILINE                   #=&gt; 4

   /cat/.options                       #=&gt; 128
   /cat/ix.options                     #=&gt; 131
   Regexp.new('cat', true).options     #=&gt; 129
   Regexp.new('cat', 0, 's').options   #=&gt; 384

   r = /cat/ix
   Regexp.new(r.source, r.options)     #=&gt; /cat/ix
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000490_source')" id="l_M000490_source">show</a>
                        
                    </p>
                    <div id="M000490_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_options_m(re)
    VALUE re;
{
    int options = rb_reg_options(re);
    return INT2NUM(options);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000488">
                    
                    <a name="M000488"></a><b>rxp.source   => str
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the original string of the pattern.
</p>
<pre>
   /ab+c/ix.source   #=&gt; &quot;ab+c&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000488_source')" id="l_M000488_source">show</a>
                        
                    </p>
                    <div id="M000488_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_source(re)
    VALUE re;
{
    VALUE str;

    rb_reg_check(re);
    str = rb_str_new(RREGEXP(re)-&gt;str,RREGEXP(re)-&gt;len);
    if (OBJ_TAINTED(re)) OBJ_TAINT(str);
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000486">
                    
                    <a name="M000486"></a><b>rxp.to_s   => str
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string containing the regular expression and its options (using
the <tt>(?xxx:yyy)</tt> notation. This string can be fed back in to
<tt>Regexp::new</tt> to a regular expression with the same semantics as the
original. (However, <tt>Regexp#==</tt> may not return true when comparing
the two, as the source of the regular expression itself may differ, as the
example shows). <tt><a href="Regexp.html#M000487">Regexp#inspect</a></tt>
produces a generally more readable version of <em>rxp</em>.
</p>
<pre>
   r1 = /ab+c/ix         #=&gt; /ab+c/ix
   s1 = r1.to_s          #=&gt; &quot;(?ix-m:ab+c)&quot;
   r2 = Regexp.new(s1)   #=&gt; /(?ix-m:ab+c)/
   r1 == r2              #=&gt; false
   r1.source             #=&gt; &quot;ab+c&quot;
   r2.source             #=&gt; &quot;(?ix-m:ab+c)&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000486_source')" id="l_M000486_source">show</a>
                        
                    </p>
                    <div id="M000486_source" class="dyn-source">
                        <pre>static VALUE
rb_reg_to_s(re)
    VALUE re;
{
    int options;
    const int embeddable = RE_OPTION_MULTILINE|RE_OPTION_IGNORECASE|RE_OPTION_EXTENDED;
    long len;
    const char* ptr;
    VALUE str = rb_str_buf_new2(&quot;(?&quot;);

    rb_reg_check(re);

    options = RREGEXP(re)-&gt;ptr-&gt;options;
    ptr = RREGEXP(re)-&gt;str;
    len = RREGEXP(re)-&gt;len;
  again:
    if (len &gt;= 4 &amp;&amp; ptr[0] == '(' &amp;&amp; ptr[1] == '?') {
        int err = 1;
        ptr += 2;
        if ((len -= 2) &gt; 0) {
            do {
                if (*ptr == 'm') {
                    options |= RE_OPTION_MULTILINE;
                }
                else if (*ptr == 'i') {
                    options |= RE_OPTION_IGNORECASE;
                }
                else if (*ptr == 'x') {
                    options |= RE_OPTION_EXTENDED;
                }
                else break;
                ++ptr;
            } while (--len &gt; 0);
        }
        if (len &gt; 1 &amp;&amp; *ptr == '-') {
            ++ptr;
            --len;
            do {
                if (*ptr == 'm') {
                    options &amp;= ~RE_OPTION_MULTILINE;
                }
                else if (*ptr == 'i') {
                    options &amp;= ~RE_OPTION_IGNORECASE;
                }
                else if (*ptr == 'x') {
                    options &amp;= ~RE_OPTION_EXTENDED;
                }
                else break;
                ++ptr;
            } while (--len &gt; 0);
        }
        if (*ptr == ')') {
            --len;
            ++ptr;
            goto again;
        }
        if (*ptr == ':' &amp;&amp; ptr[len-1] == ')') {
            Regexp *rp;
            rb_kcode_set_option(re);
            rp = ALLOC(Regexp);
            MEMZERO((char *)rp, Regexp, 1);
            err = re_compile_pattern(++ptr, len -= 2, rp) != 0;
            rb_kcode_reset_option();
            re_free_pattern(rp);
        }
        if (err) {
            options = RREGEXP(re)-&gt;ptr-&gt;options;
            ptr = RREGEXP(re)-&gt;str;
            len = RREGEXP(re)-&gt;len;
        }
    }

    if (options &amp; RE_OPTION_MULTILINE) rb_str_buf_cat2(str, &quot;m&quot;);
    if (options &amp; RE_OPTION_IGNORECASE) rb_str_buf_cat2(str, &quot;i&quot;);
    if (options &amp; RE_OPTION_EXTENDED) rb_str_buf_cat2(str, &quot;x&quot;);

    if ((options &amp; embeddable) != embeddable) {
        rb_str_buf_cat2(str, &quot;-&quot;);
        if (!(options &amp; RE_OPTION_MULTILINE)) rb_str_buf_cat2(str, &quot;m&quot;);
        if (!(options &amp; RE_OPTION_IGNORECASE)) rb_str_buf_cat2(str, &quot;i&quot;);
        if (!(options &amp; RE_OPTION_EXTENDED)) rb_str_buf_cat2(str, &quot;x&quot;);
    }

    rb_str_buf_cat2(str, &quot;:&quot;);
    rb_reg_expr_str(str, ptr, len);
    rb_str_buf_cat2(str, &quot;)&quot;);

    OBJ_INFECT(str, re);
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006080">
                    
                    <a name="M006080"></a><b>to_yaml</b>( opts = {} )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006080_source')" id="l_M006080_source">show</a>
                        
                    </p>
                    <div id="M006080_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/rubytypes.rb, line 278</span>
278:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_yaml</span>( <span class="ruby-identifier">opts</span> = {} )
279:                 <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">quick_emit</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">opts</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">out</span><span class="ruby-operator">|</span>
280:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_yaml_properties</span>.<span class="ruby-identifier">empty?</span>
281:                 <span class="ruby-identifier">out</span>.<span class="ruby-identifier">scalar</span>( <span class="ruby-identifier">taguri</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inspect</span>, <span class="ruby-identifier">:plain</span> )
282:             <span class="ruby-keyword kw">else</span>
283:                 <span class="ruby-identifier">out</span>.<span class="ruby-identifier">map</span>( <span class="ruby-identifier">taguri</span>, <span class="ruby-identifier">to_yaml_style</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
284:                     <span class="ruby-identifier">src</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inspect</span>
285:                     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">src</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\A\/(.*)\/([a-z]*)\Z/</span>
286:                         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">add</span>( <span class="ruby-value str">'regexp'</span>, <span class="ruby-identifier">$1</span> )
287:                         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">add</span>( <span class="ruby-value str">'mods'</span>, <span class="ruby-identifier">$2</span> )
288:                     <span class="ruby-keyword kw">else</span>
289:                                 <span class="ruby-identifier">raise</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeError</span>, <span class="ruby-value str">&quot;Invalid Regular expression: &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">src</span>
290:                     <span class="ruby-keyword kw">end</span>
291:                     <span class="ruby-identifier">to_yaml_properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
292:                         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">add</span>( <span class="ruby-identifier">m</span>, <span class="ruby-identifier">instance_variable_get</span>( <span class="ruby-identifier">m</span> ) )
293:                     <span class="ruby-keyword kw">end</span>
294:                 <span class="ruby-keyword kw">end</span>
295:             <span class="ruby-keyword kw">end</span>
296:         <span class="ruby-keyword kw">end</span>
297:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001240">
                    
                    <a name="M001240"></a><b>|</b>(other)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001240_source')" id="l_M001240_source">show</a>
                        
                    </p>
                    <div id="M001240_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/eregex.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">|</span>(<span class="ruby-identifier">other</span>)
27:     <span class="ruby-constant">RegOr</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">other</span>)
28:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000484">
                    
                    <a name="M000484"></a><b>~ rxp   => integer or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Match&#8212;Matches <em>rxp</em> against the contents of <tt>$_</tt>.
Equivalent to <tt><em>rxp</em> =~ $_</tt>.
</p>
<pre>
   $_ = &quot;input data&quot;
   ~ /at/   #=&gt; 7
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000484_source')" id="l_M000484_source">show</a>
                        
                    </p>
                    <div id="M000484_source" class="dyn-source">
                        <pre>VALUE
rb_reg_match2(re)
    VALUE re;
{
    long start;
    VALUE line = rb_lastline_get();

    if (TYPE(line) != T_STRING) {
        rb_backref_set(Qnil);
        return Qnil;
    }

    start = rb_reg_search(re, line, 0, 0);
    if (start &lt; 0) {
        return Qnil;
    }
    return LONG2FIX(start);
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    